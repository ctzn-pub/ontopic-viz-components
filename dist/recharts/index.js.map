{"version":3,"sources":["../../src/recharts/timeseries.line.v1.tsx","../../src/recharts/TimeSeriesChart.tsx","../../src/recharts/AbortionOpinionChart.tsx","../../src/recharts/stat.demographic_bar.v1.tsx","../../src/recharts/ScatterplotRegression.tsx","../../src/recharts/LineChart.tsx","../../src/lib/utils.ts","../../src/ui/button.tsx","../../src/recharts/TimeSeries.tsx","../../src/recharts/TimeSeriesIndex.tsx","../../src/recharts/DualAxisChart.tsx","../../src/ui/label.tsx","../../src/ui/switch.tsx","../../src/recharts/TimeTrendDemoChart.tsx","../../src/ui/tabs.tsx","../../src/recharts/DemographicLineChart.tsx","../../src/recharts/DemographicDotPlot.tsx","../../src/ui/input.tsx","../../src/recharts/bar.state.v1.tsx","../../src/recharts/HealthScatterplot.tsx","../../src/utils/statistical-utils.ts","../../src/recharts/HistogramRecharts.tsx","../../src/recharts/ViolinPlot.tsx"],"names":["jsx","jsxs","ResponsiveContainer","LineChart","CartesianGrid","XAxis","YAxis","metadata","Tooltip","Line","ErrorBar","TimeSeriesChart","useState","React","data","BarChart","Legend","Bar","RechartsBarChart","ComposedChart","ZAxis","Area","ReferenceLine","Scatter","r","useRef","useEffect","Plot","twMerge","clsx","cva","Slot","useTheme","useMemo","recessionPeriods","Brush","ReferenceArea","TimeRangeButton","LabelPrimitive","SwitchPrimitive","Text","TabsPrimitive","Users","GraduationCap","UserCircle2","DollarSign","Palette","domains","categoryReference","defaultCategoryInfo","getCategoryInfo","ScatterChart","ArrowUpDown","Fragment","ChevronUp","ChevronDown","Plot2","mean","Cell"],"mappings":"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","file":"index.js","sourcesContent":["'use client';\n\n\nimport {\n  LineChart,\n  Line,\n  XAxis,\n  YAxis,\n  Tooltip,\n  ResponsiveContainer,\n  ErrorBar,\n  CartesianGrid,\n} from 'recharts';\n\ninterface DataPoint {\n  year: string;\n  value: number;\n  ci_lower?: number;\n  ci_upper?: number;\n  n_actual?: number;\n  standard_error?: number;\n}\n\ninterface DataPointMetadataItem {\n  id: string;\n  name: string;\n  type: string;\n  units?: string;\n  value_prefix?: Record<string, string>;\n  value_suffix?: string;\n  categories?: string[];\n  var_original?: string;\n  label_original?: Record<string, string>;\n}\n\ninterface TimeSeriesMetadata {\n  note?: string;\n  type: string;\n  title: string;\n  subtitle: string;\n  source: {\n    id: string;\n    name: string;\n  };\n  question?: string;\n  years_n?: number;\n  year_min?: number;\n  year_max?: number;\n}\n\ninterface TimeSeriesChartProps {\n  data: DataPoint[];\n  metadata: TimeSeriesMetadata;\n  dataPointMetadata: DataPointMetadataItem[];\n}\n\nexport default function TimeSeriesChart({\n  data,\n  metadata,\n  dataPointMetadata,\n}: TimeSeriesChartProps) {\n  \n\n  // Convert year to a numerical value\n  const numericData = data.map((d) => ({\n    ...d,\n    year: parseInt(d.year, 10), // Convert year to number\n  }));\n\n  // Extract metadata for \"value\" field\n  const valueMetadata = dataPointMetadata.find((d) => d.id === 'value');\n\n \n\n  // Check for duplicate years\n  const dataYears = numericData.map((d) => d.year);\n  const uniqueYears = new Set(dataYears);\n  \n  if (dataYears.length !== uniqueYears.size) {\n    console.warn('Duplicate years found in the data prop!');\n\n    return <div>Error: Duplicate years detected in the dataset.</div>;\n  }\n\n  // Determine min and max years for the domain\n  const minYear = Math.min(...numericData.map((d) => d.year));\n  const maxYear = Math.max(...numericData.map((d) => d.year));\n\n  \n   // Custom tooltip component\n   const CustomTooltip = ({ active, payload, label }: any) => {\n     if (!active || !payload || !payload.length) return null;\n\n     const dataPoint = payload[0].payload;\n\n     return (\n       <div className=\"bg-white p-3 border border-gray-200 shadow-lg rounded-lg\">\n         <p className=\"font-medium\">{`Year: ${label}`}</p>\n         <p className=\"text-blue-600\">\n           {`${valueMetadata?.name}: ${dataPoint.value.toFixed(1)}${valueMetadata?.value_suffix || ''}`}\n         </p>\n         {dataPoint.ci_lower && dataPoint.ci_upper && (\n           <p className=\"text-gray-600 text-sm\">\n             {`95% CI: [${dataPoint.ci_lower.toFixed(1)}, ${dataPoint.ci_upper.toFixed(1)}]${valueMetadata?.value_suffix || ''}`}\n           </p>\n         )}\n         {dataPoint.n_actual && (\n           <p className=\"text-gray-600 text-sm\">\n             {`N: ${dataPoint.n_actual.toLocaleString()}`}\n           </p>\n         )}\n       </div>\n     );\n   };\n\n   return (\n     <div className=\"w-full\">\n       <div className=\"mb-2\">\n         <h2 className=\"text-2xl font-bold mb-1\">{metadata.title}</h2>\n         <p className=\"text-gray-600 mb-2\">{metadata.subtitle}</p>\n       </div>\n\n       <div className=\"w-full h-[400px]\">\n         <ResponsiveContainer width=\"100%\" height=\"100%\">\n         <LineChart\n             data={numericData}\n             margin={{\n               top: 20,\n               right: 30,\n               left: 20,\n               bottom: 20,\n             }}\n           >\n             <CartesianGrid strokeDasharray=\"3 3\" vertical={false} />\n\n             <XAxis\n               dataKey=\"year\"\n               type=\"number\" \n               domain={[minYear , maxYear ]}\n               tickCount={(maxYear - minYear) / 2}\n               tickFormatter={(value) => value.toString()}\n               padding={{ left: 20, right: 20 }}\n               tick={{ fontSize: 12 }}\n             />\n\n             <YAxis\ntickFormatter={(value) => {\n  const metadata = dataPointMetadata.find(d => d.id === 'value');\n\n  const prefix = (typeof metadata?.value_prefix === 'string')\n    ? metadata.value_prefix\n    : '';\n\n  const suffix = (typeof metadata?.value_suffix === 'string')\n    ? metadata.value_suffix\n    : '';\n\n  const num = Number(value);\n\n  let formattedValue: string;\n\n  if (num >= 1_000_000_000) {\n    formattedValue = (num / 1_000_000_000).toFixed(1).replace(/\\.0$/, '') + 'B';\n  } else if (num >= 1_000_000) {\n    formattedValue = (num / 1_000_000).toFixed(1).replace(/\\.0$/, '') + 'M';\n  } else if (num >= 1_000) {\n    formattedValue = (num / 1_000).toFixed(1).replace(/\\.0$/, '') + 'k';\n  } else {\n    formattedValue = num.toLocaleString(); // fallback for smaller numbers\n  }\n\n  return `${prefix}${formattedValue}${suffix}`;\n}}\n\n               domain={['auto', 'auto']} \n               axisLine={false}\n               tickLine={false}\n             />\n\n             {/* Tooltip */}\n             <Tooltip content={<CustomTooltip />} />\n\n             {/* Line for \"value\" */}\n             <Line\n               key=\"value-line\"\n               type=\"linear\"\n               dataKey=\"value\"\n               stroke=\"#000000\"\n               strokeWidth={1.5}\n               dot={{ r: 3, fill: \"#000000\" }} \n               activeDot={{ r: 5 }} \n               isAnimationActive={false} \n             >\n               {/* Error bars for confidence intervals */}\n               <ErrorBar\n                 dataKey={(d: DataPoint) =>\n                   d.standard_error ? (1.96 * d.standard_error) : 0\n                 }\n                 stroke=\"#000000\"\n                 strokeWidth={1}\n                 width={4}\n                 name=\"confidence-intervals\"\n               />\n             </Line>\n           </LineChart>\n         </ResponsiveContainer>\n\n         {/* Source information */}\n         <div className=\"mb-2\">\n         <p className=\"text-sm text-gray-400\">\n           Source: {metadata.source.name}\n         </p>\n         </div>\n\n       </div>\n     </div>\n   );\n}\n","'use client';\n\n\nimport {\n  LineChart,\n  Line,\n  XAxis,\n  YAxis,\n  Tooltip,\n  ResponsiveContainer,\n  ErrorBar,\n  CartesianGrid,\n} from 'recharts';\n\ninterface DataPoint {\n  year: string;\n  value: number;\n  ci_lower?: number;\n  ci_upper?: number;\n  n_actual?: number;\n  standard_error?: number;\n}\n\ninterface DataPointMetadataItem {\n  id: string;\n  name: string;\n  type: string;\n  units?: string;\n  value_prefix?: Record<string, string>;\n  value_suffix?: string;\n  categories?: string[];\n  var_original?: string;\n  label_original?: Record<string, string>;\n}\n\ninterface TimeSeriesMetadata {\n  note?: string;\n  type: string;\n  title: string;\n  subtitle: string;\n  source: {\n    id: string;\n    name: string;\n  };\n  question?: string;\n  years_n?: number;\n  year_min?: number;\n  year_max?: number;\n}\n\ninterface TimeSeriesChartProps {\n  data: DataPoint[];\n  metadata: TimeSeriesMetadata;\n  dataPointMetadata: DataPointMetadataItem[];\n}\n\nexport default function TimeSeriesChart({\n  data,\n  metadata,\n  dataPointMetadata,\n}: TimeSeriesChartProps) {\n  \n\n  // Convert year to a numerical value\n  const numericData = data.map((d) => ({\n    ...d,\n    year: parseInt(d.year, 10), // Convert year to number\n  }));\n\n  // Extract metadata for \"value\" field\n  const valueMetadata = dataPointMetadata.find((d) => d.id === 'value');\n\n \n\n  // Check for duplicate years\n  const dataYears = numericData.map((d) => d.year);\n  const uniqueYears = new Set(dataYears);\n  \n  if (dataYears.length !== uniqueYears.size) {\n    console.warn('Duplicate years found in the data prop!');\n\n    return <div>Error: Duplicate years detected in the dataset.</div>;\n  }\n\n  // Determine min and max years for the domain\n  const minYear = Math.min(...numericData.map((d) => d.year));\n  const maxYear = Math.max(...numericData.map((d) => d.year));\n\n  \n   // Custom tooltip component\n   const CustomTooltip = ({ active, payload, label }: any) => {\n     if (!active || !payload || !payload.length) return null;\n\n     const dataPoint = payload[0].payload;\n\n     return (\n       <div className=\"bg-white p-3 border border-gray-200 shadow-lg rounded-lg\">\n         <p className=\"font-medium\">{`Year: ${label}`}</p>\n         <p className=\"text-blue-600\">\n           {`${valueMetadata?.name}: ${dataPoint.value.toFixed(1)}${valueMetadata?.value_suffix || ''}`}\n         </p>\n         {dataPoint.ci_lower && dataPoint.ci_upper && (\n           <p className=\"text-gray-600 text-sm\">\n             {`95% CI: [${dataPoint.ci_lower.toFixed(1)}, ${dataPoint.ci_upper.toFixed(1)}]${valueMetadata?.value_suffix || ''}`}\n           </p>\n         )}\n         {dataPoint.n_actual && (\n           <p className=\"text-gray-600 text-sm\">\n             {`N: ${dataPoint.n_actual.toLocaleString()}`}\n           </p>\n         )}\n       </div>\n     );\n   };\n\n   return (\n     <div className=\"w-full\">\n       <div className=\"mb-2\">\n         <h2 className=\"text-2xl font-bold mb-1\">{metadata.title}</h2>\n         <p className=\"text-gray-600 mb-2\">{metadata.subtitle}</p>\n       </div>\n\n       <div className=\"w-full h-[400px]\">\n         <ResponsiveContainer width=\"100%\" height=\"100%\">\n         <LineChart\n             data={numericData}\n             margin={{\n               top: 20,\n               right: 30,\n               left: 20,\n               bottom: 20,\n             }}\n           >\n             <CartesianGrid strokeDasharray=\"3 3\" vertical={false} />\n\n             <XAxis\n               dataKey=\"year\"\n               type=\"number\" \n               domain={[minYear , maxYear ]}\n               tickCount={(maxYear - minYear) / 2}\n               tickFormatter={(value) => value.toString()}\n               padding={{ left: 20, right: 20 }}\n               tick={{ fontSize: 12 }}\n             />\n\n             <YAxis\ntickFormatter={(value) => {\n  const metadata = dataPointMetadata.find(d => d.id === 'value');\n\n  const prefix = (typeof metadata?.value_prefix === 'string')\n    ? metadata.value_prefix\n    : '';\n\n  const suffix = (typeof metadata?.value_suffix === 'string')\n    ? metadata.value_suffix\n    : '';\n\n  const num = Number(value);\n\n  let formattedValue: string;\n\n  if (num >= 1_000_000_000) {\n    formattedValue = (num / 1_000_000_000).toFixed(1).replace(/\\.0$/, '') + 'B';\n  } else if (num >= 1_000_000) {\n    formattedValue = (num / 1_000_000).toFixed(1).replace(/\\.0$/, '') + 'M';\n  } else if (num >= 1_000) {\n    formattedValue = (num / 1_000).toFixed(1).replace(/\\.0$/, '') + 'k';\n  } else {\n    formattedValue = num.toLocaleString(); // fallback for smaller numbers\n  }\n\n  return `${prefix}${formattedValue}${suffix}`;\n}}\n\n               domain={['auto', 'auto']} \n               axisLine={false}\n               tickLine={false}\n             />\n\n             {/* Tooltip */}\n             <Tooltip content={<CustomTooltip />} />\n\n             {/* Line for \"value\" */}\n             <Line\n               key=\"value-line\"\n               type=\"linear\"\n               dataKey=\"value\"\n               stroke=\"#000000\"\n               strokeWidth={1.5}\n               dot={{ r: 3, fill: \"#000000\" }} \n               activeDot={{ r: 5 }} \n               isAnimationActive={false} \n             >\n               {/* Error bars for confidence intervals */}\n               <ErrorBar\n                 dataKey={(d: DataPoint) =>\n                   d.standard_error ? (1.96 * d.standard_error) : 0\n                 }\n                 stroke=\"#000000\"\n                 strokeWidth={1}\n                 width={4}\n                 name=\"confidence-intervals\"\n               />\n             </Line>\n           </LineChart>\n         </ResponsiveContainer>\n\n         {/* Source information */}\n         <div className=\"mb-2\">\n         <p className=\"text-sm text-gray-400\">\n           Source: {metadata.source.name}\n         </p>\n         </div>\n\n       </div>\n     </div>\n   );\n}\n","\"use client\";\n\nimport React, { useState } from \"react\";\nimport {\n  BarChart,\n  Bar,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  Legend,\n  ResponsiveContainer,\n  ErrorBar,\n  Cell,\n} from \"recharts\";\n\ninterface DataPoint {\n  Race: string;\n  value: number;\n  ci_lower: number;\n  ci_upper: number;\n  n_actual: number;\n  Education: string;\n  Census_Region: string;\n  standard_error: number;\n}\n\ninterface Metadata {\n  note: string;\n  type: string;\n  title: string;\n  source: {\n    id: string;\n    name: string;\n  };\n  question: string;\n  subtitle: string;\n}\n\ninterface DataPointMetadata {\n  id: string;\n  name: string;\n  type: string;\n  categories?: string[];\n  units?: string;\n  value_suffix?: string;\n  value_prefix?: string;\n}\n\ninterface ChartData {\n  metadata: Metadata;\n  dataPoints: DataPoint[];\n  dataPointMetadata: DataPointMetadata[];\n}\n\ninterface Props {\n  data: ChartData;\n}\n\nexport default function AbortionOpinionChart({ data }: Props) {\n  const [selectedRegion, setSelectedRegion] = useState<string>(\"All\");\n  const [selectedEducation, setSelectedEducation] = useState<string>(\"All\");\n\n  const { metadata, dataPoints, dataPointMetadata } = data;\n\n  // Extract categories from metadata\n  const regions = [\"All\", ...(dataPointMetadata.find(d => d.id === \"Census_Region\")?.categories || [])];\n  const educationLevels = [\"All\", ...(dataPointMetadata.find(d => d.id === \"Education\")?.categories || [])];\n  const races = dataPointMetadata.find(d => d.id === \"Race\")?.categories || [];\n\n  // Filter data based on selections\n  const filteredData = dataPoints.filter(point => {\n    const regionMatch = selectedRegion === \"All\" || point.Census_Region === selectedRegion;\n    const educationMatch = selectedEducation === \"All\" || point.Education === selectedEducation;\n    return regionMatch && educationMatch;\n  });\n\n  // Group data by region and education for visualization\n  const groupedData = React.useMemo(() => {\n    const groups: { [key: string]: any } = {};\n\n    filteredData.forEach(point => {\n      const key = `${point.Census_Region} - ${point.Education}`;\n      if (!groups[key]) {\n        groups[key] = {\n          name: key,\n          region: point.Census_Region,\n          education: point.Education,\n        };\n      }\n      groups[key][`${point.Race}`] = point.value;\n      groups[key][`${point.Race}_error`] = point.standard_error * 1.96; // 95% CI\n      groups[key][`${point.Race}_ci_lower`] = point.ci_lower;\n      groups[key][`${point.Race}_ci_upper`] = point.ci_upper;\n      groups[key][`${point.Race}_n`] = point.n_actual;\n    });\n\n    return Object.values(groups).sort((a, b) => {\n      // Sort by region first, then education\n      if (a.region !== b.region) {\n        return regions.indexOf(a.region) - regions.indexOf(b.region);\n      }\n      return educationLevels.indexOf(a.education) - educationLevels.indexOf(b.education);\n    });\n  }, [filteredData, regions, educationLevels]);\n\n  const CustomTooltip = ({ active, payload, label }: any) => {\n    if (!active || !payload?.length) return null;\n\n    const data = payload[0]?.payload;\n\n    return (\n      <div className=\"bg-white p-4 border border-gray-300 shadow-lg rounded-lg\">\n        <p className=\"font-semibold mb-2 text-sm\">{label}</p>\n        <div className=\"space-y-1\">\n          {races.map((race) => {\n            const value = data[race];\n            const ciLower = data[`${race}_ci_lower`];\n            const ciUpper = data[`${race}_ci_upper`];\n            const n = data[`${race}_n`];\n\n            if (value === undefined) return null;\n\n            return (\n              <div key={race} className=\"text-sm\">\n                <span className=\"font-medium\">{race}:</span>{\" \"}\n                <span className=\"font-semibold\">{value.toFixed(1)}%</span>\n                <div className=\"text-xs text-gray-600 ml-2\">\n                  95% CI: [{ciLower.toFixed(1)}%, {ciUpper.toFixed(1)}%]\n                </div>\n                <div className=\"text-xs text-gray-500 ml-2\">n = {n}</div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    );\n  };\n\n  const colors = {\n    White: \"#374151\",\n    Black: \"#9CA3AF\",\n  };\n\n  return (\n    <div className=\"w-full space-y-4\">\n      {/* Title and subtitle */}\n      <div className=\"space-y-2\">\n        <h2 className=\"text-2xl font-bold\">{metadata.title}</h2>\n        <p className=\"text-sm text-gray-600\">{metadata.subtitle}</p>\n        <p className=\"text-xs text-gray-500 italic\">{metadata.question}</p>\n      </div>\n\n      {/* Filters */}\n      <div className=\"flex gap-4 items-center flex-wrap\">\n        <div className=\"flex items-center gap-2\">\n          <label htmlFor=\"region\" className=\"text-sm font-medium\">\n            Region:\n          </label>\n          <select\n            id=\"region\"\n            value={selectedRegion}\n            onChange={(e) => setSelectedRegion(e.target.value)}\n            className=\"border border-gray-300 rounded px-3 py-1 text-sm\"\n          >\n            {regions.map((region) => (\n              <option key={region} value={region}>\n                {region}\n              </option>\n            ))}\n          </select>\n        </div>\n\n        <div className=\"flex items-center gap-2\">\n          <label htmlFor=\"education\" className=\"text-sm font-medium\">\n            Education:\n          </label>\n          <select\n            id=\"education\"\n            value={selectedEducation}\n            onChange={(e) => setSelectedEducation(e.target.value)}\n            className=\"border border-gray-300 rounded px-3 py-1 text-sm\"\n          >\n            {educationLevels.map((level) => (\n              <option key={level} value={level}>\n                {level}\n              </option>\n            ))}\n          </select>\n        </div>\n      </div>\n\n      {/* Chart */}\n      <div className=\"w-full\" style={{ height: Math.max(400, groupedData.length * 40) }}>\n        <ResponsiveContainer width=\"100%\" height=\"100%\">\n          <BarChart\n            data={groupedData}\n            layout=\"vertical\"\n            margin={{ top: 20, right: 30, left: 200, bottom: 20 }}\n          >\n            <CartesianGrid strokeDasharray=\"3 3\" horizontal={false} />\n            <XAxis\n              type=\"number\"\n              domain={[0, 100]}\n              tickFormatter={(value) => `${value}%`}\n              label={{ value: \"Support for Legal Abortion (%)\", position: \"bottom\", offset: 0 }}\n            />\n            <YAxis\n              dataKey=\"name\"\n              type=\"category\"\n              width={190}\n              tick={{ fontSize: 11 }}\n            />\n            <Tooltip content={<CustomTooltip />} />\n            <Legend />\n\n            {races.map((race) => (\n              <Bar\n                key={race}\n                dataKey={race}\n                fill={colors[race as keyof typeof colors] || \"#6B7280\"}\n                name={race}\n                isAnimationActive={false}\n              >\n                <ErrorBar\n                  dataKey={`${race}_error`}\n                  stroke=\"#000000\"\n                  strokeWidth={1}\n                  width={4}\n                />\n              </Bar>\n            ))}\n          </BarChart>\n        </ResponsiveContainer>\n      </div>\n\n      {/* Source and notes */}\n      <div className=\"text-xs text-gray-500 space-y-1 mt-4 border-t pt-4\">\n        <p>\n          <strong>Source:</strong> {metadata.source.name}\n        </p>\n        <p>\n          <strong>Note:</strong> {metadata.note}\n        </p>\n      </div>\n    </div>\n  );\n}\n","'use client';\n\nimport React from 'react';\nimport {\n  Bar,\n  BarChart as RechartsBarChart,\n  CartesianGrid,\n  XAxis,\n  YAxis,\n  Tooltip,\n  ErrorBar,\n  ResponsiveContainer\n} from 'recharts';\n\n/**\n * DemographicBarChart Component\n *\n * A Recharts-based bar chart for displaying demographic data with error bars.\n * Suitable for showing distributions across demographic categories with confidence intervals.\n *\n * @example\n * ```tsx\n * <DemographicBarChart\n *   data={[\n *     { category: '18-24', value: 45.2, errorLow: 2.1, errorHigh: 2.3 },\n *     { category: '25-34', value: 52.1, errorLow: 1.8, errorHigh: 1.9 }\n *   ]}\n *   categoryKey=\"category\"\n *   valueKey=\"value\"\n *   errorLowKey=\"errorLow\"\n *   errorHighKey=\"errorHigh\"\n * />\n * ```\n */\n\nexport interface DemographicBarChartProps {\n  /** Data array to visualize */\n  data: any[];\n\n  /** Field name for category labels (x-axis) */\n  categoryKey: string;\n\n  /** Field name for bar height values (y-axis) */\n  valueKey: string;\n\n  /** Field name for lower error values */\n  errorLowKey?: string;\n\n  /** Field name for upper error values */\n  errorHighKey?: string;\n\n  /** Chart title */\n  title?: string;\n\n  /** X-axis label */\n  xLabel?: string;\n\n  /** Y-axis label */\n  yLabel?: string;\n\n  /** Bar fill color */\n  fill?: string;\n\n  /** Error bar stroke color */\n  errorStroke?: string;\n\n  /** Error bar stroke width */\n  errorStrokeWidth?: number;\n\n  /** Chart width (default: responsive) */\n  width?: number | string;\n\n  /** Chart height in pixels */\n  height?: number;\n\n  /** Rotate x-axis labels (degrees) */\n  xTickRotate?: number;\n\n  /** X-axis tick font size */\n  xTickFontSize?: number;\n\n  /** Show grid lines */\n  showGrid?: boolean;\n\n  /** Additional CSS classes */\n  className?: string;\n}\n\nexport function DemographicBarChart({\n  data,\n  categoryKey,\n  valueKey,\n  errorLowKey,\n  errorHighKey,\n  title,\n  xLabel,\n  yLabel = 'Value (%)',\n  fill = '#8884d8',\n  errorStroke = '#666',\n  errorStrokeWidth = 2,\n  width = '100%',\n  height = 400,\n  xTickRotate = -45,\n  xTickFontSize = 10,\n  showGrid = true,\n  className = ''\n}: DemographicBarChartProps) {\n  if (!data || data.length === 0) {\n    return (\n      <div className={`p-6 text-center text-gray-500 ${className}`}>\n        No demographic data available\n      </div>\n    );\n  }\n\n  // Transform error data if provided as absolute values\n  const transformedData = data.map(item => {\n    const transformed: any = { ...item };\n\n    // If error keys are provided, create error array for ErrorBar\n    if (errorLowKey && errorHighKey) {\n      transformed.error = [item[errorLowKey], item[errorHighKey]];\n    }\n\n    return transformed;\n  });\n\n  return (\n    <div className={className}>\n      {title && <h3 className=\"text-lg font-semibold mb-4 text-center\">{title}</h3>}\n      <ResponsiveContainer width={width} height={height}>\n        <RechartsBarChart\n          data={transformedData}\n          margin={{ top: 20, right: 30, left: 20, bottom: 80 }}\n        >\n          {showGrid && <CartesianGrid strokeDasharray=\"3 3\" />}\n\n          <XAxis\n            dataKey={categoryKey}\n            label={xLabel ? { value: xLabel, position: 'insideBottom', offset: -70 } : undefined}\n            interval={0}\n            angle={xTickRotate}\n            textAnchor=\"end\"\n            height={100}\n            tick={{ fontSize: xTickFontSize }}\n          />\n\n          <YAxis\n            label={yLabel ? { value: yLabel, angle: -90, position: 'insideLeft' } : undefined}\n          />\n\n          <Tooltip />\n\n          <Bar dataKey={valueKey} fill={fill}>\n            {errorLowKey && errorHighKey && (\n              <ErrorBar\n                dataKey=\"error\"\n                stroke={errorStroke}\n                strokeWidth={errorStrokeWidth}\n              />\n            )}\n          </Bar>\n        </RechartsBarChart>\n      </ResponsiveContainer>\n    </div>\n  );\n}\n\nexport default DemographicBarChart;\n","import React from \"react\";\nimport {\n  ResponsiveContainer,\n  ComposedChart,\n  CartesianGrid,\n  XAxis,\n  YAxis,\n  Tooltip,\n  Scatter,\n  ZAxis,\n  ReferenceLine,\n  Area,\n  Line,\n} from \"recharts\";\n\n/** -----------------------------------------------------------\n *  Stats helpers (OLS, Pearson r, band)\n *  --------------------------------------------------------- */\nexport type XY = { x: number; y: number };\n\nexport function pearsonR(points: XY[]) {\n  const n = points.length;\n  if (n < 2) return NaN;\n  let sx = 0, sy = 0, sxx = 0, syy = 0, sxy = 0;\n  for (const { x, y } of points) {\n    sx += x; sy += y; sxx += x * x; syy += y * y; sxy += x * y;\n  }\n  const cov = sxy - (sx * sy) / n;\n  const vx = sxx - (sx * sx) / n;\n  const vy = syy - (sy * sy) / n;\n  if (vx <= 0 || vy <= 0) return NaN;\n  return cov / Math.sqrt(vx * vy);\n}\n\nexport function ols(points: XY[]) {\n  const n = points.length;\n  if (n < 2) return { b0: 0, b1: 0, se: NaN, xbar: NaN, sxx: NaN };\n\n  let sx = 0, sy = 0, sxx = 0, sxy = 0;\n  for (const { x, y } of points) {\n    sx += x; sy += y; sxx += x * x; sxy += x * y;\n  }\n  const denom = n * sxx - sx * sx;\n  const b1 = denom === 0 ? 0 : (n * sxy - sx * sy) / denom;\n  const b0 = (sy - b1 * sx) / n;\n\n  // Residual standard error (unbiased, n-2 df)\n  const sse = points.reduce((acc, p) => {\n    const yhat = b0 + b1 * p.x;\n    return acc + (p.y - yhat) ** 2;\n  }, 0);\n  const se = Math.sqrt(sse / Math.max(1, n - 2));\n\n  const xbar = sx / n;\n  const sxxCentered = points.reduce((a, p) => a + (p.x - xbar) ** 2, 0);\n\n  return { b0, b1, se, xbar, sxx: sxxCentered };\n}\n\n/** Build regression line and a 95% confidence band for the fitted mean. */\nfunction lineAndBand(points: XY[], xMin: number, xMax: number, steps = 120) {\n  const { b0, b1, se, xbar, sxx } = ols(points);\n  const xs: number[] = [];\n  for (let i = 0; i <= steps; i++) xs.push(xMin + (i * (xMax - xMin)) / steps);\n\n  // t* for ~95% CI with large-ish df (n-2). Keep it simple & robust.\n  const t = 2.0;\n\n  const rows = xs.map((x) => {\n    const y = b0 + b1 * x;\n    // SE of fitted mean y(x):  se * sqrt( 1/n + (x - x)^2 / Sxx )\n    const seFit =\n      isFinite(se) && isFinite(sxx) && sxx > 0 && points.length > 0\n        ? se * Math.sqrt(1 / points.length + ((x - xbar) ** 2) / sxx)\n        : NaN;\n    const yLow = isFinite(seFit) ? y - t * seFit : y;\n    const yHigh = isFinite(seFit) ? y + t * seFit : y;\n    return { x, y, band: [yLow, yHigh] as [number, number] };\n  });\n\n  return { line: rows.map(({ x, y }) => ({ x, y })), band: rows };\n}\n\n/** -----------------------------------------------------------\n *  Data prep\n *  --------------------------------------------------------- */\n\ntype RegionKey = \"Catholic\" | \"Protestant\" | \"Orthodox\" | \"Muslim\" | \"Other\";\n\nconst REGION_COLORS: Record<RegionKey, string> = {\n  Catholic: \"#facc15\",    // gold\n  Protestant: \"#52525b\",  // zinc-600\n  Orthodox: \"#3b82f6\",    // blue-500\n  Muslim: \"#ef4444\",      // red-500\n  Other: \"#22c55e\",       // green-500\n};\n\nfunction normalizeReligion(s: string | undefined): RegionKey {\n  const v = (s || \"\").toLowerCase();\n  if (v.includes(\"catholic\")) return \"Catholic\";\n  if (v.includes(\"protestant\")) return \"Protestant\";\n  if (v.includes(\"orthodox\")) return \"Orthodox\";\n  if (v.includes(\"muslim\") || v.includes(\"islam\")) return \"Muslim\";\n  return \"Other\";\n}\n\nexport type EssRow = {\n  cntry: string;\n  iso3?: string;\n  religion?: string;            // e.g., \"Roman Catholic\"\n  population?: number;          // millions\n  hdi?: number;                 // 01\n  gdp?: number;                 // PPP$ 2011\n  education?: number;           // mean years\n  [k: string]: any;             // possible \"happiness\" key\n};\n\nexport type CountryDatum = {\n  name: string;\n  region: RegionKey;\n  religion: string;\n  population_m: number;\n  happiness: number;            // 010\n  hdi?: number;\n  gdp?: number;\n  education?: number;\n};\n\nexport function prepareEssRows(\n  rows: EssRow[],\n  opts: { happinessKey?: string } = {}\n): CountryDatum[] {\n  const { happinessKey = \"happiness\" } = opts;\n\n  return rows.map((r) => {\n    const region = normalizeReligion(r.religion);\n    const happiness = Number(r[happinessKey]); // you control which column is passed in\n    return {\n      name: r.cntry,\n      religion: r.religion || region,\n      region,\n      population_m: Number(r.population ?? 0),\n      happiness: isFinite(happiness) ? happiness : NaN,\n      hdi: Number(r.hdi),\n      gdp: Number(r.gdp),\n      education: Number(r.education),\n    };\n  });\n}\n\n/** -----------------------------------------------------------\n *  UI helpers\n *  --------------------------------------------------------- */\n\nfunction fmtGDP(v: number) {\n  if (!isFinite(v)) return \"\";\n  if (Math.abs(v) >= 1000) return `${Math.round(v / 1000)}k`;\n  return `${v}`;\n}\nfunction fmtMillions(v: number) {\n  if (!isFinite(v)) return \"\";\n  // keep 1 decimal for < 10M else integer-ish\n  return v < 10 ? `${v.toFixed(1)} Million` : `${Math.round(v)} Million`;\n}\n\nconst BubbleTooltip = ({ active, payload, label, xLabel, xFmt }: any) => {\n  if (!active || !payload || !payload.length) return null;\n  const d = payload[0].payload;\n\n  return (\n    <div className=\"relative max-w-xs rounded-xl bg-white/95 p-3 shadow-xl ring-1 ring-black/5\">\n      {/* little pointer */}\n      <div\n        className=\"absolute -bottom-2 left-1/2 h-3 w-3 -translate-x-1/2 rotate-45 rounded-sm bg-white ring-1 ring-black/5\"\n        aria-hidden\n      />\n      <div className=\"text-base font-semibold\">{d.name}</div>\n      <div className=\"mt-1 text-sm leading-5\">\n        <div>\n          <span className=\"font-semibold\">{xLabel}:</span>{\" \"}\n          {xFmt ? xFmt(d.x) : d.x}\n        </div>\n        <div>\n          <span className=\"font-semibold\">Average Happiness:</span>{\" \"}\n          {isFinite(d.y) ? Number(d.y).toFixed(2) : \"\"}\n        </div>\n        {isFinite(d.population_m) && (\n          <div>\n            <span className=\"font-semibold\">Population:</span>{\" \"}\n            {fmtMillions(d.population_m)}\n          </div>\n        )}\n        <div className=\"flex items-center gap-1\">\n          <span className=\"font-semibold\">Religion:</span>\n          <span\n            className=\"inline-block h-2.5 w-2.5 rounded-full\"\n            style={{ background: d.fill }}\n          />\n          <span>{d.religion}</span>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n/** -----------------------------------------------------------\n *  Section (single chart)\n *  --------------------------------------------------------- */\n\ntype SectionProps = {\n  title: string;\n  xKey: keyof CountryDatum;           // 'hdi' | 'gdp' | 'education'\n  xLabel: string;\n  xDomain: [number, number];\n  xTickFmt?: (v: number) => string;\n  data: CountryDatum[];\n};\n\nfunction Section({ title, xKey, xLabel, xDomain, xTickFmt, data }: SectionProps) {\n  // Debug happiness values\n  if (title.includes(\"Human Development\") && data.length > 0) {\n    console.log(`${title} - Sample happiness values:`,\n      data.slice(0, 5).map(d => `${d.name}: ${d.happiness}`)\n    );\n  }\n\n  // Filter & project to points\n  const points: XY[] = data\n    .filter((d) => Number.isFinite(d[xKey] as number) && Number.isFinite(d.happiness))\n    .map((d) => ({ x: Number(d[xKey] as number), y: Number(d.happiness) }));\n\n  const r = pearsonR(points);\n  const [xMin, xMax] = xDomain;\n  const { line, band } = lineAndBand(points, xMin, xMax, 100);\n\n  // Recharts expects each scatter row to carry x/y/z + your other fields\n  const scatterData = data.map((d) => {\n    const x = Number(d[xKey] as number);\n    const y = Number(d.happiness);\n    return {\n      ...d,\n      x,\n      y,\n      // bubble area ~ sqrt(pop) -> visually closer to population without extreme skew\n      z: isFinite(d.population_m) ? Math.max(24, Math.sqrt(d.population_m) * 4) : 24,\n      fill: REGION_COLORS[d.region] || \"#8884d8\",\n    };\n  });\n\n  return (\n    <div className=\"flex flex-col\">\n      <div className=\"mb-1 text-lg md:text-xl font-semibold\">{title}</div>\n      <div className=\"h-[340px] w-full\">\n        <ResponsiveContainer>\n          <ComposedChart margin={{ top: 8, right: 18, bottom: 8, left: 8 }}>\n            <CartesianGrid strokeDasharray=\"3 3\" />\n            <XAxis\n              type=\"number\"\n              dataKey=\"x\"\n              domain={xDomain}\n              tickFormatter={xTickFmt}\n              label={{ value: xLabel, position: \"insideBottom\", offset: -2 }}\n            />\n            <YAxis\n              type=\"number\"\n              domain={['dataMin - 0.5', 'dataMax + 0.5']}\n              label={{ value: \"Average Happiness\", angle: -90, position: \"insideLeft\" }}\n            />\n            <ZAxis dataKey=\"z\" range={[50, 240]} />\n\n            {/* Confidence band (as in BandedChart) */}\n            <Area\n              type=\"monotone\"\n              data={band}\n              dataKey=\"band\"                                    // [low, high]\n              stroke=\"none\"\n              fill=\"#94a3b8\"                                   // slate-400\n              fillOpacity={0.22}\n              isAnimationActive={false}\n            />\n\n            {/* Line of best fit */}\n            <Line\n              type=\"monotone\"\n              data={line}\n              dataKey=\"y\"\n              dot={false}\n              stroke=\"#475569\"                                  // slate-600\n              strokeWidth={2}\n              isAnimationActive={false}\n            />\n\n            {/* A light guide at 7 like the mock */}\n            <ReferenceLine y={7} stroke=\"#cbd5e1\" strokeDasharray=\"4 4\" />\n\n            {/* Bubbles */}\n            <Scatter\n              data={scatterData}\n              dataKey=\"y\"\n              shape={(props: any) => {\n                const { cx, cy, payload, size } = props;\n                // Recharts passes 'size' scaled by <ZAxis range>; treat it as area.\n                const r = Math.sqrt(Math.max(0, size) / Math.PI);\n                return (\n                  <circle\n                    cx={cx}\n                    cy={cy}\n                    r={r}\n                    fill={payload.fill}\n                    fillOpacity={0.9}\n                    stroke=\"#334155\"\n                    strokeOpacity={0.35}\n                  />\n                );\n              }}\n            />\n\n            <Tooltip\n              cursor={{ strokeDasharray: \"3 3\" }}\n              content={\n                // We pass the axis label and formatter so the tooltip can render the x-value correctly.\n                <BubbleTooltip xLabel={xLabel} xFmt={xTickFmt} /> as any\n              }\n              wrapperStyle={{ outline: \"none\" }}\n            />\n          </ComposedChart>\n        </ResponsiveContainer>\n      </div>\n      <div className=\"mt-1 text-xs text-violet-700\">\n        Correlation: {isFinite(r) ? r.toFixed(2) : \"\"}\n      </div>\n    </div>\n  );\n}\n\n/** -----------------------------------------------------------\n *  Legend\n *  --------------------------------------------------------- */\nfunction RegionLegend() {\n  const items = (Object.keys(REGION_COLORS) as RegionKey[]).map((k) => [k, REGION_COLORS[k]] as const);\n  return (\n    <div className=\"flex flex-wrap items-center gap-3 text-sm\">\n      {items.map(([label, color]) => (\n        <div key={label} className=\"flex items-center gap-1\">\n          <span className=\"inline-block h-3 w-3 rounded-full\" style={{ background: color }} />\n          <span>{label}</span>\n        </div>\n      ))}\n    </div>\n  );\n}\n\n/** -----------------------------------------------------------\n *  Main panel\n *  --------------------------------------------------------- */\n\ntype PanelProps = { data: CountryDatum[] };\n\n/**\n * Expect `data` shaped like `CountryDatum[]`.\n * If you're piping raw rows from the attached Excel, call `prepareEssRows(rows, { happinessKey: 'happiness' })`\n * where `happiness` is the column in your prepared dataset that contains 010 averages.\n */\nexport default function HappinessCorrelatesPanel({ data }: PanelProps) {\n  const dataset = data ?? [];\n\n  return (\n    <div className=\"w-full p-4 md:p-6\">\n      <div className=\"grid items-start gap-8 md:grid-cols-3\">\n        <Section\n          title=\"Human Development Index\"\n          xKey=\"hdi\"\n          xLabel=\"HDI\"\n          xDomain={[0.5, 1.0]}\n          data={dataset}\n        />\n        <Section\n          title=\"GDP per capita (2011 PPP$)\"\n          xKey=\"gdp\"\n          xLabel=\"GDP per capita (2011 PPP$)\"\n          xDomain={[3000, 55000]}\n          xTickFmt={fmtGDP}\n          data={dataset}\n        />\n        <Section\n          title=\"Mean Year of Schooling\"\n          xKey=\"education\"\n          xLabel=\"Mean Years of Schooling\"\n          xDomain={[8, 14]}\n          data={dataset}\n        />\n      </div>\n\n      <div className=\"mt-5\">\n        <RegionLegend />\n      </div>\n    </div>\n  );\n}\n","'use client';\n\nimport React, { useRef, useEffect, useMemo } from 'react';\nimport * as Plot from \"@observablehq/plot\";\n\ninterface LineChartProps {\n  data?: any[];\n}\n\nconst LineChart: React.FC<LineChartProps> = ({ data = [] }) => {\n  const basicRef = useRef<HTMLDivElement>(null);\n  const errorBarsRef = useRef<HTMLDivElement>(null);\n\n  // Embed the marijuana trend data directly for now\n  const marijuanaData = [\n    { year: 1975, value: 33.766, ci_lower: 29.2359, ci_upper: 38.296, demo_level_title: \"Rarely\" },\n    { year: 1980, value: 39.9999, ci_lower: 33.8308, ci_upper: 46.169, demo_level_title: \"Rarely\" },\n    { year: 1990, value: 28.1103, ci_lower: 21.4728, ci_upper: 34.7478, demo_level_title: \"Rarely\" },\n    { year: 1998, value: 44.4119, ci_lower: 40.0516, ci_upper: 48.7722, demo_level_title: \"Rarely\" },\n    { year: 2008, value: 51.5992, ci_lower: 46.3518, ci_upper: 56.8467, demo_level_title: \"Rarely\" },\n    { year: 2014, value: 68.025, ci_lower: 64.1351, ci_upper: 71.915, demo_level_title: \"Rarely\" },\n    { year: 2018, value: 75.4005, ci_lower: 71.0312, ci_upper: 79.7699, demo_level_title: \"Rarely\" },\n    { year: 2022, value: 82.1393, ci_lower: 78.1238, ci_upper: 86.1548, demo_level_title: \"Rarely\" },\n\n    { year: 1975, value: 27.8498, ci_lower: 23.4259, ci_upper: 32.2738, demo_level_title: \"Sometimes\" },\n    { year: 1980, value: 26.5497, ci_lower: 21.1635, ci_upper: 31.9359, demo_level_title: \"Sometimes\" },\n    { year: 1990, value: 12.051, ci_lower: 7.6668, ci_upper: 16.4351, demo_level_title: \"Sometimes\" },\n    { year: 1998, value: 25.4621, ci_lower: 20.8151, ci_upper: 30.1091, demo_level_title: \"Sometimes\" },\n    { year: 2008, value: 33.1419, ci_lower: 28.3581, ci_upper: 37.9257, demo_level_title: \"Sometimes\" },\n    { year: 2014, value: 56.069, ci_lower: 50.063, ci_upper: 62.075, demo_level_title: \"Sometimes\" },\n    { year: 2018, value: 63.5873, ci_lower: 57.5489, ci_upper: 69.6256, demo_level_title: \"Sometimes\" },\n    { year: 2022, value: 73.1045, ci_lower: 66.0019, ci_upper: 80.2071, demo_level_title: \"Sometimes\" },\n\n    { year: 1975, value: 9.4417, ci_lower: 6.5779, ci_upper: 12.3055, demo_level_title: \"Weekly\" },\n    { year: 1980, value: 14.9472, ci_lower: 10.4098, ci_upper: 19.4845, demo_level_title: \"Weekly\" },\n    { year: 1990, value: 11.088, ci_lower: 5.5125, ci_upper: 16.6635, demo_level_title: \"Weekly\" },\n    { year: 1998, value: 11.4878, ci_lower: 8.6407, ci_upper: 14.335, demo_level_title: \"Weekly\" },\n    { year: 2008, value: 24.4865, ci_lower: 19.6032, ci_upper: 29.3699, demo_level_title: \"Weekly\" },\n    { year: 2014, value: 34.5205, ci_lower: 30.212, ci_upper: 38.829, demo_level_title: \"Weekly\" },\n    { year: 2018, value: 41.1593, ci_lower: 34.6969, ci_upper: 47.6217, demo_level_title: \"Weekly\" },\n    { year: 2022, value: 44.1575, ci_lower: 33.6355, ci_upper: 54.6796, demo_level_title: \"Weekly\" }\n  ];\n\n  const metadata = {\n    title: \"Trends in Opinion on Marijuana Legalization, by Church Attendance\",\n    subtitle: \"% of US Population Who Support Marijuana Legalization, by Year and Church Attendance\",\n    source: { name: \"General Social Survey, United States, 1972 - 2022; 38312 Observations\" },\n    domain: [\"Rarely\", \"Sometimes\", \"Weekly\"]\n  };\n\n  // Custom colors matching the original design\n  const customColors = [\n    \"#525252\", // Dark Grey for Rarely\n    \"#D3D3D3\", // Light Grey for Sometimes\n    \"#6A0DAD\"  // Deep Purple for Weekly\n  ];\n\n  useEffect(() => {\n    if (!marijuanaData || marijuanaData.length === 0) return;\n\n    // Clear existing plots\n    if (basicRef.current) basicRef.current.innerHTML = '';\n    if (errorBarsRef.current) errorBarsRef.current.innerHTML = '';\n\n    console.log('Rendering charts with data:', marijuanaData.length, 'points');\n\n    try {\n      // Basic line chart without error bars\n      const basicPlot = Plot.plot({\n        title: \"Marijuana Legalization Support by Church Attendance\",\n        subtitle: \"Trends from 1975-2022 (clean view)\",\n        style: {\n          backgroundColor: \"white\",\n          fontFamily: \"sans-serif\",\n        },\n        x: {\n          label: \"Year\",\n          domain: [1975, 2022],\n          tickFormat: \".0f\",\n          grid: true\n        },\n        y: {\n          label: \"% Supporting Marijuana Legalization\",\n          grid: true,\n          domain: [0, 90]\n        },\n        color: {\n          legend: true,\n          domain: metadata.domain,\n          range: customColors\n        },\n        marks: [\n          Plot.lineY(marijuanaData, {\n            x: \"year\",\n            y: \"value\",\n            stroke: \"demo_level_title\",\n            strokeWidth: 2.5,\n            tip: true\n          }),\n          Plot.dot(marijuanaData, {\n            x: \"year\",\n            y: \"value\",\n            fill: \"demo_level_title\",\n            stroke: \"white\",\n            strokeWidth: 1.5,\n            r: 3,\n            tip: true\n          })\n        ],\n        width: 700,\n        height: 400,\n        marginLeft: 80\n      });\n\n      // Line chart with error bars\n      const errorBarsPlot = Plot.plot({\n        title: metadata.title,\n        subtitle: metadata.subtitle,\n        caption: `Source: ${metadata.source.name}`,\n        style: {\n          backgroundColor: \"white\",\n          fontFamily: \"sans-serif\",\n        },\n        x: {\n          label: \"Year\",\n          domain: [1975, 2022],\n          tickFormat: \".0f\",\n          grid: true\n        },\n        y: {\n          label: \"% Supporting Marijuana Legalization\",\n          grid: true,\n          domain: [0, 90]\n        },\n        color: {\n          legend: true,\n          domain: metadata.domain,\n          range: customColors\n        },\n        marks: [\n          // Confidence interval error bars (vertical lines at each data point)\n          Plot.ruleX(marijuanaData, {\n            x: \"year\",\n            y1: \"ci_lower\",\n            y2: \"ci_upper\",\n            stroke: \"demo_level_title\",\n            strokeWidth: 1.5,\n            strokeOpacity: 0.7\n          }),\n          // Main trend lines\n          Plot.lineY(marijuanaData, {\n            x: \"year\",\n            y: \"value\",\n            stroke: \"demo_level_title\",\n            strokeWidth: 2.5,\n            tip: true\n          }),\n          // Data points\n          Plot.dot(marijuanaData, {\n            x: \"year\",\n            y: \"value\",\n            fill: \"demo_level_title\",\n            stroke: \"white\",\n            strokeWidth: 1.5,\n            r: 3.5,\n            tip: true\n          })\n        ],\n        width: 800,\n        height: 350,\n        marginLeft: 80\n      });\n\n      // Append plots\n      if (basicRef.current) {\n        basicRef.current.appendChild(basicPlot);\n        console.log('Basic plot appended');\n      }\n      if (errorBarsRef.current) {\n        errorBarsRef.current.appendChild(errorBarsPlot);\n        console.log('Error bars plot appended');\n      }\n\n      // Cleanup function\n      return () => {\n        basicPlot?.remove();\n        errorBarsPlot?.remove();\n      };\n    } catch (error) {\n      console.error('Error rendering plots:', error);\n    }\n  }, []);\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"mb-6\">\n        <p className=\"text-gray-600\">\n          Analysis of public opinion on marijuana legalization from the General Social Survey (1975-2022).\n          Shows how attitudes vary by church attendance frequency, with confidence intervals showing statistical uncertainty.\n        </p>\n      </div>\n\n      <div className=\"border rounded-lg p-6\">\n        <div className=\"mb-4\">\n          <h3 className=\"text-lg font-semibold\">Basic Trend Lines</h3>\n          <p className=\"text-sm text-gray-600\">\n            Clean line chart showing support trends by church attendance frequency\n          </p>\n        </div>\n        <div>\n          <div ref={basicRef} className=\"flex justify-center\" style={{ minHeight: '400px' }} />\n          <p className=\"text-sm text-gray-600 mt-4\">\n            This simplified view shows the clear trend patterns: those who rarely attend church show the highest and fastest-growing support,\n            while those who attend weekly show the lowest but steadily increasing support over time.\n          </p>\n        </div>\n      </div>\n\n      <div className=\"border rounded-lg p-6\">\n        <div className=\"mb-4\">\n          <h3 className=\"text-lg font-semibold\">Trends with Error Bars</h3>\n          <p className=\"text-sm text-gray-600\">\n            Complete analysis including confidence intervals showing statistical uncertainty\n          </p>\n        </div>\n        <div>\n          <div ref={errorBarsRef} className=\"flex justify-center\" style={{ minHeight: '400px' }} />\n          <p className=\"text-sm text-gray-600 mt-4\">\n            The error bars show 95% confidence intervals around each estimate. Larger error bars indicate greater statistical uncertainty,\n            often due to smaller sample sizes. This matches the original Observable Framework visualization design.\n          </p>\n        </div>\n      </div>\n\n      <div className=\"mt-6 p-4 bg-gray-50 rounded-lg\">\n        <h3 className=\"font-semibold mb-2\">Key Findings</h3>\n        <div className=\"grid md:grid-cols-3 gap-4 text-sm\">\n          <div>\n            <h4 className=\"font-medium\">Rarely Attend Church</h4>\n            <ul className=\"list-disc list-inside text-gray-600 space-y-1\">\n              <li>Highest support levels (82% by 2022)</li>\n              <li>Steady upward trend since 1990s</li>\n              <li>Largest absolute increase over time</li>\n              <li>Generally narrower confidence intervals</li>\n            </ul>\n          </div>\n          <div>\n            <h4 className=\"font-medium\">Sometimes Attend</h4>\n            <ul className=\"list-disc list-inside text-gray-600 space-y-1\">\n              <li>Moderate support levels (73% by 2022)</li>\n              <li>Similar upward trajectory</li>\n              <li>More volatile in earlier years</li>\n              <li>Intermediate between other groups</li>\n            </ul>\n          </div>\n          <div>\n            <h4 className=\"font-medium\">Weekly Church Attendance</h4>\n            <ul className=\"list-disc list-inside text-gray-600 space-y-1\">\n              <li>Lowest support but growing (44% by 2022)</li>\n              <li>Accelerated growth since 2000s</li>\n              <li>Largest relative percentage increase</li>\n              <li>Shows cultural shift even among religious</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default LineChart;","import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n","import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"../lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n","'use client' \nimport React, { useState, useEffect, useMemo } from 'react';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, ReferenceLine, ReferenceArea, Brush } from 'recharts';\nimport { Button } from '../ui/button';\nimport { TrendingUp, TrendingDown, Grid3X3 } from 'lucide-react';\nimport { useTheme } from 'next-themes';\n\ninterface TimeRangeButtonProps {\n  active: boolean;\n  onClick: () => void;\n  children: React.ReactNode;\n}\n\ninterface DataPoint {\n  date: string;\n  value: number;\n  percentChange: number;\n}\n\ninterface TimeSeriesProps {\n  data: {\n    id: string;\n    title: string;\n    short_title?: string | null;\n    units: string;\n    observations: Array<{\n      date: string;\n      value: string;\n    }>;\n  };\n}\n\ninterface TooltipProps {\n  active?: boolean;\n  payload?: Array<{ payload: DataPoint }>;\n  label?: string;\n}\n\ninterface Stats {\n  avg: string;\n  max: string;\n  min: string;\n  trend: number;\n}\n\ntype TimeRangeType = '1Y' | '2Y' | '5Y' | 'MAX';\n\nconst TimeRangeButton: React.FC<TimeRangeButtonProps> = ({ active, onClick, children }) => (\n  <Button\n    variant={active ? 'default' : 'outline'}\n    size=\"sm\"\n    onClick={onClick}\n  >\n    {children}\n  </Button>\n);\n\nconst formatValue = (value: number): string => {\n  return value.toLocaleString('en-US');\n};\n\nconst calculatePercentChange = (current: number, previous: number): number => {\n  return ((current - previous) / previous) * 100;\n};\n\nconst calculateYearOverYear = (data: DataPoint[]): number | null => {\n  if (data.length < 12) return null;\n  const current = data[data.length - 1].value;\n  const yearAgo = data[data.length - 12].value;\n  return calculatePercentChange(current, yearAgo);\n};\n\nconst calculate3MonthAverage = (data: DataPoint[]): string | null => {\n  if (data.length < 3) return null;\n  const last3Months = data.slice(-3);\n  const average = last3Months.reduce((sum, point) => sum + point.value, 0) / 3;\n  return average.toFixed(1);\n};\n\nconst calculateStats = (data: DataPoint[]): Stats => {\n  if (!data.length) return { avg: '0', max: '0', min: '0', trend: 0 };\n  \n  const values = data.map((d) => d.value);\n  const firstValue = values[0];\n  const lastValue = values[values.length - 1];\n  const trend = calculatePercentChange(lastValue, firstValue);\n\n  return {\n    avg: (values.reduce((a, b) => a + b, 0) / values.length).toFixed(1),\n    max: Math.max(...values).toFixed(1),\n    min: Math.min(...values).toFixed(1),\n    trend\n  };\n};\n\nconst TimeSeries: React.FC<TimeSeriesProps> = ({ data }) => {\n  const [showRecessions, setShowRecessions] = useState(true);\n  const { theme } = useTheme();\n\n  const processedData = useMemo(() => {\n    return data.observations.map((item, index, arr) => {\n      const value = parseFloat(item.value);\n      const previousValue = index > 0 ? parseFloat(arr[index - 1].value) : value;\n      return {\n        date: item.date,\n        value: value,\n        percentChange: calculatePercentChange(value, previousValue)\n      };\n    });\n  }, [data]);\n\n  const filteredData = processedData;\n  const stats = calculateStats(filteredData);\n  const currentValue = filteredData[filteredData.length - 1]?.value || 0;\n\n  const recessionPeriods = [\n    { start: '2020-02-01', end: '2020-04-01' },\n    { start: '2007-12-01', end: '2009-06-01' },\n    { start: '2001-03-01', end: '2001-11-01' },\n    { start: '1990-07-01', end: '1991-03-01' },\n    { start: '1981-07-01', end: '1982-11-01' },\n    { start: '1980-01-01', end: '1980-07-01' },\n    { start: '1973-11-01', end: '1975-03-01' },\n    { start: '1969-12-01', end: '1970-11-01' },\n    { start: '1960-04-01', end: '1961-02-01' },\n    { start: '1957-08-01', end: '1958-04-01' },\n    { start: '1953-07-01', end: '1954-05-01' },\n    { start: '1948-11-01', end: '1949-10-01' },\n    { start: '1945-02-01', end: '1945-10-01' },\n  ];\n\n  const formatDate = (date: string) => {\n    return new Date(date).toLocaleDateString('en-US', {\n      year: '2-digit',\n      month: 'short',\n    });\n  };\n\n  const CustomTooltip: React.FC<TooltipProps> = ({ active, payload, label }) => {\n    if (!active || !payload?.length) return null;\n\n    const data = payload[0].payload;\n    const date = new Date(label || '').toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'long',\n    });\n    const value = formatValue(data.value);\n    const percentChange = data.percentChange.toFixed(1);\n    const color =\n      data.percentChange > 0\n        ? 'text-green-500'\n        : data.percentChange < 0\n        ? 'text-red-500'\n        : 'text-gray-500';\n\n    return (\n      <div className=\"bg-popover/80 backdrop-blur p-2 rounded-lg border shadow-lg\">\n        <div className=\"text-sm font-medium\">{date}</div>\n        <div className=\"text-lg font-bold\">{value}</div>\n        <div className={`text-sm ${color}`}>\n          {percentChange}% from previous\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"w-full bg-background shadow-lg rounded-lg border\">\n      <div className=\"pb-4 p-6\">\n        <div className=\"flex flex-col md:flex-row justify-between items-start space-y-4 md:space-y-0 md:space-x-4\">\n          <div>\n            <h3 className=\"text-2xl font-bold text-foreground\">\n              {data.short_title || data.title.split(':')[0]}\n            </h3>\n            <p className=\"text-sm text-gray-600 mt-1\">\n              {data.title}\n            </p>\n          </div>\n        </div>\n      </div>\n      <div className=\"p-6 pt-0\">\n        <div className=\"h-[400px]\">\n          <ResponsiveContainer width=\"100%\" height=\"100%\">\n            <LineChart\n              data={filteredData}\n              margin={{ top: 20, right: 30, left: 50, bottom: 0 }}\n            >\n              <CartesianGrid\n                strokeDasharray=\"3 3\"\n                className=\"stroke-muted\"\n                vertical={false}\n              />\n              <XAxis\n                dataKey=\"date\"\n                tickFormatter={formatDate}\n                minTickGap={30}\n                tick={{ fill: theme === 'dark' ? '#9CA3AF' : '#6B7280' }}\n              />\n              <YAxis\n                domain={['auto', 'auto']}\n                tickFormatter={formatValue}\n                tick={{ fill: theme === 'dark' ? '#9CA3AF' : '#6B7280' }}\n              />\n              <Tooltip content={<CustomTooltip />} />\n              <Line\n                type=\"monotone\"\n                dataKey=\"value\"\n                dot={false}\n                stroke=\"#4299e1\"\n                strokeWidth={2}\n              />\n              <Brush\n                dataKey=\"date\"\n                height={30}\n                stroke=\"#8884d8\"\n                fill=\"#fff\"\n                tickFormatter={formatDate}\n                travellerWidth={10}\n                startIndex={0}\n                endIndex={filteredData.length - 1}\n              >\n                <LineChart>\n                  <Line dataKey=\"value\" stroke=\"#4299e1\" dot={false} />\n                  {showRecessions && recessionPeriods.map((period, index) => (\n                <ReferenceArea\n                  key={index}\n                  x1={period.start}\n                  x2={period.end}\n                  fill=\"currentColor\"\n                  fillOpacity={0.1}\n                  strokeOpacity={0}\n                />\n              ))}\n                </LineChart>\n              </Brush>\n              {showRecessions && recessionPeriods.map((period, index) => (\n                <ReferenceArea\n                  key={index}\n                  x1={period.start}\n                  x2={period.end}\n                  fill=\"currentColor\"\n                  fillOpacity={0.1}\n                  strokeOpacity={0}\n                />\n              ))}\n            </LineChart>\n\n          </ResponsiveContainer>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default TimeSeries;","'use client'\n\nimport React, { useState, useMemo } from 'react';\nimport { \n  LineChart, \n  Line, \n  XAxis, \n  YAxis, \n  CartesianGrid, \n  Tooltip, \n  ResponsiveContainer, \n  ReferenceArea, \n  Legend,\n  Brush \n} from 'recharts';\nimport { Button } from '../ui/button';\nimport { Grid3X3 } from 'lucide-react';\nimport { useTheme } from 'next-themes';\n\ntype TimeRange = '1Y' | '2Y' | '5Y' | 'MAX';\n\ninterface DataSeries {\n  id: string;\n  title: string;\n  observation_start: string;\n  observation_end: string;\n  frequency: string;\n  units: string;\n  seasonal_adjustment: string;\n  observations: Array<{\n    realtime_start: string;\n    realtime_end: string;\n    date: string;\n    value: string;\n  }>;\n}\n\ninterface ChartDataPoint {\n  date: string;\n  [key: string]: number | string | null;\n}\n\ninterface RecessionPeriod {\n  start: string;\n  end: string;\n}\n\ninterface TimeRangeButtonProps {\n  active: boolean;\n  onClick: () => void;\n  children: React.ReactNode;\n}\n\ninterface IndexChartProps {\n  series1: DataSeries;\n  series2: DataSeries;\n}\n\ninterface TooltipProps {\n  active?: boolean;\n  payload?: Array<{\n    dataKey: string;\n    value: number;\n    payload: ChartDataPoint;\n  }>;\n  label?: string;\n}\n\ninterface SeriesComparisonProps {\n  series1: DataSeries;\n  series2: DataSeries;\n  title?: string;\n  description?: string;\n}\n\nconst TimeRangeButton: React.FC<TimeRangeButtonProps> = ({ active, onClick, children }) => (\n  <Button\n    variant={active ? \"default\" : \"ghost\"}\n    size=\"sm\"\n    onClick={onClick}\n    className={`transition-all ${active ? 'bg-blue-500 text-white hover:bg-blue-600' : 'hover:bg-gray-100'}`}\n  >\n    {children}\n  </Button>\n);\n\nconst IndexChart: React.FC<IndexChartProps> = ({ series1, series2 }) => {\n  const [timeRange, setTimeRange] = useState<TimeRange>('MAX');\n  const [showRecessions, setShowRecessions] = useState(true);\n  const [brushDomain, setBrushDomain] = useState<{ start: number; end: number } | null>(null);\n  const { theme } = useTheme();\n\n  const colors = {\n    series1: '#4299e1', // original blue\n    series2: '#f59e0b', // original amber\n  };\n\n  console.log('series1:', series1);\n  console.log('series2:', series2);\n\n  const recessionPeriods: RecessionPeriod[] = [\n    { start: \"1960-04-01\", end: \"1961-02-01\" },\n    { start: \"1969-12-01\", end: \"1970-11-01\" },\n    { start: \"1973-11-01\", end: \"1975-03-01\" },\n    { start: \"1980-01-01\", end: \"1980-07-01\" },\n    { start: \"1981-07-01\", end: \"1982-11-01\" },\n    { start: \"1990-07-01\", end: \"1991-03-01\" },\n    { start: \"2001-03-01\", end: \"2001-11-01\" },\n    { start: \"2007-12-01\", end: \"2009-06-01\" },\n    { start: \"2020-02-01\", end: \"2020-04-01\" }\n  ];\n\n  const formatSeriesData = (series: DataSeries) => {\n    return series.observations.map(obs => ({\n      date: obs.date,\n      value: parseFloat(obs.value)\n    }));\n  };\n\n  const filteredData = useMemo(() => {\n    const series1Data = formatSeriesData(series1);\n    const series2Data = formatSeriesData(series2);\n\n    if (!series1Data?.length || !series2Data?.length) return [];\n\n    const now = new Date();\n    let startDate: Date;\n\n    const ranges: Record<TimeRange, () => Date> = {\n      '1Y': () => new Date(now.getFullYear() - 1, now.getMonth(), now.getDate()),\n      '2Y': () => new Date(now.getFullYear() - 2, now.getMonth(), now.getDate()),\n      '5Y': () => new Date(now.getFullYear() - 5, now.getMonth(), now.getDate()),\n      'MAX': () => new Date(Math.max(+new Date(series1Data[0].date), +new Date(series2Data[0].date)))\n    };\n\n    startDate = ranges[timeRange]();\n    \n    const filteredSeries1 = series1Data.filter(item => new Date(item.date) >= startDate);\n    const filteredSeries2 = series2Data.filter(item => new Date(item.date) >= startDate);\n\n    if (!filteredSeries1.length || !filteredSeries2.length) return [];\n\n    const baseValueSeries1 = filteredSeries1[0].value;\n    const baseValueSeries2 = filteredSeries2[0].value;\n\n    const indexedSeries1 = filteredSeries1.map(item => ({\n      date: item.date,\n      value: ((item.value - baseValueSeries1) / baseValueSeries1) * 100,\n    }));\n\n    const indexedSeries2 = filteredSeries2.map(item => ({\n      date: item.date,\n      value: ((item.value - baseValueSeries2) / baseValueSeries2) * 100,\n    }));\n\n    return indexedSeries1.map((item, index) => ({\n      date: item.date,\n      [series1.title]: item.value,\n      [series2.title]: indexedSeries2[index] ? indexedSeries2[index].value : null,\n    }));\n  }, [series1, series2, timeRange]);\n\n  const timeRanges: TimeRange[] = ['1Y', '2Y', '5Y', 'MAX'];\n\n  const formatDate = (str: string): string => {\n    const date = new Date(str);\n    if (timeRange === 'MAX') {\n      return date.getFullYear().toString();\n    }\n    const month = date.toLocaleString('default', { month: 'short' });\n    const year = date.getFullYear();\n    return `${month} ${year}`;\n  };\n\n  const handleBrushChange = (domain: any) => {\n    if (domain && domain.startIndex !== undefined && domain.endIndex !== undefined) {\n      setBrushDomain({\n        start: domain.startIndex,\n        end: domain.endIndex\n      });\n    }\n  };\n\n  const CustomTooltip: React.FC<TooltipProps> = ({ active, payload, label }) => {\n    if (active && payload && payload.length && label) {\n      return (\n        <div className=\"bg-background p-4 rounded-lg shadow-lg border border-border\">\n          <p className=\"font-bold text-foreground\">{formatDate(label)}</p>\n          {payload.map((entry) => {\n            const color = entry.dataKey === series1.title ? colors.series1 : colors.series2;\n            return (\n              <div key={entry.dataKey} className=\"mt-1\">\n                <p className=\"text-sm text-muted-foreground flex items-center\">\n                  <span className=\"w-2 h-2 rounded-full mr-2\" style={{ backgroundColor: color }}></span>\n                  <span>{entry.dataKey}:</span>\n                  <span className=\"ml-1 font-medium\" style={{ color }}>\n                    {entry.value.toFixed(2)}%\n                  </span>\n                </p>\n              </div>\n            );\n          })}\n        </div>\n      );\n    }\n    return null;\n  };\n\n  return (\n    <div className=\"w-full bg-background shadow-lg rounded-lg border\">\n      <div className=\"pb-0 p-6\">\n        <div className=\"flex flex-col md:flex-row justify-between items-start space-y-4 md:space-y-0 md:space-x-4\">\n          <div>\n            <h3 className=\"text-2xl font-bold text-foreground\">\n              Index Chart\n            </h3>\n            <div className=\"text-gray-600 text-sm mt-2\">\n              {series1.title} vs {series2.title}\n            </div>\n          </div>\n          <div className=\"flex flex-wrap gap-2 items-center\">\n            <div className=\"flex space-x-2\">\n              {timeRanges.map((range) => (\n                <TimeRangeButton\n                  key={range}\n                  active={timeRange === range}\n                  onClick={() => setTimeRange(range)}\n                >\n                  {range}\n                </TimeRangeButton>\n              ))}\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"p-6 pt-0\">\n        <div className=\"h-[500px]\">\n          <ResponsiveContainer width=\"100%\" height=\"100%\">\n            <LineChart\n              data={filteredData}\n              margin={{ top: 30, right: 30, left: 0, bottom: 20 }}\n            >\n              <Legend \n                verticalAlign=\"top\"\n                align=\"left\"\n                height={36}\n                iconType=\"circle\"\n                wrapperStyle={{\n                  paddingBottom: '60px'\n                }}\n                formatter={(value) => (\n                  <span className=\"text-sm text-muted-foreground\">{value}</span>\n                )}\n              />\n              <CartesianGrid\n                strokeDasharray=\"3 3\"\n                className=\"stroke-muted\"\n                vertical={false}\n              />\n              <XAxis\n                dataKey=\"date\"\n                axisLine={false}\n                tickLine={false}\n                tickFormatter={formatDate}\n                tick={{ fill: theme === 'dark' ? '#9CA3AF' : '#6B7280', fontSize: 12 }}\n                dy={10}\n                minTickGap={5}\n                interval=\"preserveStartEnd\"\n              />\n              <YAxis\n                domain={['auto', 'auto']}\n                axisLine={false}\n                tickLine={false}\n                tickFormatter={(value) => `${value}%`}\n                tick={{ fill: theme === 'dark' ? '#9CA3AF' : '#6B7280', fontSize: 12 }}\n                width={60}\n                dx={-10}\n              />\n              <Tooltip content={<CustomTooltip />} />\n              {showRecessions && recessionPeriods.map((period, index) => (\n                <ReferenceArea\n                  key={index}\n                  x1={period.start}\n                  x2={period.end}\n                  className=\"fill-muted\"\n                  fillOpacity={0.4}\n                  alwaysShow={true}\n                  ifOverflow=\"visible\"\n                />\n              ))}\n              <Line\n                type=\"monotone\"\n                dataKey={series1.title}\n                stroke={colors.series1}\n                strokeWidth={2}\n                dot={false}\n                activeDot={{ r: 6, fill: colors.series1 }}\n              />\n              <Line\n                type=\"monotone\"\n                dataKey={series2.title}\n                stroke={colors.series2}\n                strokeWidth={2}\n                dot={false}\n                activeDot={{ r: 6, fill: colors.series2 }}\n              />\n              <Brush\n                dataKey=\"date\"\n                height={40}\n                stroke=\"#8884d8\"\n                tickFormatter={formatDate}\n                onChange={handleBrushChange}\n                startIndex={brushDomain?.start}\n                endIndex={brushDomain?.end}\n              >\n                <LineChart>\n                  <Line\n                    type=\"monotone\"\n                    dataKey={series1.title}\n                    stroke={colors.series1}\n                    strokeWidth={1}\n                    dot={false}\n                  />\n                  <Line\n                    type=\"monotone\"\n                    dataKey={series2.title}\n                    stroke={colors.series2}\n                    strokeWidth={1}\n                    dot={false}\n                  />\n                </LineChart>\n              </Brush>\n            </LineChart>\n          </ResponsiveContainer>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst SeriesComparison: React.FC<SeriesComparisonProps> = ({ \n  series1, \n  series2, \n  title = \"Series Comparison\",\n  description \n}) => {\n  return (\n    <div className=\"w-full max-w-7xl mx-auto p-4\">\n      <h2 className=\"text-2xl font-bold mb-4\">{title}</h2>\n      <IndexChart\n        series1={series1}\n        series2={series2}\n      />\n      {description && (\n        <div className=\"mt-4 text-sm text-gray-600\">\n          <p>{description}</p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default SeriesComparison;","'use client'\n\nimport React, { useState } from 'react';\nimport { Button } from '../ui/button';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, ReferenceArea, Legend, Brush } from 'recharts';\nimport { useTheme } from 'next-themes';\nimport { TooltipProps } from 'recharts';\nimport { NameType, ValueType } from 'recharts/types/component/DefaultTooltipContent';\n\ninterface TimeRangeButtonProps {\n  active: boolean;\n  onClick: () => void;\n  children: React.ReactNode;\n}\n\ninterface DataPoint {\n  date: string;\n  value: number;\n}\n\ninterface RecessionPeriod {\n  start: string;\n  end: string;\n}\n\ninterface DualAxisChartProps {\n  series1Data: DataPoint[];\n  series2Data: DataPoint[];\n  series1Name: string;\n  series2Name: string;\n  series1Unit?: string;\n  series2Unit?: string;\n  title?: string;\n  description?: string;\n}\n\ntype TimeRangeType = '1Y' | '2Y' | '5Y' | 'MAX';\n\nconst TimeRangeButton: React.FC<TimeRangeButtonProps> = ({ active, onClick, children }) => (\n  <Button\n    variant={active ? \"default\" : \"ghost\"}\n    size=\"sm\"\n    onClick={onClick}\n    className={`transition-all ${active ? 'bg-primary text-primary-foreground hover:bg-primary/90' : 'hover:bg-muted'}`}\n  >\n    {children}\n  </Button>\n);\n\nconst recessionPeriods: RecessionPeriod[] = [\n  { start: \"1960-04-01\", end: \"1961-02-01\" },\n  { start: \"1969-12-01\", end: \"1970-11-01\" },\n  { start: \"1973-11-01\", end: \"1975-03-01\" },\n  { start: \"1980-01-01\", end: \"1980-07-01\" },\n  { start: \"1981-07-01\", end: \"1982-11-01\" },\n  { start: \"1990-07-01\", end: \"1991-03-01\" },\n  { start: \"2001-03-01\", end: \"2001-11-01\" },\n  { start: \"2007-12-01\", end: \"2009-06-01\" },\n  { start: \"2020-02-01\", end: \"2020-04-01\" }\n];\n\nconst DualAxisChart: React.FC<DualAxisChartProps> = ({\n  series1Data,\n  series2Data,\n  series1Name,\n  series2Name,\n  series1Unit,\n  series2Unit,\n  title = \"Housing Market Indicators\",\n  description\n}) => {\n  const [timeRange, setTimeRange] = useState<TimeRangeType>('MAX');\n  const [showRecessions, setShowRecessions] = useState(true); // Added showRecessions state\n  const { theme } = useTheme();\n\n  const colors = {\n    series1: '#4299e1',\n    series2: '#f59e0b',\n    recession: theme === 'dark' ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)'\n  };\n\n  const filteredData = React.useMemo(() => {\n    if (!series1Data?.length || !series2Data?.length) return [];\n\n    const now = new Date();\n    let startDate;\n\n    const ranges: { [key in TimeRangeType]: () => Date } = {\n      '1Y': () => new Date(now.getFullYear() - 1, now.getMonth(), now.getDate()),\n      '2Y': () => new Date(now.getFullYear() - 2, now.getMonth(), now.getDate()),\n      '5Y': () => new Date(now.getFullYear() - 5, now.getMonth(), now.getDate()),\n      'MAX': () => new Date(Math.min(+new Date(series1Data[0].date), +new Date(series2Data[0].date)))\n    };\n\n    startDate = ranges[timeRange]();\n\n    const filteredSeries1 = series1Data.filter(item => new Date(item.date) >= startDate);\n    const filteredSeries2 = series2Data.filter(item => new Date(item.date) >= startDate);\n\n    const mergedData = [];\n    let i = 0, j = 0;\n\n    while (i < filteredSeries1.length && j < filteredSeries2.length) {\n      const date1 = new Date(filteredSeries1[i].date);\n      const date2 = new Date(filteredSeries2[j].date);\n\n      if (date1.getTime() === date2.getTime()) {\n        mergedData.push({\n          date: filteredSeries1[i].date,\n          [series1Name]: filteredSeries1[i].value,\n          [series2Name]: filteredSeries2[j].value,\n        });\n        i++;\n        j++;\n      } else if (date1 < date2) {\n        i++;\n      } else {\n        j++;\n      }\n    }\n\n    return mergedData;\n  }, [series1Data, series2Data, series1Name, series2Name, timeRange]);\n\n  const timeRanges: TimeRangeType[] = ['1Y', '2Y', '5Y', 'MAX'];\n\n  const formatDate = (str: string): string => {\n    const date = new Date(str);\n    if (timeRange === 'MAX') {\n      return date.getFullYear().toString();\n    }\n    const month = date.toLocaleString('default', { month: 'short' });\n    const year = date.getFullYear();\n    return `${month} ${year}`;\n  };\n\n  const CustomTooltip = ({\n    active,\n    payload,\n    label\n  }: TooltipProps<ValueType, NameType>) => {\n    if (active && payload && payload.length) {\n      return (\n        <div className=\"bg-background p-4 rounded-lg shadow-lg border border-border\">\n          <p className=\"font-bold text-foreground\">{formatDate(label || '')}</p>\n          {payload.map((entry) => (\n            <p\n              key={entry.dataKey}\n              className=\"text-sm text-muted-foreground flex items-center\"\n            >\n              <span className=\"w-2 h-2 rounded-full mr-2\" style={{ backgroundColor: entry.color }}></span>\n              <span>{entry.name}:</span>\n              <span className=\"ml-1 font-medium\" style={{ color: entry.color }}>\n                {typeof entry.value === 'number'\n                  ? `${entry.value.toFixed(1)} ${entry.name === series1Name ? series1Unit : series2Unit}`\n                  : 'N/A'}\n              </span>\n            </p>\n          ))}\n        </div>\n      );\n    }\n    return null;\n  };\n\n  const yAxis1Domain = React.useMemo(() => {\n    if (!filteredData.length) return [0, 0];\n    const values = filteredData.map(item => Number(item[series1Name])).filter((value): value is number =>\n      value !== undefined && !isNaN(value)\n    );\n    const min = Math.min(...values);\n    const max = Math.max(...values);\n    const margin = (max - min) * 0.1;\n    return [min - margin, max + margin];\n  }, [filteredData, series1Name]);\n\n  const yAxis2Domain = React.useMemo(() => {\n    if (!filteredData.length) return [0, 0];\n    const values = filteredData.map(item => Number(item[series2Name])).filter((value): value is number =>\n      value !== undefined && !isNaN(value)\n    );\n    const min = Math.min(...values);\n    const max = Math.max(...values);\n    const margin = (max - min) * 0.1;\n    return [min - margin, max + margin];\n  }, [filteredData, series2Name]);\n\n\n  return (\n    <div className=\"w-full bg-background shadow-lg rounded-lg border\">\n      <div className=\"flex flex-row items-center justify-between space-y-0 pb-2 p-6\">\n        <h3 className=\"text-base font-medium\">\n          {title}\n        </h3>\n        <div className=\"flex items-center space-x-2\">\n          {timeRanges.map((range) => (\n            <TimeRangeButton\n              key={range}\n              active={timeRange === range}\n              onClick={() => setTimeRange(range)}\n            >\n              {range}\n            </TimeRangeButton>\n          ))}\n        </div>\n      </div>\n\n      <div className=\"p-6 pt-0\">\n        {description && (\n          <p className=\"text-sm text-gray-600 mb-6\">{description}</p>\n        )}\n        <div className=\"h-96\">\n          <ResponsiveContainer width=\"100%\" height=\"100%\">\n            <LineChart\n              data={filteredData}\n              margin={{ top: 20, right: 30, left: 0, bottom: 0 }}\n            >\n              <CartesianGrid\n                strokeDasharray=\"3 3\"\n                className=\"stroke-muted\"\n                vertical={false}\n              />\n              <Legend\n                verticalAlign=\"top\"\n                align=\"left\"\n                height={36}\n                iconType=\"circle\"\n                formatter={(value) => (\n                  <span className=\"text-sm text-muted-foreground\">{value}</span>\n                )}\n              />\n              <Brush\n                dataKey=\"date\"\n                height={30}\n                stroke=\"#8884d8\"\n                fill=\"#fff\"\n                tickFormatter={formatDate}\n                travellerWidth={10}\n                startIndex={0}\n                endIndex={filteredData.length - 1}\n              >\n                <LineChart>\n                  <Line dataKey={series1Name} stroke={colors.series1} dot={false} />\n                  <Line dataKey={series2Name} stroke={colors.series2} dot={false} />\n                </LineChart>\n              </Brush>\n              <XAxis\n                dataKey=\"date\"\n                axisLine={false}\n                tickLine={false}\n                tickFormatter={formatDate}\n                tick={{ fill: theme === 'dark' ? '#9CA3AF' : '#6B7280', fontSize: 12 }}\n                dy={10}\n                minTickGap={5}\n                interval=\"preserveStartEnd\"\n              />\n              <YAxis\n                yAxisId=\"left\"\n                domain={yAxis1Domain}\n                orientation=\"left\"\n                axisLine={false}\n                tickLine={false}\n                tick={{ fill: theme === 'dark' ? '#9CA3AF' : '#6B7280', fontSize: 12 }}\n                width={60}\n                dx={-10}\n                label={{\n                  value: series1Unit,\n                  angle: -90,\n                  position: 'insideLeft',\n                  style: { fill: colors.series1, fontSize: 12 }\n                }}\n                tickFormatter={(value) => value.toFixed(1)}\n              />\n              <YAxis\n                yAxisId=\"right\"\n                domain={yAxis2Domain}\n                orientation=\"right\"\n                axisLine={false}\n                tickLine={false}\n                tick={{ fill: theme === 'dark' ? '#9CA3AF' : '#6B7280', fontSize: 12 }}\n                width={60}\n                dx={10}\n                label={{\n                  value: series2Unit,\n                  angle: 90,\n                  position: 'insideRight',\n                  style: { fill: colors.series2, fontSize: 12 }\n                }}\n                tickFormatter={(value) => value.toFixed(1)}\n              />\n              <Tooltip\n                content={(props: TooltipProps<ValueType, NameType>) => <CustomTooltip {...props} />}\n              />\n               {showRecessions && recessionPeriods.map((period, index) => (\n                <ReferenceArea\n                  key={index}\n                  x1={period.start}\n                  x2={period.end}\n                  className=\"fill-muted\"\n                  fillOpacity={0.4}\n                  alwaysShow={true}\n                  ifOverflow=\"visible\"\n                />\n              ))}\n\n              <Line\n                yAxisId=\"left\"\n                type=\"monotone\"\n                dataKey={series1Name}\n                stroke={colors.series1}\n                strokeWidth={2}\n                dot={false}\n                activeDot={{ r: 6, fill: colors.series1 }}\n              />        \n              <Line\n                yAxisId=\"right\"\n                type=\"monotone\"\n                dataKey={series2Name}\n                stroke={colors.series2}\n                strokeWidth={2}\n                dot={false}\n                activeDot={{ r: 6, fill: colors.series2 }}\n              />\n            </LineChart>\n          </ResponsiveContainer>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default DualAxisChart;\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\n\nimport { cn } from \"../lib/utils\"\n\nfunction Label({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  return (\n    <LabelPrimitive.Root\n      data-slot=\"label\"\n      className={cn(\n        \"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Label }\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as SwitchPrimitive from \"@radix-ui/react-switch\"\n\nimport { cn } from \"../lib/utils\"\n\nfunction Switch({\n  className,\n  ...props\n}: React.ComponentProps<typeof SwitchPrimitive.Root>) {\n  return (\n    <SwitchPrimitive.Root\n      data-slot=\"switch\"\n      className={cn(\n        \"peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <SwitchPrimitive.Thumb\n        data-slot=\"switch-thumb\"\n        className={cn(\n          \"bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0\"\n        )}\n      />\n    </SwitchPrimitive.Root>\n  )\n}\n\nexport { Switch }\n","\"use client\";\n\nimport React, { useState, useEffect } from 'react';\nimport {\n    LineChart,\n    Line,\n    XAxis,\n    YAxis,\n    CartesianGrid,\n    Tooltip,\n    Legend,\n    ResponsiveContainer,\n    ErrorBar,\n    ReferenceArea,\n    Text // Ensure Text is imported\n} from 'recharts';\nimport { Label } from \"../ui/label\"; // Assuming shadcn/ui Label\nimport { Switch } from \"../ui/switch\"; // Assuming shadcn/ui Switch\n\n// --- Type Definitions ---\ninterface DataPoint {\n    year: string | number | null; // Allow null after processing\n    value: number | null;         // Allow null for connectNulls\n    ci_lower?: number;\n    ci_upper?: number;\n    n_actual?: number;\n    standard_error?: number;\n    [key: string]: any;           // For dynamic demographic field\n}\n\n// Interface for individual items within the recharts Tooltip payload array\ninterface TooltipPayloadItem {\n    name: string;                 // Name of the data series (e.g., demographic group)\n    value: number | null;         // The y-value of the data point (can be null)\n    color: string;                // Color of the line/series\n    payload: DataPoint;           // The original data object for this point\n    dataKey: string;              // The key used to access the value (e.g., \"value\")\n    stroke?: string;\n    fill?: string;\n}\n\ninterface DataPointMetadataItem {\n    id: string;\n    categories?: string[];\n    value_prefix?: string | object; // Allow object type for the check\n    value_suffix?: string | object; // Allow object type for the check\n    [key: string]: any;\n}\n\ninterface ChartData {\n    metadata: {\n        title: string;\n        subtitle?: string;\n        question?: string;\n        source?: { name: string; id?: string; };\n        observations?: number;      // Added for source display\n        [key: string]: any;\n    };\n    dataPoints: DataPoint[];\n    dataPointMetadata: DataPointMetadataItem[];\n}\n\ninterface TimeTrendDemoChartProps {\n    data: ChartData;\n    demographicGroups: string[];\n    demographic: string;\n    defaultVisibleGroups?: string[];  // Optional: specify which groups are visible initially\n}\n\n// --- Constants ---\nconst COLORS = ['#2196f3', '#f44336', '#4caf50', '#ff9800', '#9c27b0', '#795548', '#607d8b'];\n// Full list of plotbands\nconst presidentialTerms = [\n    { start: 1971, end: 1976, party: \"Republican\", president: \"Nixon/Ford\" },\n    { start: 1976, end: 1980, party: \"Democrat\", president: \"Carter\" },\n    { start: 1980, end: 1992, party: \"Republican\", president: \"Reagan/Bush\" },\n    { start: 1992, end: 2000, party: \"Democrat\", president: \"Clinton\" },\n    { start: 2000, end: 2008, party: \"Republican\", president: \"Bush\" }, // Simplified name\n    { start: 2008, end: 2016, party: \"Democrat\", president: \"Obama\" },\n    { start: 2016, end: 2020, party: \"Republican\", president: \"Trump\" },\n    { start: 2020, end: 2024, party: \"Democrat\", president: \"Biden\" }, // Adjust end year if needed\n];\n\n// --- Helper Functions ---\n\n/**\n * Generates an array of tick values at a regular interval within a given range.\n */\nconst generateTicks = (start: number, end: number, interval: number): number[] => {\n    const ticks: number[] = [];\n    const firstTick = Math.ceil(start / interval) * interval;\n    for (let i = firstTick; i <= end; i += interval) {\n        if (i <= end) { ticks.push(i); }\n    }\n    return ticks;\n};\n\n/**\n * Processes a raw data point, parsing the year to a number or null,\n * and ensuring the value is a valid number or null.\n */\nconst processDataPoint = (d: DataPoint): DataPoint & { year: number | null } => {\n    const yearNum = parseInt(String(d.year), 10);\n    const valueNum = typeof d.value === 'number' ? d.value : parseFloat(String(d.value));\n    return {\n        ...d,\n        year: isNaN(yearNum) ? null : yearNum,\n        value: typeof valueNum === 'number' && !isNaN(valueNum) ? valueNum : null\n    };\n};\n\n\n// --- Component ---\nexport default function TimeTrendDemoChart({\n    data, demographicGroups, demographic, defaultVisibleGroups\n}: TimeTrendDemoChartProps) {\n    const [visibleGroups, setVisibleGroups] = useState<Set<string>>(\n        new Set(defaultVisibleGroups || demographicGroups)\n    );\n    const [showCI, setShowCI] = useState(false);\n    const [isMounted, setIsMounted] = useState(false);\n\n    // Effect to track client-side mounting (fixes React 19 SSR issues with Recharts)\n    useEffect(() => {\n        setIsMounted(true);\n    }, []);\n\n    // Effect to update visible groups when props change\n    useEffect(() => {\n        setVisibleGroups(new Set(defaultVisibleGroups || demographicGroups));\n    }, [demographicGroups, defaultVisibleGroups]);\n\n    // --- Data Validation ---\n    if (!data || !data.dataPoints || !Array.isArray(data.dataPoints) || data.dataPoints.length === 0) {\n        return <div className=\"p-4 text-center text-gray-500\">No data available to display chart.</div>;\n    }\n\n    // --- Data Processing & Axis Calculations ---\n    const processedDataPoints = data.dataPoints.map(processDataPoint);\n    const allValidYearsNumeric = processedDataPoints.map(d => d.year).filter((year): year is number => year !== null);\n\n    if (allValidYearsNumeric.length === 0) {\n        return <div className=\"p-4 text-center text-gray-500\">Data contains no valid years.</div>;\n    }\n\n    const minYearInData = Math.min(...allValidYearsNumeric);\n    const maxYearInData = Math.max(...allValidYearsNumeric);\n\n    // Filter Plotbands to match the data's range\n    const relevantPresidentialTerms = presidentialTerms.filter(term =>\n        term.end >= minYearInData && term.start <= maxYearInData\n    );\n    const firstRelevantBandStart = relevantPresidentialTerms.length > 0\n        ? Math.min(...relevantPresidentialTerms.map(t => t.start)) : minYearInData;\n    const xAxisMin = Math.min(firstRelevantBandStart, minYearInData);\n    const xAxisMax = maxYearInData;\n    const xTickInterval = 5;\n    const xAxisTicks = generateTicks(xAxisMin, xAxisMax, xTickInterval);\n\n    // Group data\n    const groupedData = demographicGroups.map(group => {\n        const groupData = processedDataPoints\n            .filter(d => d[demographic] === group && d.year !== null)\n            .map(d => d as DataPoint & { year: number })\n            .sort((a, b) => a.year - b.year);\n        return { name: group, data: groupData };\n    });\n    const hasCIData = groupedData.some(g =>\n        g.data.some(d => d.standard_error !== undefined || (d.ci_lower !== undefined && d.ci_upper !== undefined))\n    );\n\n    // --- Refined Y-Axis Domain Calculation ---\n    const getVisibleBounds = (): { min: number; max: number } => {\n        let overallMin = Infinity;\n        let overallMax = -Infinity;\n        let hasVisibleData = false;\n\n        groupedData\n            .filter(group => visibleGroups.has(group.name))\n            .forEach(group => {\n                group.data.forEach(point => {\n                    if (point.value === null) return;\n                    hasVisibleData = true;\n                    let currentMin = point.value;\n                    let currentMax = point.value;\n\n                    if (showCI) {\n                        if (point.ci_lower !== undefined && point.ci_lower !== null) { currentMin = point.ci_lower; }\n                        else if (typeof point.standard_error === 'number' && !isNaN(point.standard_error)) { currentMin = point.value - 1.96 * point.standard_error; }\n                        if (point.ci_upper !== undefined && point.ci_upper !== null) { currentMax = point.ci_upper; }\n                        else if (typeof point.standard_error === 'number' && !isNaN(point.standard_error)) { currentMax = point.value + 1.96 * point.standard_error; }\n                    }\n\n                    if (typeof currentMin === 'number' && !isNaN(currentMin)) { overallMin = Math.min(overallMin, currentMin); }\n                    if (typeof currentMax === 'number' && !isNaN(currentMax)) { overallMax = Math.max(overallMax, currentMax); }\n                });\n            });\n\n        return hasVisibleData && isFinite(overallMin) && isFinite(overallMax)\n            ? { min: overallMin, max: overallMax } : { min: 0, max: 100 };\n    };\n\n    const { min: effectiveMin, max: effectiveMax } = getVisibleBounds();\n    let yDomain: [number, number] = [0, 100]; // Default Y domain\n\n    if (isFinite(effectiveMin) && isFinite(effectiveMax)) {\n        const dataRange = effectiveMax - effectiveMin;\n        const buffer = Math.max(5, dataRange * 0.15);\n        const lowerBound = effectiveMin - buffer;\n        const upperBound = effectiveMax + buffer;\n        const finalMin = Math.max(0, lowerBound);\n        const finalMax = Math.min(100, upperBound);\n        const minRange = 10;\n\n        if (finalMin >= finalMax) {\n             const centerValue = Math.min(100, Math.max(0, (effectiveMin + effectiveMax) / 2));\n             yDomain = [Math.max(0, Math.floor((centerValue - minRange / 2) / 5) * 5), Math.min(100, Math.ceil((centerValue + minRange / 2) / 5) * 5)];\n             if (yDomain[0] >= yDomain[1]) { yDomain = [Math.max(0, finalMin - 5), Math.min(100, finalMax + 5)]; }\n        } else if (finalMax - finalMin < minRange) {\n             const midPoint = (finalMin + finalMax) / 2;\n             yDomain = [Math.max(0, Math.floor((midPoint - minRange / 2) / 5) * 5), Math.min(100, Math.ceil((midPoint + minRange / 2) / 5) * 5)];\n             if (yDomain[0] >= yDomain[1]) {\n                 yDomain = [Math.max(0, finalMin - buffer), Math.min(100, finalMax + buffer)];\n                 if(yDomain[0] >= yDomain[1]) yDomain = [Math.max(0, finalMin - 5), Math.min(100, finalMax + 5)];\n             }\n        } else {\n            yDomain = [finalMin, finalMax];\n        }\n    }\n\n    // --- Event Handlers & Formatters ---\n    const handleLegendClick = (entry: { value: string }) => {\n        setVisibleGroups(prev => {\n            const newSet = new Set(prev);\n            if (newSet.has(entry.value)) {\n                newSet.delete(entry.value);\n            } else {\n                newSet.add(entry.value);\n            }\n            return newSet;\n        });\n    };\n\n    const yAxisTickFormatter = (value: number | string): string => {\n        const metadata = data.dataPointMetadata.find(d => d.id === 'value');\n        const prefixValue = metadata?.value_prefix;\n        const suffixValue = metadata?.value_suffix;\n        const prefix = (prefixValue && (typeof prefixValue !== 'object' || Object.keys(prefixValue).length > 0)) ? String(prefixValue) : '';\n        const suffix = (suffixValue && (typeof suffixValue !== 'object' || Object.keys(suffixValue).length > 0)) ? String(suffixValue) : '%';\n        const num = Number(value);\n        if (isNaN(num)) return String(value);\n        const formattedValue = num.toLocaleString(undefined, { minimumFractionDigits: 0, maximumFractionDigits: 0 });\n        return `${prefix}${formattedValue}${suffix}`;\n    };\n\n    const CustomTooltip = ({ active, payload, label }: { active?: boolean; payload?: TooltipPayloadItem[]; label?: string | number }) => {\n        if (!active || !payload || payload.length === 0 || label === undefined) return null;\n        const visiblePayload = payload.filter(series => visibleGroups.has(series.name));\n        if (visiblePayload.length === 0) return null;\n        const valueMetadata = data.dataPointMetadata.find(m => m.id === 'value');\n        const suffix = (typeof valueMetadata?.value_suffix === 'string') ? valueMetadata.value_suffix : '%';\n        const prefix = (typeof valueMetadata?.value_prefix === 'string') ? valueMetadata.value_prefix : '';\n\n        return (\n            <div className=\"bg-white p-3 border border-gray-300 shadow-lg rounded-md text-sm max-w-xs\">\n                <p className=\"font-semibold mb-2 text-gray-700\">{`Year: ${label}`}</p>\n                {visiblePayload.map((series) => {\n                    const colorIndex = demographicGroups.indexOf(series.name);\n                    const color = colorIndex !== -1 ? COLORS[colorIndex % COLORS.length] : series.color || '#8884d8';\n                    const pointData = series.payload;\n                    return (\n                        <div key={series.name} className=\"mb-1.5 last:mb-0\">\n                            <p className=\"font-medium\" style={{ color: color }}>{series.name}</p>\n                            <p className=\"text-gray-600\" style={{ color: color }}>\n                                {`Value: ${series.value != null ? `${prefix}${series.value.toFixed(1)}${suffix}` : 'N/A'}`}\n                            </p>\n                            {pointData?.ci_lower !== undefined && pointData?.ci_upper !== undefined && (\n                                <p className=\"text-gray-500 text-xs\">\n                                    {`95% CI: [${pointData.ci_lower.toFixed(1)}%, ${pointData.ci_upper.toFixed(1)}%]`}\n                                </p>\n                            )}\n                            {pointData?.n_actual && (\n                                <p className=\"text-gray-500 text-xs\">\n                                    {`N: ${pointData.n_actual.toLocaleString()}`}\n                                </p>\n                            )}\n                        </div>\n                    );\n                })}\n            </div>\n        );\n    };\n\n\n    // --- DEBUG LOGGING ---\n    console.log('[TimeTrendDemoChart] Rendering with:', {\n        demographicGroups,\n        demographic,\n        visibleGroups: Array.from(visibleGroups),\n        groupedDataLength: groupedData.length,\n        groupedDataSample: groupedData.map(g => ({ name: g.name, dataLength: g.data.length })),\n        yDomain,\n        xAxisMin,\n        xAxisMax,\n        hasCIData,\n        showCI\n    });\n\n    // --- Render Chart ---\n    return (\n        <div className=\"w-full bg-white p-4 md:p-6 rounded-lg shadow\">\n            {/* Header */}\n            <div className=\"mb-4\">\n                <h2 className=\"text-xl font-semibold text-gray-800\">{data.metadata.title}</h2>\n                {data.metadata.subtitle && <p className=\"text-sm text-gray-600 mt-1\">{data.metadata.subtitle}</p>}\n                {data.metadata.question && <p className=\"text-sm text-gray-500 italic mt-1\">{data.metadata.question}</p>}\n            </div>\n\n            {/* Chart Container */}\n            <div className=\"h-[450px] md:h-[500px] w-full\" style={{ border: '2px solid blue' }}>\n                {!isMounted ? (\n                    <div className=\"flex items-center justify-center h-full\">\n                        <p className=\"text-gray-500\">Loading chart...</p>\n                    </div>\n                ) : (\n                <ResponsiveContainer width=\"100%\" height=\"100%\">\n                    <LineChart\n                        key={`${demographic}-${showCI}`} // Add showCI to key for re-render on toggle\n                        margin={{ top: 20, right: 20, left: 10, bottom: 5 }} // Increased top margin for labels\n                    >\n                        {/* Render *Filtered* Plotbands */}\n                        {relevantPresidentialTerms.map((term, index) => (\n                            <ReferenceArea key={`term-bg-${index}`} x1={term.start} x2={term.end} yAxisId=\"left\"\n                                fill={term.party === \"Democrat\" ? \"rgba(230, 240, 255, 0.5)\" : \"rgba(255, 235, 238, 0.5)\"}\n                                ifOverflow=\"visible\" shapeRendering=\"crispEdges\" />\n                        ))}\n\n                        {/* Grid */}\n                        <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e0e0e0\" vertical={false} />\n\n                        {/* X Axis - With Explicit EVENLY SPACED Ticks */}\n                        <XAxis\n                            dataKey=\"year\" type=\"number\"\n                            domain={[xAxisMin, xAxisMax]} // Domain still determines range\n                            allowDataOverflow={true}\n                            ticks={xAxisTicks} // Use the generated ticks array\n                            tick={{ fontSize: 11, fill: '#666' }}\n                            padding={{ left: 10, right: 10 }}\n                            tickFormatter={(year) => String(year)} // Format numeric tick value as year string\n                            interval={0} // Ensure all specified ticks are attempted\n                            axisLine={{ stroke: '#ccc' }}\n                            tickLine={{ stroke: '#ccc' }}\n                        />\n\n                        {/* Y Axis - Using Refined Calculated Domain */}\n                        <YAxis\n                            yAxisId=\"left\"\n                            tickFormatter={yAxisTickFormatter}\n                            domain={yDomain} // Use the refined yDomain\n                            allowDataOverflow={false} // Prevent data spilling beyond calculated domain\n                            axisLine={false} tickLine={false}\n                            tick={{ fontSize: 11, fill: '#666' }}\n                            width={50} // Adjust based on label size if needed\n                        />\n\n                        {/* Tooltip */}\n                        <Tooltip content={<CustomTooltip />} cursor={{ stroke: '#a0a0a0', strokeWidth: 1, strokeDasharray: '3 3' }} />\n\n                        {/* Legend */}\n                        <Legend verticalAlign=\"bottom\" align=\"center\" height={40} onClick={handleLegendClick}\n                            iconSize={10} wrapperStyle={{ paddingTop: '10px' }}\n                            formatter={(value) => {\n                                const isVisible = visibleGroups.has(value);\n                                // const colorIndex = demographicGroups.indexOf(value); // Color not needed for style here\n                                return (<span style={{ color: isVisible ? '#333' : '#aaa', cursor: 'pointer', marginLeft: '4px', fontSize: '12px' }}>{value}</span>);\n                            }} />\n\n                        {/* Data Lines */}\n                        {groupedData.map((group) => {\n                            const colorIndex = demographicGroups.indexOf(group.name);\n                            const color = colorIndex !== -1 ? COLORS[colorIndex % COLORS.length] : '#8884d8';\n                            return (\n                                <Line\n                                    key={group.name} yAxisId=\"left\" type=\"linear\"\n                                    data={group.data} // Contains only points with valid numeric years\n                                    dataKey=\"value\" name={group.name} stroke={color} strokeWidth={2}\n                                    dot={{ r: 3, fill: color, strokeWidth: 1, stroke: 'white' }}\n                                    activeDot={{ r: 5, strokeWidth: 1, stroke: 'white' }}\n                                    hide={!visibleGroups.has(group.name)}\n                                    connectNulls={true} // connect line across null/missing data points\n                                    isAnimationActive={false} // Optional: disable animation for performance\n                                >\n                                    {showCI && hasCIData && (\n                                        <ErrorBar\n                                            // Symmetric error based on standard error (check for valid number)\n                                            dataKey={(d: DataPoint) => (typeof d.standard_error === 'number' && !isNaN(d.standard_error)) ? (1.96 * d.standard_error) : 0}\n                                            width={4} strokeWidth={1.5} stroke={color}\n                                            opacity={0.35} direction=\"y\"\n                                        />\n                                    )}\n                                </Line>\n                            );\n                        })}\n\n                        {/* **President Labels (Added Here)** */}\n                        {relevantPresidentialTerms.map((term, index) => (\n                            <Text\n                                key={`term-label-${index}`}\n                                x={(term.start + term.end) / 2} // Center horizontally in the band\n                                // Position near the top using the calculated Y domain's upper bound\n                                // Adjust the '- N' offset as needed for desired vertical spacing below the top edge\n                                // Ensure yDomain[1] is a number before subtracting\n                                y={typeof yDomain[1] === 'number' ? yDomain[1] - 3 : 97} // Default to 97 if domain isn't ready?\n                                textAnchor=\"middle\"     // Center text horizontally\n                                verticalAnchor=\"start\"  // Align top of text with 'y' coordinate\n                                fill=\"#6b7280\"          // Slightly muted text color (Tailwind gray-500)\n                                fontSize={10}\n                                // Optional: Add className for CSS styling\n                                // className=\"president-label\"\n                            >\n                                {term.president}\n                            </Text>\n                        ))}\n\n                    </LineChart>\n                </ResponsiveContainer>\n                )}\n            </div>\n\n            {/* Footer Controls/Info */}\n            <div className=\"flex flex-col sm:flex-row justify-between items-center mt-3 sm:mt-1 pt-2 border-t border-gray-200\">\n                {/* Source Text (Left Aligned) */}\n                <div className=\"text-xs text-gray-500 text-left order-1 sm:order-none\">\n                    Source: {data.metadata.source?.name || 'Not specified'}\n                    {data.metadata.observations && ` (${data.metadata.observations.toLocaleString()} Observations)`}\n                </div>\n\n                {/* CI Toggle (Right Aligned) */}\n                <div className=\"flex items-center space-x-2 order-2 sm:order-none\">\n                    <Switch\n                        id=\"show-ci\" checked={showCI} onCheckedChange={setShowCI}\n                        disabled={!hasCIData}\n                    />\n                    <Label htmlFor=\"show-ci\" className={`text-xs ${!hasCIData ? 'text-gray-400' : 'text-gray-600'}`}>\n                        Show 95% CI\n                    </Label>\n                </div>\n            </div>\n        </div>\n    );\n}","\"use client\"\n\nimport * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"../lib/utils\"\n\nfunction Tabs({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Root>) {\n  return (\n    <TabsPrimitive.Root\n      data-slot=\"tabs\"\n      className={cn(\"flex flex-col gap-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction TabsList({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.List>) {\n  return (\n    <TabsPrimitive.List\n      data-slot=\"tabs-list\"\n      className={cn(\n        \"bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TabsTrigger({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Trigger>) {\n  return (\n    <TabsPrimitive.Trigger\n      data-slot=\"tabs-trigger\"\n      className={cn(\n        \"data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TabsContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Content>) {\n  return (\n    <TabsPrimitive.Content\n      data-slot=\"tabs-content\"\n      className={cn(\"flex-1 outline-none\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n","'use client';\n\nimport React, { useState } from 'react';\nimport {\n    Line,\n    LineChart,\n    CartesianGrid,\n    XAxis,\n    YAxis,\n    Tooltip,\n    ErrorBar,\n} from 'recharts';\nimport {\n    Users,\n    GraduationCap,\n    UserCircle2,\n    DollarSign,\n    Palette,\n    LucideIcon,\n} from 'lucide-react';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '../ui/tabs';\n\ninterface DataPoint {\n    break_out: string;\n    value: number;\n    confidence_limit_low: number;\n    confidence_limit_high: number;\n    error: [number, number];\n    break_out_category: string;\n    [key: string]: any;\n}\n\ninterface DemographicLineChartProps {\n    data: Record<string, any>;\n    ylabel?: string;\n}\n\nconst domains = {\n    'Age Group': ['18-24', '25-34', '35-44', '45-54', '55-64', '65+'],\n    'Education Attained': [\n        'Less than H.S.',\n        'H.S. or G.E.D.',\n        'Some post-H.S.',\n        'College graduate',\n    ],\n    'Household Income': [\n        'Less than $15,000',\n        '$15,000-$24,999',\n        '$25,000-$34,999',\n        '$35,000-$49,999',\n        '$50,000-$99,999',\n        '$100,000-$199,999',\n        '$200,000+',\n    ],\n    'Race/Ethnicity': [\n        'White, non-Hispanic',\n        'Black, non-Hispanic',\n        'Asian, non-Hispanic',\n        'Hispanic',\n    ],\n    Gender: ['Female', 'Male'],\n};\n\ninterface CategoryInfo {\n    icon: LucideIcon;\n    color: string;\n}\n\nconst categoryReference: Record<string, CategoryInfo> = {\n    'Age Group': { icon: Users, color: 'text-blue-500' },\n    'Education Attained': { icon: GraduationCap, color: 'text-green-500' },\n    Gender: { icon: UserCircle2, color: 'text-purple-500' },\n    'Household Income': { icon: DollarSign, color: 'text-yellow-500' },\n    'Race/Ethnicity': { icon: Palette, color: 'text-red-500' },\n};\n\nconst defaultCategoryInfo: CategoryInfo = {\n    icon: Users,\n    color: 'text-gray-500',\n};\n\nfunction getCategoryInfo(category: string): CategoryInfo {\n    return categoryReference[category] || defaultCategoryInfo;\n}\n\ninterface DemographicCategory extends CategoryInfo {\n    key: string;\n    data: DataPoint[];\n}\n\nexport default function DemographicLineChart({\n    data,\n    ylabel = 'Value (%)',\n}: DemographicLineChartProps) {\n    const [activeTab, setActiveTab] = useState<string | null>(null);\n    const [demographicCategories, setDemographicCategories] = useState<DemographicCategory[]>([]);\n\n    React.useEffect(() => {\n        if (!data || typeof data !== 'object') return;\n\n        const categories = Object.entries(data)\n            .filter(\n                ([_, categoryData]) =>\n                    categoryData &&\n                    typeof categoryData === 'object' &&\n                    Object.values(categoryData).some((value) => value !== null)\n            )\n            .map(([key, categoryData]) => ({\n                key,\n                ...getCategoryInfo(key),\n                data: Object.entries(categoryData as Record<string, any>)\n                    .map(([breakOut, details]: [string, any]) => ({\n                        break_out: breakOut,\n                        ...details,\n                        error: [\n                            details.value - details.confidence_limit_low,\n                            details.confidence_limit_high - details.value,\n                        ],\n                        break_out_category: key,\n                    }))\n                    .sort((a, b) => {\n                        const order = domains[key as keyof typeof domains];\n                        if (!order) return 0;\n                        const indexA = order.indexOf(a.break_out);\n                        const indexB = order.indexOf(b.break_out);\n                        return indexA - indexB;\n                    }),\n            }));\n\n        setDemographicCategories(categories);\n        if (categories.length > 0 && !activeTab) {\n            setActiveTab(categories[0].key);\n        }\n    }, [data, activeTab]);\n\n    if (demographicCategories.length === 0) {\n        return (\n            <div className=\"border rounded-lg p-6\">\n                <div>\n                    <p className=\"text-gray-600\">No demographic data available</p>\n                </div>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"border rounded-lg p-6\">\n            <div className=\"mb-4\">\n                <h3 className=\"text-lg font-semibold flex items-center gap-2\">\n                    <Users className=\"w-5 h-5\" />\n                    Demographic Line Chart with Error Bars\n                </h3>\n            </div>\n            <div>\n                <Tabs value={activeTab || undefined} onValueChange={setActiveTab}>\n                    <TabsList className=\"grid w-full\" style={{ gridTemplateColumns: `repeat(${demographicCategories.length}, 1fr)` }}>\n                        {demographicCategories.map((category) => {\n                            const Icon = category.icon;\n                            return (\n                                <TabsTrigger key={category.key} value={category.key}>\n                                    <Icon className={`w-4 h-4 mr-2 ${category.color}`} />\n                                    {category.key}\n                                </TabsTrigger>\n                            );\n                        })}\n                    </TabsList>\n\n                    {demographicCategories.map((category) => (\n                        <TabsContent key={category.key} value={category.key} className=\"space-y-4\">\n                            <div className=\"flex justify-center mt-4\">\n                                <LineChart\n                                    width={600}\n                                    height={400}\n                                    data={category.data}\n                                    margin={{ top: 20, right: 30, left: 20, bottom: 25 }}\n                                    className=\"w-full h-full\"\n                                >\n                                    <CartesianGrid strokeDasharray=\"3 3\" />\n                                    <XAxis\n                                        dataKey=\"break_out\"\n                                        label={{\n                                            value: category.data[0]?.break_out_category || '',\n                                            position: 'insideBottom',\n                                            offset: -10,\n                                        }}\n                                        interval={0}\n                                        tick={{\n                                            fill: 'hsl(var(--foreground))',\n                                            fontSize: 10,\n                                            textAnchor: 'end',\n                                            dy: 10,\n                                        }}\n                                        height={80}\n                                        padding={{ left: 30, right: 30 }}\n                                    />\n                                    <YAxis\n                                        label={{\n                                            value: ylabel,\n                                            angle: -90,\n                                            position: 'insideLeft',\n                                            offset: 0,\n                                            style: { textAnchor: 'middle' },\n                                        }}\n                                        tick={{ fill: 'hsl(var(--foreground))' }}\n                                    />\n                                    <Tooltip\n                                        contentStyle={{\n                                            backgroundColor: 'hsl(var(--background))',\n                                            border: '1px solid hsl(var(--border))',\n                                        }}\n                                    />\n                                    <Line\n                                        dataKey=\"value\"\n                                        stroke='hsl(var(--foreground))'\n                                        isAnimationActive={false}\n                                        dot={true}\n                                    >\n                                        <ErrorBar\n                                            dataKey=\"error\"\n                                            width={4}\n                                            strokeWidth={2}\n                                            stroke=\"grey\"\n                                        />\n                                    </Line>\n                                </LineChart>\n                            </div>\n\n                            <p className=\"text-sm text-gray-600 text-center\">\n                                Error bars represent 95% confidence intervals\n                            </p>\n                        </TabsContent>\n                    ))}\n                </Tabs>\n            </div>\n        </div>\n    );\n}\n","'use client';\n\nimport React, { useState } from 'react';\nimport {\n    ScatterChart,\n    Scatter,\n    CartesianGrid,\n    XAxis,\n    YAxis,\n    Tooltip,\n    ErrorBar,\n} from 'recharts';\nimport {\n    Users,\n    GraduationCap,\n    UserCircle2,\n    DollarSign,\n    Palette,\n    LucideIcon,\n} from 'lucide-react';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '../ui/tabs';\n\ninterface DataPoint {\n    break_out: string;\n    value: number;\n    confidence_limit_low: number;\n    confidence_limit_high: number;\n    error: [number, number];\n    break_out_category: string;\n    [key: string]: any;\n}\n\ninterface DemographicDotPlotProps {\n    data: Record<string, any>;\n    ylabel?: string;\n}\n\nconst domains = {\n    'Age Group': ['18-24', '25-34', '35-44', '45-54', '55-64', '65+'],\n    'Education Attained': [\n        'Less than H.S.',\n        'H.S. or G.E.D.',\n        'Some post-H.S.',\n        'College graduate',\n    ],\n    'Household Income': [\n        'Less than $15,000',\n        '$15,000-$24,999',\n        '$25,000-$34,999',\n        '$35,000-$49,999',\n        '$50,000-$99,999',\n        '$100,000-$199,999',\n        '$200,000+',\n    ],\n    'Race/Ethnicity': [\n        'White, non-Hispanic',\n        'Black, non-Hispanic',\n        'Asian, non-Hispanic',\n        'Hispanic',\n    ],\n    Gender: ['Female', 'Male'],\n};\n\ninterface CategoryInfo {\n    icon: LucideIcon;\n    color: string;\n}\n\nconst categoryReference: Record<string, CategoryInfo> = {\n    'Age Group': { icon: Users, color: 'text-blue-500' },\n    'Education Attained': { icon: GraduationCap, color: 'text-green-500' },\n    Gender: { icon: UserCircle2, color: 'text-purple-500' },\n    'Household Income': { icon: DollarSign, color: 'text-yellow-500' },\n    'Race/Ethnicity': { icon: Palette, color: 'text-red-500' },\n};\n\nconst defaultCategoryInfo: CategoryInfo = {\n    icon: Users,\n    color: 'text-gray-500',\n};\n\nfunction getCategoryInfo(category: string): CategoryInfo {\n    return categoryReference[category] || defaultCategoryInfo;\n}\n\ninterface DemographicCategory extends CategoryInfo {\n    key: string;\n    data: DataPoint[];\n}\n\nexport default function DemographicDotPlot({\n    data,\n    ylabel = 'Value (%)',\n}: DemographicDotPlotProps) {\n    const [activeTab, setActiveTab] = useState<string | null>(null);\n    const [demographicCategories, setDemographicCategories] = useState<DemographicCategory[]>([]);\n\n    React.useEffect(() => {\n        if (!data || typeof data !== 'object') return;\n\n        const categories = Object.entries(data)\n            .filter(\n                ([_, categoryData]) =>\n                    categoryData &&\n                    typeof categoryData === 'object' &&\n                    Object.values(categoryData).some((value) => value !== null)\n            )\n            .map(([key, categoryData]) => ({\n                key,\n                ...getCategoryInfo(key),\n                data: Object.entries(categoryData as Record<string, any>)\n                    .map(([breakOut, details]: [string, any]) => ({\n                        break_out: breakOut,\n                        ...details,\n                        error: [\n                            details.value - details.confidence_limit_low,\n                            details.confidence_limit_high - details.value,\n                        ],\n                        break_out_category: key,\n                    }))\n                    .sort((a, b) => {\n                        const order = domains[key as keyof typeof domains];\n                        if (!order) return 0;\n                        const indexA = order.indexOf(a.break_out);\n                        const indexB = order.indexOf(b.break_out);\n                        return indexA - indexB;\n                    }),\n            }));\n\n        setDemographicCategories(categories);\n        if (categories.length > 0 && !activeTab) {\n            setActiveTab(categories[0].key);\n        }\n    }, [data, activeTab]);\n\n    if (demographicCategories.length === 0) {\n        return (\n            <div className=\"border rounded-lg p-6\">\n                <div>\n                    <p className=\"text-gray-600\">No demographic data available</p>\n                </div>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"border rounded-lg p-6\">\n            <div className=\"mb-4\">\n                <h3 className=\"text-lg font-semibold flex items-center gap-2\">\n                    <Users className=\"w-5 h-5\" />\n                    Demographic Dot Plot with Error Bars\n                </h3>\n            </div>\n            <div>\n                <Tabs value={activeTab || undefined} onValueChange={setActiveTab}>\n                    <TabsList className=\"grid w-full\" style={{ gridTemplateColumns: `repeat(${demographicCategories.length}, 1fr)` }}>\n                        {demographicCategories.map((category) => {\n                            const Icon = category.icon;\n                            return (\n                                <TabsTrigger key={category.key} value={category.key}>\n                                    <Icon className={`w-4 h-4 mr-2 ${category.color}`} />\n                                    {category.key}\n                                </TabsTrigger>\n                            );\n                        })}\n                    </TabsList>\n\n                    {demographicCategories.map((category) => (\n                        <TabsContent key={category.key} value={category.key} className=\"space-y-4\">\n                            <div className=\"flex justify-center mt-4\">\n                                <ScatterChart\n                                    width={600}\n                                    height={400}\n                                    data={category.data}\n                                    margin={{ top: 20, right: 30, left: 20, bottom: 25 }}\n                                    className=\"w-full h-full\"\n                                >\n                                    <CartesianGrid strokeDasharray=\"3 3\" />\n                                    <XAxis\n                                        dataKey=\"break_out\"\n                                        label={{\n                                            value: category.data[0]?.break_out_category || '',\n                                            position: 'insideBottom',\n                                            offset: -10,\n                                        }}\n                                        interval={0}\n                                        tick={{\n                                            fill: 'hsl(var(--foreground))',\n                                            fontSize: 10,\n                                            textAnchor: 'end',\n                                            dy: 10,\n                                        }}\n                                        height={80}\n                                        padding={{ left: 30, right: 30 }}\n                                    />\n                                    <YAxis\n                                        label={{\n                                            value: ylabel,\n                                            angle: -90,\n                                            position: 'insideLeft',\n                                            offset: 0,\n                                            style: { textAnchor: 'middle' },\n                                        }}\n                                        tick={{ fill: 'hsl(var(--foreground))' }}\n                                    />\n                                    <Tooltip\n                                        contentStyle={{\n                                            backgroundColor: 'hsl(var(--background))',\n                                            border: '1px solid hsl(var(--border))',\n                                        }}\n                                    />\n                                    <Scatter dataKey=\"value\" fill='hsl(var(--foreground))' isAnimationActive={false}>\n                                        <ErrorBar\n                                            dataKey=\"error\"\n                                            width={4}\n                                            strokeWidth={2}\n                                            stroke=\"grey\"\n                                        />\n                                    </Scatter>\n                                </ScatterChart>\n                            </div>\n\n                            <p className=\"text-sm text-gray-600 text-center\">\n                                Error bars represent 95% confidence intervals\n                            </p>\n                        </TabsContent>\n                    ))}\n                </Tabs>\n            </div>\n        </div>\n    );\n}\n","import * as React from \"react\"\n\nimport { cn } from \"../lib/utils\"\n\nfunction Input({ className, type, ...props }: React.ComponentProps<\"input\">) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\n        \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n","'use client';\n\nimport { useState } from 'react';\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer } from 'recharts';\nimport { Button } from \"../ui/button\";\nimport { Input } from \"../ui/input\";\nimport { ArrowUpDown, ChevronDown, ChevronUp } from \"lucide-react\";\n\ninterface StateData {\n  state_name: string;\n  overall: number | null;\n}\n\ninterface Data {\n  state_data: {\n    [key: string]: StateData;\n  };\n  question: string;\n  response: string;\n  clean_title: string;\n  year: number;\n}\n\ninterface SortedDataItem {\n  code: string;\n  state: string;\n  overall: number;\n}\n\ninterface StateBarChartProps {\n  data: Data;\n}\n\nexport default function StateBarChart({ data }: StateBarChartProps) {\n  const [sortOrder, setSortOrder] = useState<'asc' | 'desc'>('desc');\n  const [searchTerm, setSearchTerm] = useState('');\n  const [isExpanded, setIsExpanded] = useState(false);\n\n  const sortedData = Object.entries(data.state_data)\n    .filter((entry): entry is [string, StateData & { overall: number }] => (entry[1] as any).overall !== null)\n    .map(([code, data]): SortedDataItem => ({\n      code,\n      state: data.state_name,\n      overall: data.overall\n    }))\n    .sort((a, b) => sortOrder === 'desc' ? b.overall - a.overall : a.overall - b.overall)\n    .filter(item =>\n      item.state.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      item.code.toLowerCase().includes(searchTerm.toLowerCase())\n    );\n\n  const toggleSort = () => {\n    setSortOrder(prev => prev === 'desc' ? 'asc' : 'desc');\n  };\n\n  return (\n    <div className=\"w-full\">\n      <div className=\"mb-4\">\n        <div className=\"flex items-center gap-2 mb-2\">\n          <h2 className=\"text-2xl font-bold\">{data.clean_title}</h2>\n          <span className=\"text-md text-gray-500\">({data.year})</span>\n        </div>\n        <div className=\"flex items-center gap-2 mb-4\">\n          <span className=\"text-md text-gray-500\">{data.question}</span>\n        </div>\n\n        <div className=\"flex justify-between items-center mb-4\">\n          <Input\n            placeholder=\"Search states...\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n            className=\"max-w-sm\"\n          />\n          <Button onClick={toggleSort} variant=\"outline\">\n            Sort {sortOrder === 'desc' ? 'Ascending' : 'Descending'}\n            <ArrowUpDown className=\"ml-2 h-4 w-4\" />\n          </Button>\n        </div>\n      </div>\n\n      <div className={`${isExpanded ? 'h-auto' : 'h-[400px]'}`}>\n        <ResponsiveContainer width=\"100%\" height={isExpanded ? 800 : 400}>\n          <BarChart data={sortedData} layout=\"vertical\" margin={{ right: 20, top: 20, bottom: 40 }}>\n            <CartesianGrid strokeDasharray=\"3 3\" />\n            <XAxis\n              type=\"number\"\n              label={{ value: `Response: ${data.response} (%)`, position: 'bottom', offset: 0 }}\n              tickFormatter={(value) => `${value}%`}\n            />\n            <YAxis\n              dataKey=\"state\"\n              type=\"category\"\n              width={180}\n              interval={isExpanded ? 0 : 5}\n              tick={{ fontSize: 10 }}\n            />\n            <Tooltip\n              formatter={(value: number) => [`${value}%`, `Response: ${data.response}`]}\n              labelFormatter={(label: string) => `State: ${label}`}\n            />\n            <Bar dataKey=\"overall\" fill=\"#4A4A4A\" />\n          </BarChart>\n        </ResponsiveContainer>\n      </div>\n\n      <div className=\"flex justify-center mt-4\">\n        <Button onClick={() => setIsExpanded(!isExpanded)} variant=\"outline\">\n          {isExpanded ? (\n            <>\n              See less <ChevronUp className=\"ml-2 h-4 w-4\" />\n            </>\n          ) : (\n            <>\n              Expand <ChevronDown className=\"ml-2 h-4 w-4\" />\n            </>\n          )}\n        </Button>\n      </div>\n\n      <div className=\"flex items-center gap-2 mt-6\">\n        <span className=\"text-sm text-gray-500\">Source: CDC Behavioral Risk Factor Surveillance System</span>\n      </div>\n    </div>\n  );\n}","'use client';\n\nimport React, { useRef, useEffect, useMemo } from 'react';\nimport * as Plot from \"@observablehq/plot\";\n\ninterface HealthDataPoint {\n  OBESITY_AdjPrev: number;\n  DIABETES_AdjPrev: number;\n  population: number;\n  dir2020?: string;\n}\n\ninterface HealthScatterplotProps {\n  data: HealthDataPoint[];\n}\n\nconst HealthScatterplot: React.FC<HealthScatterplotProps> = ({ data }) => {\n  const singleRef = useRef<HTMLDivElement>(null);\n  const regressionRef = useRef<HTMLDivElement>(null);\n  const facetRef = useRef<HTMLDivElement>(null);\n\n  // Filter data to remove undefined dir2020 values for cleaner visualization\n  const cleanData = useMemo(() => data.filter(d => d.dir2020 !== undefined), [data]);\n\n  useEffect(() => {\n    if (!data || data.length === 0) return;\n\n    // Clear existing plots\n    if (singleRef.current) singleRef.current.innerHTML = '';\n    if (regressionRef.current) regressionRef.current.innerHTML = '';\n    if (facetRef.current) facetRef.current.innerHTML = '';\n\n    // Basic scatterplot\n    const singlePlot = Plot.plot({\n      title: \"County Health Correlations\",\n      subtitle: \"Obesity vs Diabetes prevalence by county\",\n      caption: \"Source: CDC\",\n      style: {\n        backgroundColor: \"white\",\n        fontFamily: \"sans-serif\",\n      },\n      x: {\n        label: \"Obesity (%)\",\n        grid: true\n      },\n      y: {\n        label: \"Diabetes (%)\",\n        grid: true\n      },\n      marks: [\n        Plot.dot(cleanData, {\n          x: \"OBESITY_AdjPrev\",\n          y: \"DIABETES_AdjPrev\",\n          r: d => Math.sqrt(d.population) * 0.008,\n          fill: d => d.dir2020,\n          fillOpacity: 0.6,\n          stroke: \"black\",\n          strokeWidth: 0.5,\n          title: d => `Obesity: ${d.OBESITY_AdjPrev}%\\nDiabetes: ${d.DIABETES_AdjPrev}%\\nPopulation: ${d.population?.toLocaleString()}`\n        })\n      ],\n      color: {\n        legend: true,\n        scheme: \"category10\"\n      },\n      width: 700,\n      height: 500\n    });\n\n    // Regression scatterplot\n    const regressionPlot = Plot.plot({\n      title: \"County Health Correlations with Trend\",\n      subtitle: \"Including linear regression line\",\n      caption: \"Source: CDC\",\n      style: {\n        backgroundColor: \"white\",\n        fontFamily: \"sans-serif\",\n      },\n      x: {\n        label: \"Obesity (%)\",\n        grid: true\n      },\n      y: {\n        label: \"Diabetes (%)\",\n        grid: true\n      },\n      marks: [\n        Plot.dot(cleanData, {\n          x: \"OBESITY_AdjPrev\",\n          y: \"DIABETES_AdjPrev\",\n          r: d => Math.sqrt(d.population) * 0.008,\n          fill: d => d.dir2020,\n          fillOpacity: 0.7,\n          stroke: \"black\",\n          strokeWidth: 0.5,\n          title: d => `Obesity: ${d.OBESITY_AdjPrev}%\\nDiabetes: ${d.DIABETES_AdjPrev}%\\nPopulation: ${d.population?.toLocaleString()}`\n        }),\n        Plot.linearRegressionY(cleanData, {\n          x: \"OBESITY_AdjPrev\",\n          y: \"DIABETES_AdjPrev\",\n          strokeWidth: 2,\n          stroke: \"#ff6b35\"\n        })\n      ],\n      color: {\n        legend: true,\n        scheme: \"category10\"\n      },\n      width: 700,\n      height: 500\n    });\n\n    // Faceted scatterplot\n    const facetPlot = Plot.plot({\n      title: \"County Health Correlations by Category\",\n      subtitle: \"Faceted by demographic grouping\",\n      caption: \"Source: CDC\",\n      style: {\n        backgroundColor: \"white\",\n        fontFamily: \"sans-serif\",\n      },\n      x: {\n        label: \"Obesity (%)\",\n        grid: true\n      },\n      y: {\n        label: \"Diabetes (%)\",\n        grid: true\n      },\n      facet: { data: cleanData, x: \"dir2020\" },\n      marks: [\n        Plot.dot(cleanData, {\n          x: \"OBESITY_AdjPrev\",\n          y: \"DIABETES_AdjPrev\",\n          r: d => Math.sqrt(d.population) * 0.01,\n          stroke: \"dir2020\",\n          fill: \"dir2020\",\n          fillOpacity: 0.3,\n          title: d => `Obesity: ${d.OBESITY_AdjPrev}%\\nDiabetes: ${d.DIABETES_AdjPrev}%\\nPopulation: ${d.population?.toLocaleString()}`,\n          tip: true\n        }),\n        Plot.linearRegressionY(cleanData, {\n          x: \"OBESITY_AdjPrev\",\n          y: \"DIABETES_AdjPrev\",\n          stroke: \"dir2020\",\n          strokeWidth: 2\n        })\n      ],\n      color: {\n        legend: true,\n        scheme: \"category10\"\n      },\n      width: 800,\n      height: 600\n    });\n\n    // Append plots to containers\n    if (singleRef.current) singleRef.current.appendChild(singlePlot);\n    if (regressionRef.current) regressionRef.current.appendChild(regressionPlot);\n    if (facetRef.current) facetRef.current.appendChild(facetPlot);\n\n    // Cleanup\n    return () => {\n      singlePlot?.remove();\n      regressionPlot?.remove();\n      facetPlot?.remove();\n    };\n  }, [data, cleanData]);\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"mb-6\">\n        <p className=\"text-gray-600\">\n          Scatterplot analysis exploring relationships between county-level health indicators.\n          Each visualization reveals different aspects of the obesity-diabetes correlation using various analytical approaches.\n        </p>\n      </div>\n\n      <div className=\"border rounded-lg p-6\">\n        <div className=\"mb-4\">\n          <h3 className=\"text-lg font-semibold\">Basic Scatterplot</h3>\n          <p className=\"text-sm text-gray-600\">\n            Simple scatter plot showing the relationship between obesity and diabetes rates\n          </p>\n        </div>\n        <div>\n          <div ref={singleRef} className=\"flex justify-center\" />\n          <p className=\"text-sm text-gray-600 mt-4\">\n            Each point represents a county. Point size reflects population, and color indicates demographic grouping.\n            The clear clustering pattern suggests a strong positive relationship between these health metrics.\n          </p>\n        </div>\n      </div>\n\n      <div className=\"border rounded-lg p-6\">\n        <div className=\"mb-4\">\n          <h3 className=\"text-lg font-semibold\">Regression Analysis</h3>\n          <p className=\"text-sm text-gray-600\">\n            Same data with linear regression line showing the overall trend\n          </p>\n        </div>\n        <div>\n          <div ref={regressionRef} className=\"flex justify-center\" />\n          <p className=\"text-sm text-gray-600 mt-4\">\n            The orange regression line shows the positive correlation between obesity and diabetes rates across counties.\n            The linear trend confirms the strong association between these health conditions at the population level.\n          </p>\n        </div>\n      </div>\n\n      <div className=\"border rounded-lg p-6\">\n        <div className=\"mb-4\">\n          <h3 className=\"text-lg font-semibold\">Faceted Analysis</h3>\n          <p className=\"text-sm text-gray-600\">\n            Separate panels for each demographic category with individual regression lines\n          </p>\n        </div>\n        <div>\n          <div ref={facetRef} className=\"flex justify-center\" />\n          <p className=\"text-sm text-gray-600 mt-4\">\n            Faceted view allows comparison of obesity-diabetes relationships across different demographic groups,\n            each with its own regression line. This reveals how the correlation strength may vary by population characteristics.\n          </p>\n        </div>\n      </div>\n\n      <div className=\"mt-6 p-4 bg-gray-50 rounded-lg\">\n        <h3 className=\"font-semibold mb-2\">Scatterplot Techniques</h3>\n        <div className=\"grid md:grid-cols-3 gap-4 text-sm\">\n          <div>\n            <h4 className=\"font-medium\">Basic Scatter</h4>\n            <ul className=\"list-disc list-inside text-gray-600 space-y-1\">\n              <li>Point-to-point relationships</li>\n              <li>Size and color encoding</li>\n              <li>Pattern identification</li>\n              <li>Outlier detection</li>\n            </ul>\n          </div>\n          <div>\n            <h4 className=\"font-medium\">Regression Lines</h4>\n            <ul className=\"list-disc list-inside text-gray-600 space-y-1\">\n              <li>Trend quantification</li>\n              <li>Predictive modeling</li>\n              <li>Correlation strength</li>\n              <li>Statistical inference</li>\n            </ul>\n          </div>\n          <div>\n            <h4 className=\"font-medium\">Faceted Views</h4>\n            <ul className=\"list-disc list-inside text-gray-600 space-y-1\">\n              <li>Group comparisons</li>\n              <li>Conditional relationships</li>\n              <li>Subpopulation analysis</li>\n              <li>Interaction effects</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default HealthScatterplot;","/**\n * Statistical Utilities for Recharts Visualizations\n * Provides functions for statistical calculations and transformations\n */\n\nexport interface QuartileData {\n  min: number;\n  q1: number;\n  median: number;\n  q3: number;\n  max: number;\n  outliers: number[];\n  iqr: number;\n}\n\n/**\n * Calculate quartiles and identify outliers for box plot\n */\nexport function calculateQuartiles(data: number[]): QuartileData {\n  if (data.length === 0) {\n    return { min: 0, q1: 0, median: 0, q3: 0, max: 0, outliers: [], iqr: 0 };\n  }\n\n  const sorted = [...data].sort((a, b) => a - b);\n  const n = sorted.length;\n\n  const q1 = quantile(sorted, 0.25);\n  const median = quantile(sorted, 0.5);\n  const q3 = quantile(sorted, 0.75);\n  const iqr = q3 - q1;\n\n  // Outliers are beyond 1.5 * IQR from quartiles\n  const lowerFence = q1 - 1.5 * iqr;\n  const upperFence = q3 + 1.5 * iqr;\n\n  const outliers = sorted.filter(v => v < lowerFence || v > upperFence);\n  const nonOutliers = sorted.filter(v => v >= lowerFence && v <= upperFence);\n\n  const min = nonOutliers.length > 0 ? nonOutliers[0] : sorted[0];\n  const max = nonOutliers.length > 0 ? nonOutliers[nonOutliers.length - 1] : sorted[n - 1];\n\n  return { min, q1, median, q3, max, outliers, iqr };\n}\n\n/**\n * Calculate quantile value\n */\nexport function quantile(sortedData: number[], p: number): number {\n  if (sortedData.length === 0) return 0;\n  if (p <= 0) return sortedData[0];\n  if (p >= 1) return sortedData[sortedData.length - 1];\n\n  const index = (sortedData.length - 1) * p;\n  const lower = Math.floor(index);\n  const upper = Math.ceil(index);\n  const weight = index - lower;\n\n  return sortedData[lower] * (1 - weight) + sortedData[upper] * weight;\n}\n\n/**\n * Calculate mean\n */\nexport function mean(data: number[]): number {\n  if (data.length === 0) return 0;\n  return data.reduce((sum, val) => sum + val, 0) / data.length;\n}\n\n/**\n * Calculate standard deviation\n */\nexport function standardDeviation(data: number[]): number {\n  if (data.length === 0) return 0;\n  const avg = mean(data);\n  const squareDiffs = data.map(value => Math.pow(value - avg, 2));\n  const avgSquareDiff = mean(squareDiffs);\n  return Math.sqrt(avgSquareDiff);\n}\n\n/**\n * Calculate confidence interval for mean\n */\nexport function confidenceInterval(data: number[], confidence: number = 0.95): { mean: number; lower: number; upper: number; error: number } {\n  const avg = mean(data);\n  const std = standardDeviation(data);\n  const n = data.length;\n\n  // Using t-distribution approximation (simplified with z-score for large n)\n  const zScore = confidence === 0.95 ? 1.96 : confidence === 0.99 ? 2.576 : 1.96;\n  const standardError = std / Math.sqrt(n);\n  const marginError = zScore * standardError;\n\n  return {\n    mean: avg,\n    lower: avg - marginError,\n    upper: avg + marginError,\n    error: marginError\n  };\n}\n\n/**\n * Kernel Density Estimation for violin plots\n */\nexport function kernelDensity(\n  data: number[],\n  bandwidth?: number,\n  points: number = 50\n): Array<{ x: number; density: number }> {\n  const n = data.length;\n  if (n === 0) return [];\n\n  // Silverman's rule of thumb for bandwidth\n  const std = standardDeviation(data);\n  const bw = bandwidth ?? 1.06 * std * Math.pow(n, -1 / 5);\n\n  const min = Math.min(...data);\n  const max = Math.max(...data);\n  const range = max - min;\n  const padding = range * 0.1;\n\n  const result: Array<{ x: number; density: number }> = [];\n\n  for (let i = 0; i < points; i++) {\n    const x = min - padding + ((max - min + 2 * padding) * i) / (points - 1);\n    let density = 0;\n\n    for (const value of data) {\n      const u = (x - value) / bw;\n      // Gaussian kernel\n      density += Math.exp((-1 / 2) * u * u) / Math.sqrt(2 * Math.PI);\n    }\n\n    result.push({ x, density: density / (n * bw) });\n  }\n\n  return result;\n}\n\n/**\n * Create histogram bins using Sturges' rule\n */\nexport function createHistogram(\n  data: number[],\n  bins?: number\n): Array<{ bin: string; count: number; binStart: number; binEnd: number; binMid: number }> {\n  if (data.length === 0) return [];\n\n  const numBins = bins ?? Math.ceil(Math.log2(data.length) + 1);\n  const min = Math.min(...data);\n  const max = Math.max(...data);\n  const binWidth = (max - min) / numBins;\n\n  const histogram = Array.from({ length: numBins }, (_, i) => {\n    const binStart = min + i * binWidth;\n    const binEnd = min + (i + 1) * binWidth;\n    const binMid = (binStart + binEnd) / 2;\n    return {\n      bin: `${binStart.toFixed(1)}-${binEnd.toFixed(1)}`,\n      count: 0,\n      binStart,\n      binEnd,\n      binMid\n    };\n  });\n\n  data.forEach(value => {\n    const binIndex = Math.min(Math.floor((value - min) / binWidth), numBins - 1);\n    histogram[binIndex].count++;\n  });\n\n  return histogram;\n}\n\n/**\n * Calculate linear regression\n */\nexport function linearRegression(\n  x: number[],\n  y: number[]\n): { slope: number; intercept: number; rSquared: number; residuals: number[]; fitted: number[] } {\n  const n = x.length;\n  if (n === 0 || n !== y.length) {\n    return { slope: 0, intercept: 0, rSquared: 0, residuals: [], fitted: [] };\n  }\n\n  const meanX = mean(x);\n  const meanY = mean(y);\n\n  let numerator = 0;\n  let denominator = 0;\n\n  for (let i = 0; i < n; i++) {\n    numerator += (x[i] - meanX) * (y[i] - meanY);\n    denominator += Math.pow(x[i] - meanX, 2);\n  }\n\n  const slope = denominator !== 0 ? numerator / denominator : 0;\n  const intercept = meanY - slope * meanX;\n\n  // Calculate R-squared and residuals\n  const fitted = x.map(xi => slope * xi + intercept);\n  const residuals = y.map((yi, i) => yi - fitted[i]);\n\n  const ssRes = residuals.reduce((sum, r) => sum + r * r, 0);\n  const ssTot = y.reduce((sum, yi) => sum + Math.pow(yi - meanY, 2), 0);\n  const rSquared = ssTot !== 0 ? 1 - ssRes / ssTot : 0;\n\n  return { slope, intercept, rSquared, residuals, fitted };\n}\n\n/**\n * Calculate theoretical quantiles for Q-Q plot\n */\nexport function qqPlotData(data: number[]): Array<{ theoretical: number; sample: number }> {\n  if (data.length === 0) return [];\n\n  const sorted = [...data].sort((a, b) => a - b);\n  const n = sorted.length;\n\n  return sorted.map((value, i) => {\n    // Calculate theoretical quantile from standard normal distribution\n    const p = (i + 0.5) / n; // Plotting position\n    const theoretical = normalQuantile(p);\n\n    return {\n      theoretical,\n      sample: value\n    };\n  });\n}\n\n/**\n * Approximate inverse normal CDF (for Q-Q plot)\n */\nfunction normalQuantile(p: number): number {\n  // Beasley-Springer-Moro algorithm approximation\n  const a = [\n    -3.969683028665376e+01,\n    2.209460984245205e+02,\n    -2.759285104469687e+02,\n    1.383577518672690e+02,\n    -3.066479806614716e+01,\n    2.506628277459239e+00\n  ];\n\n  const b = [\n    -5.447609879822406e+01,\n    1.615858368580409e+02,\n    -1.556989798598866e+02,\n    6.680131188771972e+01,\n    -1.328068155288572e+01\n  ];\n\n  const c = [\n    -7.784894002430293e-03,\n    -3.223964580411365e-01,\n    -2.400758277161838e+00,\n    -2.549732539343734e+00,\n    4.374664141464968e+00,\n    2.938163982698783e+00\n  ];\n\n  const d = [\n    7.784695709041462e-03,\n    3.224671290700398e-01,\n    2.445134137142996e+00,\n    3.754408661907416e+00\n  ];\n\n  const pLow = 0.02425;\n  const pHigh = 1 - pLow;\n\n  if (p < pLow) {\n    const q = Math.sqrt(-2 * Math.log(p));\n    return (((((c[0] * q + c[1]) * q + c[2]) * q + c[3]) * q + c[4]) * q + c[5]) /\n           ((((d[0] * q + d[1]) * q + d[2]) * q + d[3]) * q + 1);\n  } else if (p <= pHigh) {\n    const q = p - 0.5;\n    const r = q * q;\n    return (((((a[0] * r + a[1]) * r + a[2]) * r + a[3]) * r + a[4]) * r + a[5]) * q /\n           (((((b[0] * r + b[1]) * r + b[2]) * r + b[3]) * r + b[4]) * r + 1);\n  } else {\n    const q = Math.sqrt(-2 * Math.log(1 - p));\n    return -(((((c[0] * q + c[1]) * q + c[2]) * q + c[3]) * q + c[4]) * q + c[5]) /\n            ((((d[0] * q + d[1]) * q + d[2]) * q + d[3]) * q + 1);\n  }\n}\n\n/**\n * Calculate beeswarm layout for swarm plot\n */\nexport function beeswarmLayout(\n  values: number[],\n  categoryIndex: number,\n  radius: number = 3\n): Array<{ x: number; y: number; value: number }> {\n  const sorted = values\n    .map((value, idx) => ({ value, originalIndex: idx }))\n    .sort((a, b) => a.value - b.value);\n\n  const positions: Array<{ x: number; y: number; value: number }> = [];\n  const placed: Array<{ x: number; y: number }> = [];\n\n  sorted.forEach(({ value }) => {\n    let x = categoryIndex;\n    let y = value;\n    let offset = 0;\n    let direction = 1;\n\n    // Find non-overlapping position\n    while (true) {\n      const overlaps = placed.some(p => {\n        const dx = x - p.x;\n        const dy = y - p.y;\n        return Math.sqrt(dx * dx + dy * dy) < radius * 2.2;\n      });\n\n      if (!overlaps) {\n        break;\n      }\n\n      offset += radius * 0.8;\n      x = categoryIndex + offset * direction;\n      direction *= -1;\n    }\n\n    positions.push({ x, y, value });\n    placed.push({ x, y });\n  });\n\n  return positions;\n}\n\n/**\n * Add jitter to values for strip plot\n */\nexport function addJitter(categoryIndex: number, count: number, jitterAmount: number = 0.3): number[] {\n  return Array.from({ length: count }, () =>\n    categoryIndex + (Math.random() - 0.5) * jitterAmount\n  );\n}\n","'use client';\n\nimport React, { useMemo } from 'react';\nimport {\n  BarChart,\n  Bar,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  Legend,\n  ResponsiveContainer,\n  ReferenceLine\n} from 'recharts';\nimport { createHistogram } from '../utils/statistical-utils';\n\nexport interface HistogramProps {\n  data: number[];\n  bins?: number;\n  width?: number;\n  height?: number;\n  xlabel?: string;\n  ylabel?: string;\n  title?: string;\n  color?: string;\n  showMean?: boolean;\n  showMedian?: boolean;\n}\n\nexport default function HistogramRecharts({\n  data,\n  bins,\n  width,\n  height = 500,\n  xlabel = 'Value',\n  ylabel = 'Frequency',\n  title,\n  color = 'hsl(var(--primary))',\n  showMean = true,\n  showMedian = false\n}: HistogramProps) {\n  const histogramData = useMemo(() => {\n    return createHistogram(data, bins);\n  }, [data, bins]);\n\n  const statistics = useMemo(() => {\n    if (data.length === 0) return { mean: 0, median: 0 };\n\n    const mean = data.reduce((sum, val) => sum + val, 0) / data.length;\n    const sorted = [...data].sort((a, b) => a - b);\n    const median = sorted[Math.floor(sorted.length / 2)];\n\n    return { mean, median };\n  }, [data]);\n\n  const CustomTooltip = ({ active, payload }: any) => {\n    if (active && payload && payload.length) {\n      const data = payload[0].payload;\n      return (\n        <div className=\"bg-white dark:bg-gray-800 p-3 border rounded shadow-lg\">\n          <p className=\"font-semibold\">{data.bin}</p>\n          <p className=\"text-sm\">Count: {data.count}</p>\n          <p className=\"text-xs text-muted-foreground\">\n            Range: [{data.binStart.toFixed(2)}, {data.binEnd.toFixed(2)})\n          </p>\n        </div>\n      );\n    }\n    return null;\n  };\n\n  return (\n    <div className=\"w-full\">\n      {title && <h3 className=\"text-lg font-semibold mb-4\">{title}</h3>}\n      <ResponsiveContainer width={width || '100%'} height={height}>\n        <BarChart data={histogramData} margin={{ top: 20, right: 30, left: 20, bottom: 60 }}>\n          <CartesianGrid strokeDasharray=\"3 3\" />\n          <XAxis\n            dataKey=\"bin\"\n            label={{ value: xlabel, position: 'insideBottom', offset: -10 }}\n            angle={-45}\n            textAnchor=\"end\"\n            height={80}\n          />\n          <YAxis label={{ value: ylabel, angle: -90, position: 'insideLeft' }} />\n          <Tooltip content={<CustomTooltip />} />\n          <Legend />\n          <Bar dataKey=\"count\" fill={color} name=\"Frequency\" />\n\n          {showMean && (\n            <ReferenceLine\n              x={histogramData.find(d =>\n                d.binStart <= statistics.mean && d.binEnd > statistics.mean\n              )?.bin}\n              stroke=\"hsl(var(--destructive))\"\n              strokeWidth={2}\n              strokeDasharray=\"5 5\"\n              label={{ value: `Mean: ${statistics.mean.toFixed(2)}`, position: 'top', fill: 'hsl(var(--destructive))' }}\n            />\n          )}\n\n          {showMedian && (\n            <ReferenceLine\n              x={histogramData.find(d =>\n                d.binStart <= statistics.median && d.binEnd > statistics.median\n              )?.bin}\n              stroke=\"hsl(var(--chart-2))\"\n              strokeWidth={2}\n              strokeDasharray=\"5 5\"\n              label={{ value: `Median: ${statistics.median.toFixed(2)}`, position: 'bottom', fill: 'hsl(var(--chart-2))' }}\n            />\n          )}\n        </BarChart>\n      </ResponsiveContainer>\n\n      <div className=\"mt-4 text-sm text-muted-foreground\">\n        <p>Total observations: {data.length}  Bins: {histogramData.length}  Mean: {statistics.mean.toFixed(2)}  Median: {statistics.median.toFixed(2)}</p>\n      </div>\n    </div>\n  );\n}\n","'use client';\n\nimport React, { useMemo } from 'react';\nimport {\n  ComposedChart,\n  Scatter,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  ResponsiveContainer,\n  Cell\n} from 'recharts';\nimport { calculateQuartiles, kernelDensity } from '../utils/statistical-utils';\n\nexport interface ViolinPlotDataPoint {\n  category: string;\n  values: number[];\n}\n\nexport interface ViolinPlotProps {\n  data: ViolinPlotDataPoint[];\n  width?: number;\n  height?: number;\n  xlabel?: string;\n  ylabel?: string;\n  title?: string;\n  showBox?: boolean;\n}\n\nexport default function ViolinPlot({\n  data,\n  width,\n  height = 500,\n  xlabel = 'Category',\n  ylabel = 'Value',\n  title,\n  showBox = true\n}: ViolinPlotProps) {\n  const { violinShapes, scatterData, yDomain } = useMemo(() => {\n    // Calculate density for each category\n    const shapes = data.map((item, idx) => {\n      const density = kernelDensity(item.values, undefined, 100);\n      const maxDensity = Math.max(...density.map(d => d.density));\n      const quartiles = calculateQuartiles(item.values);\n\n      return {\n        category: item.category,\n        categoryIndex: idx,\n        density: density.map(d => ({\n          y: d.x,\n          width: maxDensity > 0 ? (d.density / maxDensity) * 0.35 : 0\n        })),\n        quartiles\n      };\n    });\n\n    // Create scatter points for violin shapes\n    const points = shapes.flatMap(shape =>\n      shape.density.flatMap(d => [\n        {\n          categoryIndex: shape.categoryIndex - d.width,\n          category: shape.category,\n          value: d.y\n        },\n        {\n          categoryIndex: shape.categoryIndex + d.width,\n          category: shape.category,\n          value: d.y\n        }\n      ])\n    );\n\n    // Calculate y-axis domain\n    const allValues = data.flatMap(d => d.values);\n    const minVal = Math.min(...allValues);\n    const maxVal = Math.max(...allValues);\n    const padding = (maxVal - minVal) * 0.1;\n\n    return {\n      violinShapes: shapes,\n      scatterData: points,\n      yDomain: [minVal - padding, maxVal + padding]\n    };\n  }, [data]);\n\n  const CustomTooltip = ({ active, payload }: any) => {\n    if (active && payload && payload.length) {\n      const data = payload[0].payload;\n      return (\n        <div className=\"bg-white dark:bg-gray-800 p-3 border rounded shadow-lg\">\n          <p className=\"font-semibold\">{data.category}</p>\n          <p className=\"text-sm\">Value: {data.value?.toFixed(2) || 'N/A'}</p>\n        </div>\n      );\n    }\n    return null;\n  };\n\n  // Render box plot overlay\n  const renderBoxes = () => {\n    if (!showBox) return null;\n\n    return violinShapes.map((shape, idx) => {\n      const { q1, median, q3 } = shape.quartiles;\n      const categoryX = idx;\n\n      return (\n        <g key={`box-${idx}`}>\n          {/* Median line */}\n          <line\n            x1={categoryX - 0.1}\n            y1={median}\n            x2={categoryX + 0.1}\n            y2={median}\n            stroke=\"white\"\n            strokeWidth={3}\n          />\n          {/* Q1-Q3 box */}\n          <rect\n            x={categoryX - 0.08}\n            y={q3}\n            width={0.16}\n            height={q1 - q3}\n            fill=\"none\"\n            stroke=\"white\"\n            strokeWidth={2}\n          />\n        </g>\n      );\n    });\n  };\n\n  return (\n    <div className=\"w-full\">\n      {title && <h3 className=\"text-lg font-semibold mb-4\">{title}</h3>}\n      <ResponsiveContainer width={width || '100%'} height={height}>\n        <ComposedChart margin={{ top: 20, right: 30, left: 20, bottom: 80 }}>\n          <CartesianGrid strokeDasharray=\"3 3\" />\n          <XAxis\n            type=\"number\"\n            dataKey=\"categoryIndex\"\n            domain={[-0.5, data.length - 0.5]}\n            ticks={data.map((_, idx) => idx)}\n            tickFormatter={(value) => data[Math.round(value)]?.category || ''}\n            label={{ value: xlabel, position: 'insideBottom', offset: -15 }}\n            angle={-45}\n            textAnchor=\"end\"\n            height={100}\n          />\n          <YAxis\n            type=\"number\"\n            dataKey=\"value\"\n            domain={yDomain}\n            label={{ value: ylabel, angle: -90, position: 'insideLeft' }}\n          />\n          <Tooltip content={<CustomTooltip />} />\n\n          {/* Violin density points */}\n          <Scatter\n            data={scatterData}\n            fill=\"hsl(var(--primary))\"\n            fillOpacity={0.3}\n          >\n            {scatterData.map((entry, index) => (\n              <Cell\n                key={`cell-${index}`}\n                fill={`hsl(${(Math.floor(entry.categoryIndex + 0.5) * 60) % 360}, 70%, 50%)`}\n              />\n            ))}\n          </Scatter>\n        </ComposedChart>\n      </ResponsiveContainer>\n\n      <div className=\"mt-4 text-sm text-muted-foreground\">\n        <p>Violin plot showing distribution density (wider = more data points)  Categories: {data.length}</p>\n      </div>\n    </div>\n  );\n}\n"]}