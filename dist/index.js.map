{"version":3,"sources":["../src/infrastructure/PlotContainer.tsx","../src/infrastructure/PlotTheme.tsx","../src/infrastructure/PlotExport.tsx","../src/plot/geo.state_map.v1.tsx","../src/plot/geo.bubble.v1.tsx","../src/plot/stat.boxplot.v1.tsx","../src/plot/stat.boxplot.grouped.v1.tsx","../src/plot/stat.boxplot.faceted.v1.tsx","../src/plot/stat.boxplot.faceted_grouped.v1.tsx","../src/plot/stat.distribution.v1.tsx","../src/plot/stat.regression.v1.tsx","../src/plot/stat.qq.v1.tsx","../src/plot/stat.residual.v1.tsx","../src/plot/stat.swarm.v1.tsx","../src/plot/stat.strip.v1.tsx","../src/plot/stat.forest.v1.tsx","../src/plot/stat.splitbar.v1.tsx","../src/plot/basic.dot.v1.tsx","../src/plot/basic.bar.v1.tsx","../src/plot/viz.sparkline.v1.tsx","../src/plot/viz.slope.v1.tsx","../src/plot/viz.bullet.v1.tsx","../src/plot/viz.diverging_bar.v1.tsx","../src/plot/viz.faceted.v1.tsx","../src/plot/CorrelationHeatmap.tsx","../src/plot/PcaPlot.tsx","../src/plot/OddsRatio.tsx","../src/plot/HistogramObservable.tsx","../src/plot/stat.density.v1.tsx","../src/plot/GeoDensityMap.tsx","../src/plot/ChoroplethMap.tsx","../src/plot/EuropeMap.tsx","../src/plot/ZipMap.tsx","../src/plot/TimeTrendDemo.tsx","../src/recharts/timeseries.line.v1.tsx","../src/recharts/TimeSeriesChart.tsx","../src/recharts/AbortionOpinionChart.tsx","../src/recharts/stat.demographic_bar.v1.tsx","../src/recharts/ScatterplotRegression.tsx","../src/recharts/LineChart.tsx","../src/lib/utils.ts","../src/ui/button.tsx","../src/recharts/TimeSeries.tsx","../src/recharts/TimeSeriesIndex.tsx","../src/recharts/DualAxisChart.tsx","../src/ui/label.tsx","../src/ui/switch.tsx","../src/recharts/TimeTrendDemoChart.tsx","../src/ui/tabs.tsx","../src/recharts/DemographicLineChart.tsx","../src/recharts/DemographicDotPlot.tsx","../src/ui/input.tsx","../src/recharts/bar.state.v1.tsx","../src/recharts/HealthScatterplot.tsx","../src/utils/statistical-utils.ts","../src/recharts/HistogramRecharts.tsx","../src/recharts/ViolinPlot.tsx"],"names":["useRef","useState","useEffect","plot","Plot","jsx","createContext","useContext","Button","filename","jsxs","Download","React","topojson","Plot2","Plot3","Plot4","Plot5","Plot6","Plot7","Plot8","mean","median","Plot9","Plot10","Plot11","Plot12","Plot13","Plot14","formatValue","React4","Plot15","Plot16","Plot17","Plot18","Plot19","Plot20","Plot21","Plot22","Plot23","dynamic","useMemo","Plot24","Plot25","Plot26","topojson2","Plot27","TOPOLOGY_BASE_URL","data","topojson3","Plot28","topojson4","Plot29","topojson5","Plot30","useTheme","Plot31","ResponsiveContainer","LineChart","CartesianGrid","XAxis","YAxis","metadata","Tooltip","Line","ErrorBar","TimeSeriesChart","BarChart","Legend","Bar","RechartsBarChart","line","ComposedChart","ZAxis","Area","ReferenceLine","Scatter","r","Plot32","cn","twMerge","clsx","cva","Slot","recessionPeriods","Brush","ReferenceArea","TimeRangeButton","LabelPrimitive","SwitchPrimitive","Text","TabsPrimitive","Users","GraduationCap","UserCircle2","DollarSign","Palette","domains","categoryReference","defaultCategoryInfo","getCategoryInfo","ScatterChart","ArrowUpDown","Fragment","ChevronUp","ChevronDown","Plot33","density","Cell"],"mappings":"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","file":"index.js","sourcesContent":["'use client';\n\nimport { useEffect, useRef, useState } from 'react';\nimport * as Plot from '@observablehq/plot';\nimport type { PlotContainerProps } from '../types/plot';\n\n// Simple className utility\nfunction cn(...classes: (string | undefined | false)[]) {\n  return classes.filter(Boolean).join(' ');\n}\n\n/**\n * PlotContainer - Base component for all Observable Plot visualizations\n *\n * Handles:\n * - Responsive width calculation via ResizeObserver\n * - Plot creation and lifecycle management\n * - SVG element injection into the DOM\n * - Cleanup on unmount to prevent memory leaks\n * - Fixed or responsive sizing modes\n * - Accessibility (ARIA labels)\n */\nexport function PlotContainer({\n  plotSpec,\n  width = 'responsive',\n  height,\n  className,\n  ariaLabel,\n  onPlotCreated,\n}: PlotContainerProps) {\n  const containerRef = useRef<HTMLDivElement>(null);\n  const plotRef = useRef<SVGSVGElement | null>(null);\n  const [containerWidth, setContainerWidth] = useState<number>(800);\n\n  // Handle responsive width\n  useEffect(() => {\n    if (width !== 'responsive' || !containerRef.current) return;\n\n    const observer = new ResizeObserver((entries) => {\n      const entry = entries[0];\n      if (entry) {\n        setContainerWidth(entry.contentRect.width);\n      }\n    });\n\n    observer.observe(containerRef.current);\n    return () => observer.disconnect();\n  }, [width]);\n\n  // Create/update plot\n  useEffect(() => {\n    if (!containerRef.current) return;\n\n    // Calculate final width\n    const finalWidth = width === 'responsive' ? containerWidth : width;\n\n    // Create plot with updated width\n    const plot = Plot.plot({\n      ...plotSpec,\n      width: finalWidth,\n      height: height,\n    }) as SVGSVGElement;\n\n    // Clear previous plot\n    if (plotRef.current) {\n      plotRef.current.remove();\n    }\n\n    // Append new plot\n    containerRef.current.appendChild(plot);\n    plotRef.current = plot;\n\n    // Callback\n    onPlotCreated?.(plot);\n\n    // Cleanup\n    return () => {\n      if (plotRef.current) {\n        plotRef.current.remove();\n        plotRef.current = null;\n      }\n    };\n  }, [plotSpec, width, height, containerWidth, onPlotCreated]);\n\n  return (\n    <div\n      ref={containerRef}\n      className={cn('plot-container', className)}\n      role=\"img\"\n      aria-label={ariaLabel}\n    />\n  );\n}\n","'use client';\n\nimport { createContext, useContext, ReactNode } from 'react';\nimport type { PlotTheme } from '../types/plot';\n\nconst defaultLightTheme: PlotTheme = {\n  name: 'light',\n  fonts: {\n    base: 'Inter, system-ui, sans-serif',\n    mono: 'IBM Plex Mono, monospace',\n  },\n  colors: {\n    categorical: [\n      'hsl(220, 70%, 50%)',  // Blue\n      'hsl(160, 60%, 45%)',  // Green\n      'hsl(30, 80%, 55%)',   // Orange\n      'hsl(280, 65%, 60%)',  // Purple\n      'hsl(340, 75%, 55%)',  // Red\n    ],\n    sequential: 'blues',\n    diverging: 'rdbu',\n  },\n  grid: {\n    stroke: '#e0e0e0',\n    strokeWidth: 1,\n    strokeOpacity: 0.5,\n  },\n  axes: {\n    fontSize: 12,\n    fontWeight: 400,\n    color: '#666666',\n  },\n  background: '#ffffff',\n  foreground: '#000000',\n};\n\nconst defaultDarkTheme: PlotTheme = {\n  ...defaultLightTheme,\n  name: 'dark',\n  colors: {\n    ...defaultLightTheme.colors,\n    categorical: [\n      'hsl(220, 70%, 60%)',\n      'hsl(160, 60%, 55%)',\n      'hsl(30, 80%, 65%)',\n      'hsl(280, 65%, 70%)',\n      'hsl(340, 75%, 65%)',\n    ],\n  },\n  grid: {\n    stroke: '#333333',\n    strokeWidth: 1,\n    strokeOpacity: 0.3,\n  },\n  axes: {\n    fontSize: 12,\n    fontWeight: 400,\n    color: '#999999',\n  },\n  background: '#0a0a0a',\n  foreground: '#ffffff',\n};\n\nconst PlotThemeContext = createContext<PlotTheme>(defaultLightTheme);\n\nexport function PlotThemeProvider({\n  theme = 'light',\n  children,\n}: {\n  theme?: 'light' | 'dark' | PlotTheme;\n  children: ReactNode;\n}) {\n  const resolvedTheme =\n    typeof theme === 'string'\n      ? theme === 'dark'\n        ? defaultDarkTheme\n        : defaultLightTheme\n      : theme;\n\n  return (\n    <PlotThemeContext.Provider value={resolvedTheme}>\n      {children}\n    </PlotThemeContext.Provider>\n  );\n}\n\nexport function usePlotTheme() {\n  return useContext(PlotThemeContext);\n}\n\n// Export theme presets\nexport { defaultLightTheme, defaultDarkTheme };\n","'use client';\n\nimport { useState } from 'react';\nimport { Download } from 'lucide-react';\n\n/**\n * PlotExport - Export functionality for Observable Plot charts\n *\n * Provides SVG and PNG export capabilities with 2x scaling for high-DPI displays.\n *\n * Note: This component expects Button and DropdownMenu components to be available.\n * These are typically provided by shadcn/ui in the consuming application.\n */\n\ninterface PlotExportProps {\n  plotRef: React.RefObject<HTMLDivElement>;\n  filename?: string;\n  formats?: ('svg' | 'png')[];\n  // Allow consumers to provide their own Button/Dropdown components\n  Button?: any;\n  DropdownMenu?: any;\n  DropdownMenuTrigger?: any;\n  DropdownMenuContent?: any;\n  DropdownMenuItem?: any;\n}\n\nexport function PlotExport({\n  plotRef,\n  filename = 'chart',\n  formats = ['svg', 'png'],\n  Button,\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n}: PlotExportProps) {\n  const [isExporting, setIsExporting] = useState(false);\n\n  const exportAs = async (format: 'svg' | 'png') => {\n    if (!plotRef.current) return;\n\n    setIsExporting(true);\n\n    try {\n      const svgElement = plotRef.current.querySelector('svg');\n      if (!svgElement) throw new Error('No SVG found');\n\n      if (format === 'svg') {\n        const svgString = new XMLSerializer().serializeToString(svgElement);\n        const blob = new Blob([svgString], { type: 'image/svg+xml' });\n        downloadBlob(blob, `${filename}.svg`);\n      } else if (format === 'png') {\n        const canvas = document.createElement('canvas');\n        const ctx = canvas.getContext('2d');\n        if (!ctx) throw new Error('Canvas context not available');\n\n        const svgString = new XMLSerializer().serializeToString(svgElement);\n        const img = new Image();\n        const svgBlob = new Blob([svgString], { type: 'image/svg+xml' });\n        const url = URL.createObjectURL(svgBlob);\n\n        img.onload = () => {\n          // 2x scale for high-DPI displays\n          canvas.width = svgElement.width.baseVal.value * 2;\n          canvas.height = svgElement.height.baseVal.value * 2;\n          ctx.scale(2, 2);\n          ctx.drawImage(img, 0, 0);\n          URL.revokeObjectURL(url);\n\n          canvas.toBlob((blob) => {\n            if (blob) downloadBlob(blob, `${filename}.png`);\n            setIsExporting(false);\n          }, 'image/png');\n        };\n\n        img.src = url;\n        return;\n      }\n    } catch (error) {\n      console.error('Export failed:', error);\n    } finally {\n      if (format !== 'png') {\n        setIsExporting(false);\n      }\n    }\n  };\n\n  const downloadBlob = (blob: Blob, filename: string) => {\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = filename;\n    a.click();\n    URL.revokeObjectURL(url);\n  };\n\n  // If UI components are not provided, return a simple button\n  if (!Button || !DropdownMenu) {\n    return (\n      <div className=\"plot-export\">\n        <button\n          onClick={() => exportAs('svg')}\n          disabled={isExporting}\n          className=\"px-3 py-1 text-sm border rounded hover:bg-gray-50 disabled:opacity-50\"\n        >\n          <Download className=\"h-4 w-4 inline mr-2\" />\n          {isExporting ? 'Exporting...' : 'Export SVG'}\n        </button>\n        {formats.includes('png') && (\n          <button\n            onClick={() => exportAs('png')}\n            disabled={isExporting}\n            className=\"ml-2 px-3 py-1 text-sm border rounded hover:bg-gray-50 disabled:opacity-50\"\n          >\n            Export PNG\n          </button>\n        )}\n      </div>\n    );\n  }\n\n  // Use provided UI components (shadcn/ui pattern)\n  return (\n    <DropdownMenu>\n      <DropdownMenuTrigger asChild>\n        <Button variant=\"outline\" size=\"sm\" disabled={isExporting}>\n          <Download className=\"h-4 w-4 mr-2\" />\n          {isExporting ? 'Exporting...' : 'Export'}\n        </Button>\n      </DropdownMenuTrigger>\n      <DropdownMenuContent align=\"end\">\n        {formats.includes('svg') && (\n          <DropdownMenuItem onClick={() => exportAs('svg')}>\n            Export as SVG\n          </DropdownMenuItem>\n        )}\n        {formats.includes('png') && (\n          <DropdownMenuItem onClick={() => exportAs('png')}>\n            Export as PNG\n          </DropdownMenuItem>\n        )}\n      </DropdownMenuContent>\n    </DropdownMenu>\n  );\n}\n","'use client';\n\nimport * as Plot from \"@observablehq/plot\";\nimport * as topojson from \"topojson-client\";\nimport * as React from \"react\";\n\nexport interface StateMapProps {\n  /** US TopoJSON data with states and nation objects */\n  usTopoJSON: any;\n\n  /** State data with state names and values */\n  data: Array<{ state: string; value: number }>;\n\n  /** Chart width in pixels */\n  width?: number;\n\n  /** Chart height in pixels */\n  height?: number;\n\n  /** Optional labels for title, subtitle, caption */\n  labels?: {\n    title?: string;\n    valueSuffix?: string;\n    valuePrefix?: string;\n    subtitle?: string;\n    caption?: string;\n  };\n\n  /** Color scheme for choropleth */\n  colorScheme?: string;\n\n  /** Number of quantiles for color scale */\n  quantiles?: number;\n\n  /** Reverse color scale */\n  reverseColors?: boolean;\n\n  /** Projection type */\n  projection?: 'albers-usa' | 'mercator' | 'equal-earth';\n\n  /** Additional CSS classes */\n  className?: string;\n}\n\n/**\n * StateMap - US state choropleth map\n *\n * Visualizes state-level data with a color-coded map.\n *\n * @example\n * ```tsx\n * import us from '@/app/data/geo/us_counties_10m.json';\n *\n * <StateMap\n *   usTopoJSON={us}\n *   data={[\n *     { state: 'California', value: 850000 },\n *     { state: 'Texas', value: 620000 }\n *   ]}\n *   labels={{\n *     title: 'Population by State',\n *     valueSuffix: ' people',\n *     caption: 'Source: US Census'\n *   }}\n * />\n * ```\n */\nexport const StateMap: React.FC<StateMapProps> = ({\n  usTopoJSON,\n  data,\n  width = 975,\n  height = 610,\n  labels = {},\n  colorScheme = 'prgn',\n  quantiles = 5,\n  reverseColors = false,\n  projection = 'albers-usa',\n  className = ''\n}) => {\n  const {\n    title = '',\n    subtitle = '',\n    caption = '',\n    valueSuffix = '',\n    valuePrefix = ''\n  } = labels;\n\n  const containerRef = React.useRef<HTMLDivElement>(null);\n\n  React.useEffect(() => {\n    if (!containerRef.current || !usTopoJSON || !data || data.length === 0) return;\n\n    containerRef.current.innerHTML = ''; // Clear any existing content\n\n    // Map state names to values\n    const stateToValueMap = new Map(\n      data.map(({ state, value }) => [state, value])\n    );\n\n    // Extract state features from TopoJSON\n    const states: any = topojson.feature(usTopoJSON, usTopoJSON.objects.states);\n\n    // Attach values to state features\n    for (const state of states.features) {\n      state.properties.value = stateToValueMap.get(state.properties.name);\n    }\n\n    // Format numbers with k suffix for thousands\n    const formatNumberAsK = (value: number) => {\n      if (value >= 1000) {\n        return `${valuePrefix}${(value / 1000).toFixed(1)}k ${valueSuffix}`;\n      } else {\n        return `${valuePrefix}${value}${valueSuffix}`;\n      }\n    };\n\n    // Extract mesh and nation boundaries\n    const statemesh = topojson.mesh(\n      usTopoJSON,\n      usTopoJSON.objects.states,\n      (a: any, b: any) => a !== b\n    ) as any;\n\n    const nation = topojson.feature(\n      usTopoJSON,\n      usTopoJSON.objects.nation\n    ) as any;\n\n    // Create the plot\n    const plot = Plot.plot({\n      caption,\n      projection: projection,\n      color: {\n        type: \"quantile\",\n        n: quantiles,\n        reverse: reverseColors,\n        scheme: colorScheme as any,\n        legend: true,\n        tickFormat: formatNumberAsK\n      },\n      width,\n      height,\n      marks: [\n        // State fills\n        Plot.geo(states, {\n          fill: (d: any) => d.properties.value\n        }),\n        // State boundaries\n        Plot.geo(statemesh, {\n          strokeWidth: 0.75\n        }),\n        // Nation outline\n        Plot.geo(nation, {\n          strokeWidth: 1.5\n        }),\n        // Interactive tooltips\n        Plot.tip(\n          states.features,\n          Plot.pointer(\n            Plot.centroid({\n              title: (d: any) =>\n                `${d.properties.name}: ${formatNumberAsK(d.properties.value)}`\n            })\n          )\n        )\n      ]\n    });\n\n    containerRef.current.appendChild(plot);\n\n    return () => {\n      plot.remove();\n    };\n  }, [usTopoJSON, data, width, height, title, subtitle, caption, valueSuffix, valuePrefix, colorScheme, quantiles, reverseColors, projection]);\n\n  return <div ref={containerRef} className={className}></div>;\n};\n\nexport default StateMap;\n","'use client';\n\nimport React, { useRef, useEffect } from 'react';\nimport * as Plot from \"@observablehq/plot\";\n\n/**\n * BubbleMap Component\n *\n * A geographic bubble map visualization using Observable Plot.\n * Displays data points as circles on a map, with size encoding values.\n *\n * NOTE: This version requires data with longitude and latitude coordinates.\n * For TopoJSON-based maps, see the geography integration guide.\n *\n * @example\n * ```tsx\n * <BubbleMap\n *   data={[\n *     { lon: -122.4194, lat: 37.7749, value: 850000, name: 'San Francisco' },\n *     { lon: -74.0060, lat: 40.7128, value: 8400000, name: 'New York' }\n *   ]}\n *   longitudeKey=\"lon\"\n *   latitudeKey=\"lat\"\n *   sizeKey=\"value\"\n *   nameKey=\"name\"\n * />\n * ```\n */\n\nexport interface BubbleMapProps {\n  /** Data array with geographic coordinates */\n  data: any[];\n\n  /** Field name for longitude */\n  longitudeKey: string;\n\n  /** Field name for latitude */\n  latitudeKey: string;\n\n  /** Field name for bubble size */\n  sizeKey: string;\n\n  /** Optional field name for bubble color encoding */\n  colorKey?: string;\n\n  /** Optional field name for labels/tooltips */\n  nameKey?: string;\n\n  /** Chart title */\n  title?: string;\n\n  /** Chart subtitle */\n  subtitle?: string;\n\n  /** Bubble fill color (if not using colorKey) */\n  fill?: string;\n\n  /** Bubble fill opacity */\n  fillOpacity?: number;\n\n  /** Bubble stroke color */\n  stroke?: string;\n\n  /** Bubble stroke width */\n  strokeWidth?: number;\n\n  /** Chart width in pixels */\n  width?: number;\n\n  /** Chart height in pixels */\n  height?: number;\n\n  /** Projection type for geographic data */\n  projection?: 'albers-usa' | 'mercator' | 'equal-earth' | 'orthographic';\n\n  /** Additional CSS classes */\n  className?: string;\n}\n\nexport function BubbleMap({\n  data,\n  longitudeKey,\n  latitudeKey,\n  sizeKey,\n  colorKey,\n  nameKey,\n  title,\n  subtitle,\n  fill = '#4682b4',\n  fillOpacity = 0.6,\n  stroke = '#fff',\n  strokeWidth = 1,\n  width = 975,\n  height = 610,\n  projection = 'albers-usa',\n  className = ''\n}: BubbleMapProps) {\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (!containerRef.current || !data || data.length === 0) return;\n\n    // Clear previous plot\n    containerRef.current.innerHTML = '';\n\n    // Transform data for Plot\n    const plotData = data.map(d => ({\n      ...d,\n      longitude: d[longitudeKey],\n      latitude: d[latitudeKey],\n      size: d[sizeKey],\n      ...(colorKey && { color: d[colorKey] }),\n      ...(nameKey && { name: d[nameKey] })\n    }));\n\n    // Build marks\n    const marks: any[] = [\n      // Bubble dots\n      Plot.dot(plotData, {\n        x: 'longitude',\n        y: 'latitude',\n        r: 'size',\n        fill: colorKey ? 'color' : fill,\n        fillOpacity,\n        stroke,\n        strokeWidth,\n        title: nameKey\n          ? d => `${d.name}: ${d.size.toLocaleString()}`\n          : d => d.size.toLocaleString(),\n        tip: true\n      })\n    ];\n\n    // Create the plot\n    const plot = Plot.plot({\n      width,\n      height,\n      title,\n      subtitle,\n      style: {\n        backgroundColor: \"white\",\n        fontFamily: \"sans-serif\",\n      },\n      projection: {\n        type: projection,\n        ...(projection === 'albers-usa' && { domain: { type: 'MultiPoint', coordinates: plotData.map(d => [d.longitude, d.latitude]) } })\n      },\n      marks\n    }) as SVGSVGElement;\n\n    containerRef.current.appendChild(plot);\n\n    return () => {\n      plot?.remove();\n    };\n  }, [data, longitudeKey, latitudeKey, sizeKey, colorKey, nameKey, title, subtitle, fill, fillOpacity, stroke, strokeWidth, width, height, projection]);\n\n  return (\n    <div ref={containerRef} className={className} />\n  );\n}\n\nexport default BubbleMap;\n","'use client';\n\nimport React, { useRef, useEffect } from 'react';\nimport * as Plot from \"@observablehq/plot\";\n\n/**\n * BoxPlot Component\n *\n * A box plot visualization using Observable Plot for showing distributions\n * and identifying outliers across categories.\n *\n * @example\n * ```tsx\n * <BoxPlot\n *   data={[\n *     { category: 'Group A', value: 10 },\n *     { category: 'Group A', value: 15 },\n *     { category: 'Group B', value: 20 }\n *   ]}\n *   x=\"category\"\n *   y=\"value\"\n * />\n * ```\n */\n\nexport interface BoxPlotProps {\n  /**\n   * Data array - should be in \"long\" format with one row per observation.\n   * Each row should have a category field and a value field.\n   */\n  data: any[];\n\n  /** Field name for x-axis (categories) */\n  x: string;\n\n  /** Field name for y-axis (values) */\n  y: string;\n\n  /** Chart title */\n  title?: string;\n\n  /** X-axis label */\n  xLabel?: string;\n\n  /** Y-axis label */\n  yLabel?: string;\n\n  /** Box fill color */\n  fill?: string;\n\n  /** Box fill opacity (0-1) */\n  fillOpacity?: number;\n\n  /** Box stroke color */\n  stroke?: string;\n\n  /** Box stroke width */\n  strokeWidth?: number;\n\n  /** Outlier dot radius */\n  outlierRadius?: number;\n\n  /** Chart width in pixels */\n  width?: number;\n\n  /** Chart height in pixels */\n  height?: number;\n\n  /** Left margin for y-axis labels */\n  marginLeft?: number;\n\n  /** Bottom margin for x-axis labels */\n  marginBottom?: number;\n\n  /** Rotate x-axis labels (degrees) */\n  xTickRotate?: number;\n\n  /** Additional CSS classes */\n  className?: string;\n}\n\nexport function BoxPlot({\n  data,\n  x,\n  y,\n  title,\n  xLabel,\n  yLabel,\n  fill = \"#4682b4\",\n  fillOpacity = 0.4,\n  stroke = \"#2c5f8d\",\n  strokeWidth = 1.5,\n  outlierRadius = 3,\n  width = 800,\n  height = 500,\n  marginLeft = 60,\n  marginBottom = 100,\n  xTickRotate = -45,\n  className = ''\n}: BoxPlotProps) {\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (!containerRef.current || !data || data.length === 0) return;\n\n    // Clear previous plot\n    containerRef.current.innerHTML = '';\n\n    // Create the plot\n    const plot = Plot.plot({\n      width,\n      height,\n      marginLeft,\n      marginBottom,\n      title,\n      style: {\n        backgroundColor: \"white\",\n        fontFamily: \"sans-serif\",\n      },\n      x: {\n        label: xLabel || x,\n        tickRotate: xTickRotate\n      },\n      y: {\n        label: yLabel || y,\n        grid: true\n      },\n      marks: [\n        // Box plot with Observable Plot's built-in boxY mark\n        Plot.boxY(data, {\n          x,\n          y,\n          fill,\n          fillOpacity,\n          stroke,\n          strokeWidth,\n          r: outlierRadius  // Outlier dot radius\n        })\n      ]\n    }) as SVGSVGElement;\n\n    containerRef.current.appendChild(plot);\n\n    return () => {\n      plot?.remove();\n    };\n  }, [data, x, y, title, xLabel, yLabel, fill, fillOpacity, stroke, strokeWidth, outlierRadius, width, height, marginLeft, marginBottom, xTickRotate]);\n\n  return (\n    <div ref={containerRef} className={className} />\n  );\n}\n\nexport default BoxPlot;\n","'use client';\n\nimport { useEffect, useRef } from 'react';\nimport * as Plot from '@observablehq/plot';\n\nexport interface BoxPlotGroupedProps {\n  data: Array<{ category: string; group: string; value: number }>;\n  xLabel?: string;\n  yLabel?: string;\n  groupLabel?: string;\n  title?: string;\n  width?: number;\n  height?: number;\n  colorScheme?: string[];\n  className?: string;\n  ariaLabel?: string;\n}\n\n/**\n * BoxPlotGrouped - Grouped box plots for comparing distributions across categories and groups\n *\n * Use cases:\n * - Compare distributions across multiple groups within categories\n * - Reveal patterns in grouped categorical data\n * - Show quartiles, median, and outliers by group\n * - Multi-factor experimental designs\n *\n * Features:\n * - Color-coded by group\n * - Automatic legend\n * - Quartile boxes with median line\n * - Whiskers and outlier points\n * - Customizable color scheme\n */\nexport function BoxPlotGrouped({\n  data,\n  xLabel = 'Category',\n  yLabel = 'Value',\n  groupLabel = 'Group',\n  title,\n  width = 800,\n  height = 500,\n  colorScheme = ['#e41a1c', '#377eb8', '#4daf4a', '#984ea3', '#ff7f00'],\n  className = '',\n  ariaLabel = 'Grouped box plot showing distributions by category and group'\n}: BoxPlotGroupedProps) {\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (!containerRef.current || !data || data.length === 0) return;\n\n    // Clear previous plot\n    containerRef.current.innerHTML = '';\n\n    // Transform data to create compound x-axis keys for side-by-side positioning\n    const transformedData = data.map((d) => ({\n      ...d,\n      compoundCategory: `${d.category}__${d.group}` // Use separator for unique key\n    }));\n\n    // Get unique categories and groups for ordering\n    const categories = [...new Set(data.map((d) => d.category))];\n    const groups = [...new Set(data.map((d) => d.group))];\n\n    // Create ordered domain for x-axis\n    const xDomain = categories.flatMap(cat =>\n      groups.map(grp => `${cat}__${grp}`)\n    );\n\n    // Create tick configuration to show label only once per category, positioned towards the right\n    const middleGroupIndex = Math.ceil((groups.length - 1) / 2);\n    const tickValues = categories.flatMap(cat => `${cat}__${groups[middleGroupIndex]}`); // Position towards right of each category\n    const tickFormat = (d: string) => d.split('__')[0];\n\n    // Create plot with compound x-axis for side-by-side boxes\n    const plot = Plot.plot({\n      width,\n      height,\n      marginTop: title ? 40 : 20,\n      marginRight: 120,\n      marginBottom: 100,\n      marginLeft: 60,\n      title: title,\n      x: {\n        label: xLabel,\n        domain: xDomain,\n        ticks: tickValues,\n        tickFormat,\n        tickSize: 0  // Remove tick marks\n      },\n      y: {\n        label: yLabel,\n        grid: true\n      },\n      color: {\n        legend: true,\n        label: groupLabel,\n        domain: [...new Set(data.map((d) => d.group))],\n        range: colorScheme\n      },\n      marks: [\n        Plot.boxY(transformedData, {\n          x: 'compoundCategory',\n          y: 'value',\n          fill: 'group',\n          fillOpacity: 0.4,\n          stroke: 'group',\n          strokeWidth: 1.5,\n          r: 3\n        })\n      ]\n    }) as SVGSVGElement;\n\n    plot.setAttribute('role', 'img');\n    plot.setAttribute('aria-label', ariaLabel);\n\n    containerRef.current.appendChild(plot);\n\n    return () => {\n      if (containerRef.current) {\n        containerRef.current.innerHTML = '';\n      }\n    };\n  }, [data, xLabel, yLabel, groupLabel, title, width, height, colorScheme, ariaLabel]);\n\n  return <div ref={containerRef} className={className} />;\n}\n","'use client';\n\nimport { useEffect, useRef } from 'react';\nimport * as Plot from '@observablehq/plot';\n\nexport interface BoxPlotFacetedProps {\n  data: Array<{ category: string; facet: string; value: number }>;\n  xLabel?: string;\n  yLabel?: string;\n  facetLabel?: string;\n  title?: string;\n  width?: number;\n  height?: number;\n  facetColumns?: number;\n  fillColor?: string;\n  strokeColor?: string;\n  className?: string;\n  ariaLabel?: string;\n}\n\n/**\n * BoxPlotFaceted - Faceted box plots for comparing distributions across categories and panels\n *\n * Use cases:\n * - Compare distributions across multiple panels\n * - Panel data visualization\n * - Multi-group experimental designs with faceting\n * - Regional or temporal comparisons\n *\n * Features:\n * - X-axis faceting for small multiples\n * - Quartile boxes with median line\n * - Whiskers and outlier points\n * - Customizable panel layout\n */\nexport function BoxPlotFaceted({\n  data,\n  xLabel = 'Category',\n  yLabel = 'Value',\n  facetLabel = 'Facet',\n  title,\n  width = 1000,\n  height = 600,\n  facetColumns = 2,\n  fillColor = '#4682b4',\n  strokeColor = '#2c5f8d',\n  className = '',\n  ariaLabel = 'Faceted box plot showing distributions across panels'\n}: BoxPlotFacetedProps) {\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (!containerRef.current || !data || data.length === 0) return;\n\n    // Clear previous plot\n    containerRef.current.innerHTML = '';\n\n    // Create plot\n    const plot = Plot.plot({\n      width,\n      height,\n      marginTop: title ? 50 : 40,\n      marginRight: 20,\n      marginBottom: 100,\n      marginLeft: 60,\n      title: title,\n      x: {\n        label: xLabel,\n        tickRotate: -45\n      },\n      y: {\n        label: yLabel,\n        grid: true\n      },\n      fx: {\n        label: facetLabel\n      },\n      facet: {\n        data: data,\n        x: 'facet',\n        marginRight: 20\n      },\n      marks: [\n        Plot.boxY(data, {\n          x: 'category',\n          y: 'value',\n          fx: 'facet',\n          fill: fillColor,\n          fillOpacity: 0.4,\n          stroke: strokeColor,\n          strokeWidth: 1.5,\n          r: 3\n        }),\n        Plot.frame()\n      ]\n    }) as SVGSVGElement;\n\n    plot.setAttribute('role', 'img');\n    plot.setAttribute('aria-label', ariaLabel);\n\n    containerRef.current.appendChild(plot);\n\n    return () => {\n      if (containerRef.current) {\n        containerRef.current.innerHTML = '';\n      }\n    };\n  }, [data, xLabel, yLabel, facetLabel, title, width, height, facetColumns, fillColor, strokeColor, ariaLabel]);\n\n  return <div ref={containerRef} className={className} />;\n}\n","'use client';\n\nimport { useEffect, useRef } from 'react';\nimport * as Plot from '@observablehq/plot';\n\nexport interface BoxPlotFacetedGroupedProps {\n  data: Array<{ facet: string; category: string; group: string; value: number }>;\n  facetLabel?: string;      // Label for facet panels\n  categoryLabel?: string;   // Label for x-axis categories\n  groupLabel?: string;      // Label for groups (colors)\n  yLabel?: string;\n  title?: string;\n  width?: number;\n  height?: number;\n  colorScheme?: string[];\n  className?: string;\n  ariaLabel?: string;\n}\n\n/**\n * BoxPlotFacetedGrouped - Faceted box plots with side-by-side grouped boxes using official Observable Plot pattern\n *\n * Use cases:\n * - Compare distributions across categories (as faceted panels)\n * - Show side-by-side grouped comparisons within each panel\n * - Regional/demographic comparisons with breakdowns\n * - Multi-factor experimental designs\n *\n * Features:\n * - Faceted panels by category (fx)\n * - Side-by-side grouped boxes within panels (x)\n * - Color-coded by group\n * - Uses official Observable Plot fx + x pattern\n * - Automatic legend\n * - Quartile boxes with median line\n */\nexport function BoxPlotFacetedGrouped({\n  data,\n  facetLabel = 'Facet',\n  categoryLabel = 'Category',\n  groupLabel = 'Group',\n  yLabel = 'Value',\n  title,\n  width = 1200,\n  height = 500,\n  colorScheme = ['#e41a1c', '#377eb8', '#4daf4a', '#984ea3'],\n  className = '',\n  ariaLabel = 'Faceted and grouped box plot showing distributions across panels with side-by-side groups'\n}: BoxPlotFacetedGroupedProps) {\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (!containerRef.current || !data || data.length === 0) return;\n\n    // Clear previous plot\n    containerRef.current.innerHTML = '';\n\n    // Transform data to create compound x-axis keys for side-by-side positioning within facets\n    const transformedData = data.map((d) => ({\n      ...d,\n      compoundCategory: `${d.category}__${d.group}` // Unique key for side-by-side boxes\n    }));\n\n    // Get unique values for ordering\n    const categories = [...new Set(data.map((d) => d.category))];\n    const groups = [...new Set(data.map((d) => d.group))];\n\n    // Create ordered domain for x-axis (same within each facet)\n    const xDomain = categories.flatMap(cat =>\n      groups.map(grp => `${cat}__${grp}`)\n    );\n\n    // Create tick configuration to show label only once per category, positioned towards the right\n    const middleGroupIndex = Math.ceil((groups.length - 1) / 2);\n    const tickValues = categories.flatMap(cat => `${cat}__${groups[middleGroupIndex]}`); // Position towards right of each category\n    const tickFormat = (d: string) => d.split('__')[0];\n\n    // Create faceted plot with compound x-axis for side-by-side boxes\n    const plot = Plot.plot({\n      width,\n      height,\n      marginTop: title ? 50 : 40,\n      marginRight: 20,\n      marginBottom: 100,\n      marginLeft: 60,\n      title: title,\n      fx: {\n        label: facetLabel,       // Facet panels\n        padding: 0.1\n      },\n      x: {\n        label: categoryLabel,    // Categories within each panel\n        domain: xDomain,\n        ticks: tickValues,\n        tickFormat,\n        tickSize: 0  // Remove tick marks\n      },\n      y: {\n        label: yLabel,\n        grid: true\n      },\n      color: {\n        legend: true,\n        label: groupLabel,\n        domain: [...new Set(data.map((d) => d.group))],\n        range: colorScheme\n      },\n      marks: [\n        Plot.boxY(transformedData, {\n          x: 'compoundCategory',  // Compound key for side-by-side positioning\n          y: 'value',\n          fx: 'facet',            // Facet by region/panel dimension\n          fill: 'group',\n          fillOpacity: 0.4,\n          stroke: 'group',\n          strokeWidth: 1.5,\n          r: 3\n        }),\n        Plot.frame()\n      ]\n    }) as SVGSVGElement;\n\n    plot.setAttribute('role', 'img');\n    plot.setAttribute('aria-label', ariaLabel);\n\n    containerRef.current.appendChild(plot);\n\n    return () => {\n      if (containerRef.current) {\n        containerRef.current.innerHTML = '';\n      }\n    };\n  }, [data, facetLabel, categoryLabel, yLabel, groupLabel, title, width, height, colorScheme, ariaLabel]);\n\n  return <div ref={containerRef} className={className} />;\n}\n","'use client';\n\nimport { useEffect, useRef } from 'react';\nimport * as Plot from '@observablehq/plot';\n\nexport interface DistributionPlotProps {\n  data: Array<{ value: number; group?: string }>;\n  xLabel?: string;\n  title?: string;\n  width?: number;\n  height?: number;\n  showHistogram?: boolean;\n  showDensity?: boolean;\n  showRug?: boolean;\n  showMean?: boolean;\n  showMedian?: boolean;\n  binCount?: number;\n  fillColor?: string;\n  densityColor?: string;\n  meanColor?: string;\n  medianColor?: string;\n  groupColors?: Record<string, string>;\n  className?: string;\n  ariaLabel?: string;\n}\n\n/**\n * DistributionPlot - Combined histogram, density curve, and rug plot\n *\n * Use cases:\n * - Explore distributions\n * - Identify skewness and outliers\n * - Compare group distributions\n * - Pre-analysis exploratory checks\n *\n * Features:\n * - Histogram with adjustable bins\n * - Density curve overlay\n * - Rug plot showing individual values\n * - Mean and median reference lines\n * - Multiple group support (overlaid or faceted)\n */\nexport function DistributionPlot({\n  data,\n  xLabel = 'Value',\n  title,\n  width = 640,\n  height = 400,\n  showHistogram = true,\n  showDensity = true,\n  showRug = false,\n  showMean = false,\n  showMedian = false,\n  binCount = 20,\n  fillColor = '#3b82f6',\n  densityColor = '#ef4444',\n  meanColor = '#22c55e',\n  medianColor = '#f97316',\n  groupColors,\n  className = '',\n  ariaLabel = 'Distribution plot showing data distribution'\n}: DistributionPlotProps) {\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (!containerRef.current || !data || data.length === 0) return;\n\n    // Clear previous plot\n    containerRef.current.innerHTML = '';\n\n    // Check for groups\n    const hasGroups = data.some(d => d.group !== undefined);\n    const groups = hasGroups ? Array.from(new Set(data.map(d => d.group).filter(Boolean))) : [undefined];\n\n    const marks: any[] = [];\n\n    // Default color palette\n    const defaultColors = ['#3b82f6', '#ef4444', '#22c55e', '#f97316', '#8b5cf6', '#ec4899', '#06b6d4', '#eab308', '#6366f1', '#14b8a6'];\n\n    if (hasGroups) {\n      // Multiple groups - overlay with transparency\n      groups.forEach((group, i) => {\n        const groupData = data.filter(d => d.group === group);\n        const color = groupColors?.[group as string] || defaultColors[i % defaultColors.length];\n\n        if (showHistogram) {\n          marks.push(\n            Plot.rectY(\n              groupData,\n              Plot.binX(\n                { y: 'count' },\n                {\n                  x: 'value',\n                  fill: color,\n                  fillOpacity: 0.5,\n                  thresholds: binCount\n                }\n              )\n            )\n          );\n        }\n\n        if (showDensity) {\n          // Use density mark directly instead of densityY transform\n          marks.push(\n            Plot.density(\n              groupData,\n              {\n                x: 'value',\n                fill: color,\n                fillOpacity: 0.2,\n                stroke: color,\n                strokeWidth: 2\n              }\n            )\n          );\n        }\n\n        if (showRug) {\n          marks.push(\n            Plot.tickX(groupData, {\n              x: 'value',\n              stroke: color,\n              strokeOpacity: 0.3\n            })\n          );\n        }\n\n        // Group-wise mean/median\n        if (showMean) {\n          const mean = groupData.reduce((sum, d) => sum + d.value, 0) / groupData.length;\n          marks.push(\n            Plot.ruleX([mean], {\n              stroke: color,\n              strokeWidth: 2,\n              strokeDasharray: '4,4'\n            })\n          );\n        }\n\n        if (showMedian) {\n          const sorted = [...groupData].sort((a, b) => a.value - b.value);\n          const median = sorted[Math.floor(sorted.length / 2)]?.value || 0;\n          marks.push(\n            Plot.ruleX([median], {\n              stroke: color,\n              strokeWidth: 2,\n              strokeDasharray: '2,2'\n            })\n          );\n        }\n      });\n    } else {\n      // Single distribution\n      if (showHistogram) {\n        marks.push(\n          Plot.rectY(\n            data,\n            Plot.binX(\n              { y: 'count' },\n              {\n                x: 'value',\n                fill: fillColor,\n                fillOpacity: 0.7,\n                thresholds: binCount\n              }\n            )\n          )\n        );\n      }\n\n      if (showDensity) {\n        // Use density mark directly instead of densityY transform\n        marks.push(\n          Plot.density(\n            data,\n            {\n              x: 'value',\n              fill: densityColor,\n              fillOpacity: 0.2,\n              stroke: densityColor,\n              strokeWidth: 2\n            }\n          )\n        );\n      }\n\n      if (showRug) {\n        marks.push(\n          Plot.tickX(data, {\n            x: 'value',\n            stroke: fillColor,\n            strokeOpacity: 0.5\n          })\n        );\n      }\n\n      if (showMean) {\n        const mean = data.reduce((sum, d) => sum + d.value, 0) / data.length;\n        marks.push(\n          Plot.ruleX([mean], {\n            stroke: meanColor,\n            strokeWidth: 2,\n            strokeDasharray: '4,4'\n          })\n        );\n      }\n\n      if (showMedian) {\n        const sorted = [...data].sort((a, b) => a.value - b.value);\n        const median = sorted[Math.floor(sorted.length / 2)]?.value || 0;\n        marks.push(\n          Plot.ruleX([median], {\n            stroke: medianColor,\n            strokeWidth: 2,\n            strokeDasharray: '2,2'\n          })\n        );\n      }\n    }\n\n    // Create plot\n    const plot = Plot.plot({\n      width,\n      height,\n      marginTop: title ? 40 : 20,\n      marginRight: 20,\n      marginBottom: 40,\n      marginLeft: 50,\n      title: title,\n      x: {\n        label: xLabel,\n        grid: true\n      },\n      y: {\n        label: showDensity && !showHistogram ? 'Density' : 'Count',\n        grid: true\n      },\n      marks\n    }) as SVGSVGElement;\n\n    plot.setAttribute('role', 'img');\n    plot.setAttribute('aria-label', ariaLabel);\n\n    containerRef.current.appendChild(plot);\n\n    return () => {\n      if (containerRef.current) {\n        containerRef.current.innerHTML = '';\n      }\n    };\n  }, [data, xLabel, title, width, height, showHistogram, showDensity, showRug, showMean, showMedian, binCount, fillColor, densityColor, meanColor, medianColor, groupColors, ariaLabel]);\n\n  return <div ref={containerRef} className={className} />;\n}\n","'use client';\n\nimport { useEffect, useRef } from 'react';\nimport * as Plot from '@observablehq/plot';\n\nexport interface RegressionPlotProps {\n  data: Array<{ x: number; y: number; group?: string }>;\n  xLabel?: string;\n  yLabel?: string;\n  title?: string;\n  width?: number;\n  height?: number;\n  method?: 'linear' | 'loess' | 'polynomial';\n  degree?: number;\n  showConfidence?: boolean;\n  confidenceLevel?: number;\n  showRSquared?: boolean;\n  pointColor?: string;\n  lineColor?: string;\n  groupColors?: Record<string, string>;\n  className?: string;\n  ariaLabel?: string;\n}\n\n/**\n * RegressionPlot - Scatterplot with regression line and confidence intervals\n *\n * Use cases:\n * - Correlation analysis\n * - Trend fitting and prediction\n * - Scientific data visualization\n * - Group-wise regression comparison\n *\n * Supports:\n * - Linear (OLS) regression\n * - LOESS (local smoothing)\n * - Polynomial regression (degree 2-4)\n * - Confidence intervals (90%, 95%, 99%)\n * - Group-wise analysis with automatic coloring\n * - R display\n */\nexport function RegressionPlot({\n  data,\n  xLabel = 'X',\n  yLabel = 'Y',\n  title,\n  width = 640,\n  height = 400,\n  method = 'linear',\n  degree = 2,\n  showConfidence = true,\n  confidenceLevel = 0.95,\n  showRSquared = false,\n  pointColor = '#3b82f6',\n  lineColor = '#ef4444',\n  groupColors,\n  className = '',\n  ariaLabel = 'Regression plot showing relationship between variables'\n}: RegressionPlotProps) {\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (!containerRef.current || !data || data.length === 0) return;\n\n    // Clear previous plot\n    containerRef.current.innerHTML = '';\n\n    // Sample data if too large (>10k points)\n    let plotData = data;\n    if (data.length > 10000) {\n      const sampleRate = 10000 / data.length;\n      plotData = data.filter(() => Math.random() < sampleRate);\n    }\n\n    // Build marks\n    const marks: any[] = [];\n\n    // Default color palette\n    const defaultColors = ['#3b82f6', '#ef4444', '#22c55e', '#f97316', '#8b5cf6', '#ec4899', '#06b6d4', '#eab308', '#6366f1', '#14b8a6'];\n\n    // Determine if we have groups\n    const hasGroups = plotData.some(d => d.group !== undefined);\n\n    if (hasGroups) {\n      // Group-wise regression\n      const groups = Array.from(new Set(plotData.map(d => d.group).filter(Boolean)));\n\n      groups.forEach((group, i) => {\n        const groupData = plotData.filter(d => d.group === group);\n        const color = groupColors?.[group as string] || defaultColors[i % defaultColors.length];\n\n        // Points\n        marks.push(\n          Plot.dot(groupData, {\n            x: 'x',\n            y: 'y',\n            fill: color,\n            fillOpacity: 0.6,\n            r: 3\n          })\n        );\n\n        // Regression line\n        if (method === 'linear') {\n          marks.push(\n            Plot.linearRegressionY(groupData, {\n              x: 'x',\n              y: 'y',\n              stroke: color,\n              strokeWidth: 2,\n              ci: showConfidence ? confidenceLevel : undefined\n            })\n          );\n        } else if (method === 'loess') {\n          marks.push(\n            Plot.line(groupData, {\n              x: 'x',\n              y: 'y',\n              stroke: color,\n              strokeWidth: 2,\n              curve: 'monotone-x'\n            })\n          );\n        }\n      });\n    } else {\n      // Single regression\n\n      // Points\n      marks.push(\n        Plot.dot(plotData, {\n          x: 'x',\n          y: 'y',\n          fill: pointColor,\n          fillOpacity: 0.6,\n          r: 3\n        })\n      );\n\n      // Regression line\n      if (method === 'linear') {\n        marks.push(\n          Plot.linearRegressionY(plotData, {\n            x: 'x',\n            y: 'y',\n            stroke: lineColor,\n            strokeWidth: 2,\n            ci: showConfidence ? confidenceLevel : undefined\n          })\n        );\n      } else if (method === 'loess') {\n        // LOESS smoothing\n        marks.push(\n          Plot.line(plotData,\n            Plot.windowY({\n              k: Math.max(7, Math.floor(plotData.length / 20)),\n              x: 'x',\n              y: 'y',\n              stroke: lineColor,\n              strokeWidth: 2\n            })\n          )\n        );\n      } else if (method === 'polynomial') {\n        // For polynomial, we'd need to compute coefficients\n        // For now, use LOESS as approximation\n        marks.push(\n          Plot.line(plotData,\n            Plot.windowY({\n              k: Math.max(7, Math.floor(plotData.length / 10)),\n              x: 'x',\n              y: 'y',\n              stroke: lineColor,\n              strokeWidth: 2\n            })\n          )\n        );\n      }\n    }\n\n    // Create plot\n    const plot = Plot.plot({\n      width,\n      height,\n      marginTop: title ? 40 : 20,\n      marginRight: 20,\n      marginBottom: 40,\n      marginLeft: 50,\n      title: title,\n      x: {\n        label: xLabel,\n        grid: true\n      },\n      y: {\n        label: yLabel,\n        grid: true\n      },\n      marks\n    }) as SVGSVGElement;\n\n    plot.setAttribute('role', 'img');\n    plot.setAttribute('aria-label', ariaLabel);\n\n    containerRef.current.appendChild(plot);\n\n    // Calculate R if requested (simplified calculation)\n    if (showRSquared && !hasGroups) {\n      const xMean = plotData.reduce((sum, d) => sum + d.x, 0) / plotData.length;\n      const yMean = plotData.reduce((sum, d) => sum + d.y, 0) / plotData.length;\n\n      const xVariance = plotData.reduce((sum, d) => sum + Math.pow(d.x - xMean, 2), 0);\n      const yVariance = plotData.reduce((sum, d) => sum + Math.pow(d.y - yMean, 2), 0);\n      const covariance = plotData.reduce((sum, d) => sum + (d.x - xMean) * (d.y - yMean), 0);\n\n      const rSquared = Math.pow(covariance, 2) / (xVariance * yVariance);\n\n      // Add R annotation\n      const rText = document.createElementNS('http://www.w3.org/2000/svg', 'text');\n      rText.setAttribute('x', String(width - 80));\n      rText.setAttribute('y', '30');\n      rText.setAttribute('text-anchor', 'start');\n      rText.setAttribute('font-size', '14');\n      rText.setAttribute('fill', '#666');\n      rText.textContent = `R = ${rSquared.toFixed(3)}`;\n      plot.appendChild(rText);\n    }\n\n    return () => {\n      if (containerRef.current) {\n        containerRef.current.innerHTML = '';\n      }\n    };\n  }, [data, xLabel, yLabel, title, width, height, method, degree, showConfidence, confidenceLevel, showRSquared, pointColor, lineColor, groupColors, ariaLabel]);\n\n  return <div ref={containerRef} className={className} />;\n}\n","'use client';\n\nimport { useEffect, useRef } from 'react';\nimport * as Plot from '@observablehq/plot';\n\nexport interface QQPlotProps {\n  data: number[];\n  xLabel?: string;\n  yLabel?: string;\n  title?: string;\n  width?: number;\n  height?: number;\n  pointColor?: string;\n  lineColor?: string;\n  className?: string;\n  ariaLabel?: string;\n}\n\n/**\n * QQPlot - Quantile-quantile plot for normality testing\n *\n * Use cases:\n * - Test normality assumption\n * - Identify distribution shape\n * - Detect heavy tails or skewness\n * - Compare to theoretical normal distribution\n *\n * Features:\n * - Sample quantiles vs theoretical normal quantiles\n * - 45-degree reference line (y=x)\n * - Automatic quantile calculation\n * - Pattern detection for departures from normality\n */\nexport function QQPlot({\n  data,\n  xLabel = 'Theoretical Quantiles',\n  yLabel = 'Sample Quantiles',\n  title,\n  width = 800,\n  height = 500,\n  pointColor = '#3b82f6',\n  lineColor = '#ef4444',\n  className = '',\n  ariaLabel = 'Q-Q plot for normality testing'\n}: QQPlotProps) {\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (!containerRef.current || !data || data.length === 0) return;\n\n    // Clear previous plot\n    containerRef.current.innerHTML = '';\n\n    // Sort data for sample quantiles\n    const sortedData = [...data].sort((a, b) => a - b);\n    const n = sortedData.length;\n\n    // Calculate theoretical quantiles (inverse normal CDF)\n    // Using approximation for standard normal quantiles\n    const qqData = sortedData.map((value, i) => {\n      const p = (i + 0.5) / n; // Probability\n      // Approximation of inverse normal CDF (quantile function)\n      const theoretical = Math.sqrt(2) * inverseErf(2 * p - 1);\n      return {\n        theoretical,\n        sample: value\n      };\n    });\n\n    // Calculate reference line bounds\n    const minVal = Math.min(...qqData.map((d) => d.theoretical));\n    const maxVal = Math.max(...qqData.map((d) => d.theoretical));\n\n    // Scale reference line to match data\n    const sampleMin = Math.min(...sortedData);\n    const sampleMax = Math.max(...sortedData);\n    const slope = (sampleMax - sampleMin) / (maxVal - minVal);\n    const intercept = sampleMin - slope * minVal;\n\n    // Create plot\n    const plot = Plot.plot({\n      width,\n      height,\n      marginTop: title ? 40 : 20,\n      marginRight: 20,\n      marginBottom: 60,\n      marginLeft: 60,\n      title: title,\n      x: {\n        label: xLabel,\n        grid: true\n      },\n      y: {\n        label: yLabel,\n        grid: true\n      },\n      marks: [\n        // Reference line (theoretical normal)\n        Plot.line(\n          [\n            { x: minVal, y: intercept + slope * minVal },\n            { x: maxVal, y: intercept + slope * maxVal }\n          ],\n          {\n            x: 'x',\n            y: 'y',\n            stroke: lineColor,\n            strokeWidth: 2,\n            strokeDasharray: '5,5'\n          }\n        ),\n        // Q-Q points\n        Plot.dot(qqData, {\n          x: 'theoretical',\n          y: 'sample',\n          fill: pointColor,\n          fillOpacity: 0.6,\n          r: 4\n        })\n      ]\n    }) as SVGSVGElement;\n\n    plot.setAttribute('role', 'img');\n    plot.setAttribute('aria-label', ariaLabel);\n\n    containerRef.current.appendChild(plot);\n\n    return () => {\n      if (containerRef.current) {\n        containerRef.current.innerHTML = '';\n      }\n    };\n  }, [data, xLabel, yLabel, title, width, height, pointColor, lineColor, ariaLabel]);\n\n  return <div ref={containerRef} className={className} />;\n}\n\n// Approximation of inverse error function for normal quantiles\nfunction inverseErf(x: number): number {\n  const a = 0.147;\n  const b = 2 / (Math.PI * a) + Math.log(1 - x * x) / 2;\n  const sqrt1 = Math.sqrt(b * b - Math.log(1 - x * x) / a);\n  const sqrt2 = Math.sqrt(sqrt1 - b);\n  return sqrt2 * Math.sign(x);\n}\n","'use client';\n\nimport { useEffect, useRef } from 'react';\nimport * as Plot from '@observablehq/plot';\n\nexport interface ResidualPlotProps {\n  data: Array<{ x: number; y: number }>;\n  xLabel?: string;\n  yLabel?: string;\n  title?: string;\n  width?: number;\n  height?: number;\n  pointColor?: string;\n  lineColor?: string;\n  className?: string;\n  ariaLabel?: string;\n}\n\n/**\n * ResidualPlot - Diagnostic plot for regression residuals\n *\n * Use cases:\n * - Check regression assumptions\n * - Identify heteroscedasticity\n * - Detect non-linear patterns\n * - Find outliers and influential points\n *\n * Features:\n * - Residuals vs fitted values\n * - Zero reference line\n * - Automatic residual calculation\n * - Pattern detection\n */\nexport function ResidualPlot({\n  data,\n  xLabel = 'Fitted Values',\n  yLabel = 'Residuals',\n  title,\n  width = 800,\n  height = 500,\n  pointColor = '#3b82f6',\n  lineColor = '#ef4444',\n  className = '',\n  ariaLabel = 'Residual plot for regression diagnostics'\n}: ResidualPlotProps) {\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (!containerRef.current || !data || data.length === 0) return;\n\n    // Clear previous plot\n    containerRef.current.innerHTML = '';\n\n    // Calculate simple linear regression\n    const n = data.length;\n    const sumX = data.reduce((sum, d) => sum + d.x, 0);\n    const sumY = data.reduce((sum, d) => sum + d.y, 0);\n    const sumXY = data.reduce((sum, d) => sum + d.x * d.y, 0);\n    const sumX2 = data.reduce((sum, d) => sum + d.x * d.x, 0);\n\n    const slope = (n * sumXY - sumX * sumY) / (n * sumX2 - sumX * sumX);\n    const intercept = (sumY - slope * sumX) / n;\n\n    // Calculate residuals\n    const residualData = data.map((d) => {\n      const fitted = intercept + slope * d.x;\n      const residual = d.y - fitted;\n      return { fitted, residual };\n    });\n\n    // Create plot\n    const plot = Plot.plot({\n      width,\n      height,\n      marginTop: title ? 40 : 20,\n      marginRight: 20,\n      marginBottom: 60,\n      marginLeft: 60,\n      title: title,\n      x: {\n        label: xLabel,\n        grid: true\n      },\n      y: {\n        label: yLabel,\n        grid: true\n      },\n      marks: [\n        // Zero reference line\n        Plot.ruleY([0], {\n          stroke: lineColor,\n          strokeWidth: 2,\n          strokeDasharray: '5,5'\n        }),\n        // Residual points\n        Plot.dot(residualData, {\n          x: 'fitted',\n          y: 'residual',\n          fill: pointColor,\n          fillOpacity: 0.6,\n          r: 4\n        })\n      ]\n    }) as SVGSVGElement;\n\n    plot.setAttribute('role', 'img');\n    plot.setAttribute('aria-label', ariaLabel);\n\n    containerRef.current.appendChild(plot);\n\n    return () => {\n      if (containerRef.current) {\n        containerRef.current.innerHTML = '';\n      }\n    };\n  }, [data, xLabel, yLabel, title, width, height, pointColor, lineColor, ariaLabel]);\n\n  return <div ref={containerRef} className={className} />;\n}\n","'use client';\n\nimport { useEffect, useRef } from 'react';\nimport * as Plot from '@observablehq/plot';\n\nexport interface SwarmPlotProps {\n  data: Array<{ category: string; value: number }>;\n  xLabel?: string;\n  yLabel?: string;\n  title?: string;\n  width?: number;\n  height?: number;\n  dotRadius?: number;\n  dotOpacity?: number;\n  colorScheme?: string;\n  className?: string;\n  ariaLabel?: string;\n}\n\n/**\n * SwarmPlot - Bee swarm plot with dodge positioning\n *\n * Use cases:\n * - Show distribution of individual observations by category\n * - Reveal patterns in categorical data\n * - Compare distributions across groups\n * - Alternative to violin or box plots showing every data point\n *\n * Features:\n * - Dodge transform prevents overlap\n * - Color-coded by category\n * - Customizable dot size and opacity\n * - Automatic legend\n */\nexport function SwarmPlot({\n  data,\n  xLabel = 'Category',\n  yLabel = 'Value',\n  title,\n  width = 800,\n  height = 500,\n  dotRadius = 4,\n  dotOpacity = 0.7,\n  colorScheme,\n  className = '',\n  ariaLabel = 'Swarm plot showing distribution by category'\n}: SwarmPlotProps) {\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (!containerRef.current || !data || data.length === 0) return;\n\n    // Clear previous plot\n    containerRef.current.innerHTML = '';\n\n    // Create plot\n    const plot = Plot.plot({\n      width,\n      height,\n      marginTop: title ? 40 : 20,\n      marginRight: 20,\n      marginBottom: 80,\n      marginLeft: 60,\n      title: title,\n      x: {\n        label: xLabel,\n        tickRotate: -45\n      },\n      y: {\n        label: yLabel,\n        grid: true\n      },\n      color: {\n        legend: true,\n        ...(colorScheme && { scheme: colorScheme })\n      },\n      marks: [\n        // Swarm plot using dodge transform\n        Plot.dot(\n          data,\n          Plot.dodgeX('middle', {\n            x: 'category',\n            y: 'value',\n            fill: 'category',\n            fillOpacity: dotOpacity,\n            r: dotRadius,\n            stroke: '#666',\n            strokeWidth: 0.5\n          })\n        )\n      ]\n    }) as SVGSVGElement;\n\n    plot.setAttribute('role', 'img');\n    plot.setAttribute('aria-label', ariaLabel);\n\n    containerRef.current.appendChild(plot);\n\n    return () => {\n      if (containerRef.current) {\n        containerRef.current.innerHTML = '';\n      }\n    };\n  }, [data, xLabel, yLabel, title, width, height, dotRadius, dotOpacity, colorScheme, ariaLabel]);\n\n  return <div ref={containerRef} className={className} />;\n}\n","'use client';\n\nimport { useEffect, useRef } from 'react';\nimport * as Plot from '@observablehq/plot';\n\nexport interface StripPlotProps {\n  data: Array<{ category: string; value: number }>;\n  xLabel?: string;\n  yLabel?: string;\n  title?: string;\n  width?: number;\n  height?: number;\n  dotRadius?: number;\n  dotOpacity?: number;\n  jitterWidth?: number;\n  colorScheme?: string;\n  className?: string;\n  ariaLabel?: string;\n}\n\n/**\n * StripPlot - Categorical strip plot with jittered points\n *\n * Use cases:\n * - Show all individual observations by category\n * - Reveal patterns and outliers in categorical data\n * - Compare distributions with transparency\n * - Simple alternative to violin or box plots\n *\n * Features:\n * - Manual jitter to prevent overlap\n * - Color-coded by category\n * - Customizable jitter width\n * - Automatic legend\n */\nexport function StripPlot({\n  data,\n  xLabel = 'Category',\n  yLabel = 'Value',\n  title,\n  width = 800,\n  height = 500,\n  dotRadius = 4,\n  dotOpacity = 0.6,\n  jitterWidth = 60,\n  colorScheme,\n  className = '',\n  ariaLabel = 'Strip plot showing distribution by category'\n}: StripPlotProps) {\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (!containerRef.current || !data || data.length === 0) return;\n\n    // Clear previous plot\n    containerRef.current.innerHTML = '';\n\n    // Create plot\n    const plot = Plot.plot({\n      width,\n      height,\n      marginTop: title ? 40 : 20,\n      marginRight: 20,\n      marginBottom: 80,\n      marginLeft: 60,\n      title: title,\n      x: {\n        label: xLabel,\n        tickRotate: -45\n      },\n      y: {\n        label: yLabel,\n        grid: true\n      },\n      color: {\n        legend: true,\n        ...(colorScheme && { scheme: colorScheme })\n      },\n      marks: [\n        // Strip plot with jitter\n        Plot.dot(data, {\n          x: 'category',\n          y: 'value',\n          fill: 'category',\n          fillOpacity: dotOpacity,\n          r: dotRadius,\n          dx: () => (Math.random() - 0.5) * jitterWidth\n        })\n      ]\n    }) as SVGSVGElement;\n\n    plot.setAttribute('role', 'img');\n    plot.setAttribute('aria-label', ariaLabel);\n\n    containerRef.current.appendChild(plot);\n\n    return () => {\n      if (containerRef.current) {\n        containerRef.current.innerHTML = '';\n      }\n    };\n  }, [data, xLabel, yLabel, title, width, height, dotRadius, dotOpacity, jitterWidth, colorScheme, ariaLabel]);\n\n  return <div ref={containerRef} className={className} />;\n}\n","'use client';\n\nimport { useEffect, useRef } from 'react';\nimport * as Plot from '@observablehq/plot';\n\nexport interface ForestPlotDataPoint {\n  variable: string;\n  coef: number;\n  ci_lower: number;\n  ci_upper: number;\n  pvalue?: number;\n  group?: string;\n}\n\nexport interface ForestPlotProps {\n  data: ForestPlotDataPoint[];\n  title?: string;\n  width?: number;\n  height?: number;\n  sortBy?: 'coef' | 'pvalue' | 'variable' | 'none';\n  showPValues?: boolean;\n  showZeroLine?: boolean;\n  positiveColor?: string;\n  negativeColor?: string;\n  nonsigColor?: string;\n  significanceLevel?: number;\n  className?: string;\n  ariaLabel?: string;\n}\n\n/**\n * ForestPlot - Regression coefficients with confidence intervals\n *\n * Use cases:\n * - Display regression coefficients\n * - Meta-analysis results\n * - Risk factor analysis\n * - A/B test effect estimates\n * - Treatment effect visualization\n *\n * Features:\n * - Point estimates with confidence intervals\n * - Zero reference line\n * - Color-coded by direction (positive/negative)\n * - Significance stars (*, **, ***)\n * - Sortable by coefficient or p-value\n * - Multiple model support (grouped)\n */\nexport function ForestPlot({\n  data,\n  title,\n  width = 640,\n  height = 400,\n  sortBy = 'coef',\n  showPValues = false,\n  showZeroLine = true,\n  positiveColor = '#22c55e',\n  negativeColor = '#ef4444',\n  nonsigColor = '#94a3b8',\n  significanceLevel = 0.05,\n  className = '',\n  ariaLabel = 'Forest plot showing regression coefficients with confidence intervals'\n}: ForestPlotProps) {\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (!containerRef.current || !data || data.length === 0) return;\n\n    // Clear previous plot\n    containerRef.current.innerHTML = '';\n\n    // Sort data\n    let sortedData = [...data];\n    if (sortBy === 'coef') {\n      sortedData.sort((a, b) => Math.abs(b.coef) - Math.abs(a.coef));\n    } else if (sortBy === 'pvalue' && data.every(d => d.pvalue !== undefined)) {\n      sortedData.sort((a, b) => (a.pvalue || 1) - (b.pvalue || 1));\n    } else if (sortBy === 'variable') {\n      sortedData.sort((a, b) => a.variable.localeCompare(b.variable));\n    }\n\n    // Determine colors based on significance\n    const getColor = (d: ForestPlotDataPoint) => {\n      if (showPValues && d.pvalue !== undefined) {\n        if (d.pvalue >= significanceLevel) return nonsigColor;\n      }\n      // Check if CI crosses zero\n      if ((d.ci_lower < 0 && d.ci_upper > 0)) return nonsigColor;\n      return d.coef > 0 ? positiveColor : negativeColor;\n    };\n\n    const marks: any[] = [];\n\n    // Zero reference line\n    if (showZeroLine) {\n      marks.push(\n        Plot.ruleX([0], {\n          stroke: '#000',\n          strokeWidth: 2\n        })\n      );\n    }\n\n    // Confidence interval lines\n    marks.push(\n      Plot.ruleX(sortedData, {\n        x1: 'ci_lower',\n        x2: 'ci_upper',\n        y: 'variable',\n        stroke: (d: ForestPlotDataPoint) => getColor(d),\n        strokeWidth: 2\n      })\n    );\n\n    // CI endpoints (ticks)\n    marks.push(\n      Plot.tickX(sortedData, {\n        x: 'ci_lower',\n        y: 'variable',\n        stroke: (d: ForestPlotDataPoint) => getColor(d),\n        strokeWidth: 2\n      })\n    );\n\n    marks.push(\n      Plot.tickX(sortedData, {\n        x: 'ci_upper',\n        y: 'variable',\n        stroke: (d: ForestPlotDataPoint) => getColor(d),\n        strokeWidth: 2\n      })\n    );\n\n    // Point estimates\n    marks.push(\n      Plot.dot(sortedData, {\n        x: 'coef',\n        y: 'variable',\n        fill: (d: ForestPlotDataPoint) => getColor(d),\n        r: 5\n      })\n    );\n\n    // Create plot\n    const plot = Plot.plot({\n      width,\n      height,\n      marginTop: title ? 40 : 20,\n      marginRight: 20,\n      marginBottom: 40,\n      marginLeft: 150, // Extra space for variable names\n      title: title,\n      x: {\n        label: 'Coefficient',\n        grid: true\n      },\n      y: {\n        label: null,\n        domain: sortedData.map(d => d.variable)\n      },\n      marks\n    }) as SVGSVGElement;\n\n    plot.setAttribute('role', 'img');\n    plot.setAttribute('aria-label', ariaLabel);\n\n    containerRef.current.appendChild(plot);\n\n    // Add significance stars if requested\n    if (showPValues) {\n      sortedData.forEach((d, i) => {\n        if (d.pvalue !== undefined) {\n          let stars = '';\n          if (d.pvalue < 0.001) stars = '***';\n          else if (d.pvalue < 0.01) stars = '**';\n          else if (d.pvalue < 0.05) stars = '*';\n\n          if (stars) {\n            const starText = document.createElementNS('http://www.w3.org/2000/svg', 'text');\n            starText.setAttribute('x', String(width - 40));\n            starText.setAttribute('y', String(60 + i * (height - 80) / sortedData.length));\n            starText.setAttribute('text-anchor', 'start');\n            starText.setAttribute('font-size', '14');\n            starText.setAttribute('fill', '#666');\n            starText.textContent = stars;\n            plot.appendChild(starText);\n          }\n        }\n      });\n    }\n\n    return () => {\n      if (containerRef.current) {\n        containerRef.current.innerHTML = '';\n      }\n    };\n  }, [data, title, width, height, sortBy, showPValues, showZeroLine, positiveColor, negativeColor, nonsigColor, significanceLevel, ariaLabel]);\n\n  return <div ref={containerRef} className={className} />;\n}\n","'use client';\n\nimport * as Plot from \"@observablehq/plot\";\nimport * as React from \"react\";\n\nexport interface SplitBarDataPoint {\n  /** Category label (e.g., state name) */\n  category: string;\n  /** Overall value shown as bar */\n  overall: number;\n  /** Values for subcategories shown as dots */\n  [subCategory: string]: string | number;\n}\n\nexport interface SplitBarProps {\n  /** Array of data points with category, overall, and subcategory values */\n  data: SplitBarDataPoint[];\n\n  /** Names of subcategories to display as dots (exactly 2) */\n  subcategories: [string, string];\n\n  /** Chart width in pixels */\n  width?: number;\n\n  /** Chart height in pixels */\n  height?: number;\n\n  /** Colors for the two subcategories */\n  colors?: [string, string];\n\n  /** Label for the category axis */\n  categoryLabel?: string;\n\n  /** Label for the value axis */\n  valueLabel?: string;\n\n  /** Caption text */\n  caption?: string;\n\n  /** Sort order for categories */\n  sortBy?: 'overall' | 'category' | 'none';\n\n  /** Sort direction */\n  sortDirection?: 'ascending' | 'descending';\n\n  /** Value formatter function */\n  formatValue?: (value: number) => string;\n\n  /** Additional CSS classes */\n  className?: string;\n\n  /** Left margin for category labels */\n  marginLeft?: number;\n\n  /** Show value labels on bars */\n  showValueLabels?: boolean;\n}\n\n/**\n * SplitBar - Bars with contrasting subgroup dots\n *\n * Displays overall values as horizontal bars with subcategory values\n * overlaid as colored dots, useful for comparing subgroups within categories.\n *\n * @example\n * ```tsx\n * <SplitBar\n *   data={[\n *     { category: 'Alabama', overall: 25.5, Male: 23.2, Female: 27.8 },\n *     { category: 'Alaska', overall: 22.1, Male: 20.5, Female: 23.7 }\n *   ]}\n *   subcategories={['Male', 'Female']}\n *   colors={['#e15759', '#59a14f']}\n *   valueLabel=\"Prevalence (%)\"\n * />\n * ```\n */\nexport const SplitBar: React.FC<SplitBarProps> = ({\n  data,\n  subcategories,\n  width = 800,\n  height = 750,\n  colors = ['#e15759', '#59a14f'],\n  categoryLabel = '',\n  valueLabel = '',\n  caption = '',\n  sortBy = 'overall',\n  sortDirection = 'descending',\n  formatValue = (v) => `${v.toFixed(1)}%`,\n  className = '',\n  marginLeft = 150,\n  showValueLabels = true\n}) => {\n  const containerRef = React.useRef<HTMLDivElement>(null);\n\n  React.useEffect(() => {\n    if (!containerRef.current || !data || data.length === 0) return;\n    if (subcategories.length !== 2) {\n      console.error('SplitBar requires exactly 2 subcategories');\n      return;\n    }\n\n    containerRef.current.innerHTML = '';\n\n    // Sort data\n    let sortedData = [...data];\n    if (sortBy === 'overall') {\n      sortedData.sort((a, b) =>\n        sortDirection === 'descending'\n          ? b.overall - a.overall\n          : a.overall - b.overall\n      );\n    } else if (sortBy === 'category') {\n      sortedData.sort((a, b) =>\n        sortDirection === 'descending'\n          ? b.category.localeCompare(a.category)\n          : a.category.localeCompare(b.category)\n      );\n    }\n\n    // Prepare dot data\n    const dotData = sortedData.flatMap((d) =>\n      subcategories.map((subCat) => ({\n        category: d.category,\n        subcategory: subCat,\n        value: typeof d[subCat] === 'number' ? (d[subCat] as number) : null\n      }))\n    ).filter((d) => d.value !== null);\n\n    // Calculate value range\n    const allValues = sortedData.flatMap((d) =>\n      [d.overall, ...subcategories.map((s) => d[s] as number)].filter(\n        (v) => typeof v === 'number'\n      )\n    );\n    const minValue = Math.min(...allValues);\n    const maxValue = Math.max(...allValues);\n\n    const plot = Plot.plot({\n      caption,\n      style: {\n        backgroundColor: 'white',\n        fontFamily: 'sans-serif'\n      },\n      color: {\n        legend: true,\n        domain: subcategories,\n        range: colors\n      },\n      marginLeft,\n      marginRight: 40,\n      marginBottom: 60,\n      width,\n      height,\n      clip: true,\n      y: {\n        label: categoryLabel,\n        domain: sortedData.map((d) => d.category)\n      },\n      x: {\n        label: valueLabel,\n        domain: [minValue, maxValue],\n        grid: true\n      },\n      marks: [\n        // Background bars for overall values\n        Plot.barX(sortedData, {\n          y: 'category',\n          x: 'overall',\n          fill: '#e4e4e4',\n          title: (d) => `Overall: ${formatValue(d.overall)}`\n        }),\n        // Dots for subcategory values\n        Plot.dot(dotData, {\n          y: 'category',\n          x: 'value',\n          fill: 'subcategory',\n          r: 5,\n          tip: true,\n          title: (d) => `${d.subcategory}: ${formatValue(d.value!)}`\n        }),\n        // Value labels on bars\n        ...(showValueLabels\n          ? [\n              Plot.text(sortedData, {\n                y: 'category',\n                x: 'overall',\n                text: (d) => formatValue(d.overall),\n                dx: -25,\n                fill: 'black',\n                fontSize: 9,\n                fontWeight: 'normal',\n                textAnchor: 'start'\n              })\n            ]\n          : []),\n        // Zero reference line\n        Plot.ruleX([minValue])\n      ]\n    });\n\n    containerRef.current.appendChild(plot);\n\n    return () => {\n      plot.remove();\n    };\n  }, [\n    data,\n    subcategories,\n    width,\n    height,\n    colors,\n    categoryLabel,\n    valueLabel,\n    caption,\n    sortBy,\n    sortDirection,\n    formatValue,\n    marginLeft,\n    showValueLabels\n  ]);\n\n  return <div ref={containerRef} className={className}></div>;\n};\n\nexport default SplitBar;\n","'use client';\n\nimport React, { useRef, useEffect } from 'react';\nimport * as Plot from \"@observablehq/plot\";\n\n/**\n * DotPlot Component\n *\n * A simple, reusable dot plot visualization using Observable Plot.\n * Suitable for comparing values across categories or groups.\n *\n * @example\n * ```tsx\n * <DotPlot\n *   data={wages}\n *   x=\"median_wage\"\n *   y=\"gender\"\n *   fill=\"gender\"\n *   title=\"Wage Distribution by Gender\"\n * />\n * ```\n */\n\nexport interface DotPlotProps {\n  /** Data array to visualize */\n  data: any[];\n\n  /** Field name for x-axis (horizontal position) */\n  x: string;\n\n  /** Field name for y-axis (vertical position/category) */\n  y: string;\n\n  /** Optional field name for color encoding */\n  fill?: string;\n\n  /** Chart title */\n  title?: string;\n\n  /** Chart subtitle */\n  subtitle?: string;\n\n  /** X-axis label */\n  xLabel?: string;\n\n  /** Y-axis label */\n  yLabel?: string;\n\n  /** Dot radius in pixels */\n  radius?: number;\n\n  /** Dot fill opacity (0-1) */\n  fillOpacity?: number;\n\n  /** Chart width in pixels */\n  width?: number;\n\n  /** Chart height in pixels */\n  height?: number;\n\n  /** Left margin in pixels (for y-axis labels) */\n  marginLeft?: number;\n\n  /** Custom color scheme */\n  colorScheme?: string[] | Record<string, string>;\n\n  /** Optional format function for tooltips */\n  tipFormat?: (d: any) => string;\n\n  /** Additional CSS classes */\n  className?: string;\n}\n\nexport function DotPlot({\n  data,\n  x,\n  y,\n  fill,\n  title,\n  subtitle,\n  xLabel,\n  yLabel,\n  radius = 4,\n  fillOpacity = 0.7,\n  width = 700,\n  height = 300,\n  marginLeft = 80,\n  colorScheme,\n  tipFormat,\n  className = ''\n}: DotPlotProps) {\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (!containerRef.current || !data || data.length === 0) return;\n\n    // Clear previous plot\n    containerRef.current.innerHTML = '';\n\n    // Build color configuration\n    let colorConfig: any = fill ? { legend: true } : undefined;\n\n    if (fill && colorScheme) {\n      if (Array.isArray(colorScheme)) {\n        colorConfig = { ...colorConfig, range: colorScheme };\n      } else {\n        // Extract domain and range from color scheme object\n        colorConfig = {\n          ...colorConfig,\n          domain: Object.keys(colorScheme),\n          range: Object.values(colorScheme)\n        };\n      }\n    }\n\n    // Create the plot\n    const plot = Plot.plot({\n      title,\n      subtitle,\n      style: {\n        backgroundColor: \"white\",\n        fontFamily: \"sans-serif\",\n      },\n      x: {\n        label: xLabel || x,\n        grid: true\n      },\n      y: {\n        label: yLabel || y\n      },\n      color: colorConfig,\n      marks: [\n        Plot.dot(data, {\n          x,\n          y,\n          fill: fill || \"currentColor\",\n          stroke: \"white\",\n          strokeWidth: 1,\n          r: radius,\n          fillOpacity,\n          title: tipFormat || (d => `${d[y]}: ${d[x]}`),\n          tip: true\n        }),\n        Plot.ruleX([0])\n      ],\n      width,\n      height,\n      marginLeft\n    });\n\n    containerRef.current.appendChild(plot);\n\n    return () => {\n      plot?.remove();\n    };\n  }, [data, x, y, fill, title, subtitle, xLabel, yLabel, radius, fillOpacity, width, height, marginLeft, colorScheme, tipFormat]);\n\n  return (\n    <div ref={containerRef} className={className} />\n  );\n}\n\nexport default DotPlot;\n","'use client';\n\nimport React, { useRef, useEffect } from 'react';\nimport * as Plot from \"@observablehq/plot\";\n\n/**\n * BarChart Component\n *\n * A simple, reusable bar chart visualization using Observable Plot.\n * Suitable for time series data, categorical comparisons, and data with confidence intervals.\n *\n * @example\n * ```tsx\n * <BarChart\n *   data={yearlyData}\n *   x=\"year\"\n *   y=\"value\"\n *   errorY={{ lower: \"ci_lower\", upper: \"ci_upper\" }}\n *   title=\"Support Over Time\"\n * />\n * ```\n */\n\nexport interface BarChartProps {\n  /** Data array to visualize */\n  data: any[];\n\n  /** Field name for x-axis (typically time or category) */\n  x: string;\n\n  /** Field name for y-axis (bar height) */\n  y: string;\n\n  /** Optional error bars configuration */\n  errorY?: {\n    lower: string;\n    upper: string;\n  };\n\n  /** Chart title */\n  title?: string;\n\n  /** Chart subtitle */\n  subtitle?: string;\n\n  /** Chart caption */\n  caption?: string;\n\n  /** X-axis label */\n  xLabel?: string;\n\n  /** Y-axis label */\n  yLabel?: string;\n\n  /** Bar fill color */\n  fill?: string;\n\n  /** Error bar stroke color */\n  errorStroke?: string;\n\n  /** Error bar stroke width */\n  errorStrokeWidth?: number;\n\n  /** Chart width in pixels */\n  width?: number;\n\n  /** Chart height in pixels */\n  height?: number;\n\n  /** Bottom margin in pixels */\n  marginBottom?: number;\n\n  /** Rotate x-axis labels (degrees) */\n  xTickRotate?: number;\n\n  /** Custom tick formatter for x-axis */\n  xTickFormat?: (d: any) => string;\n\n  /** Custom tick values for x-axis */\n  xTicks?: any[];\n\n  /** Additional CSS classes */\n  className?: string;\n}\n\nexport function BarChart({\n  data,\n  x,\n  y,\n  errorY,\n  title,\n  subtitle,\n  caption,\n  xLabel,\n  yLabel,\n  fill = \"#708090\",\n  errorStroke = \"#394E54\",\n  errorStrokeWidth = 2,\n  width = 800,\n  height = 400,\n  marginBottom = 60,\n  xTickRotate = 0,\n  xTickFormat,\n  xTicks,\n  className = ''\n}: BarChartProps) {\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (!containerRef.current || !data || data.length === 0) return;\n\n    // Clear previous plot\n    containerRef.current.innerHTML = '';\n\n    // Build marks array\n    const marks: any[] = [\n      // Main bar chart\n      Plot.barY(data, {\n        x,\n        y,\n        fill\n      })\n    ];\n\n    // Add error bars if provided\n    if (errorY) {\n      marks.push(\n        Plot.ruleX(data, {\n          x,\n          y1: errorY.lower,\n          y2: errorY.upper,\n          stroke: errorStroke,\n          strokeWidth: errorStrokeWidth\n        })\n      );\n    }\n\n    // Create the plot\n    const plot = Plot.plot({\n      width,\n      height,\n      marginBottom,\n      title,\n      subtitle,\n      caption,\n      style: {\n        backgroundColor: \"white\",\n        fontFamily: \"sans-serif\",\n      },\n      x: {\n        label: xLabel || x,\n        tickRotate: xTickRotate,\n        tickFormat: xTickFormat,\n        tickSize: 5,\n        labelOffset: 50,\n        ...(xTicks && { ticks: xTicks })\n      },\n      y: {\n        label: yLabel || y,\n        grid: true\n      },\n      marks\n    }) as SVGSVGElement;\n\n    containerRef.current.appendChild(plot);\n\n    return () => {\n      plot?.remove();\n    };\n  }, [data, x, y, errorY, title, subtitle, caption, xLabel, yLabel, fill, errorStroke, errorStrokeWidth, width, height, marginBottom, xTickRotate, xTickFormat, xTicks]);\n\n  return (\n    <div ref={containerRef} className={className} />\n  );\n}\n\nexport default BarChart;\n","'use client';\n\nimport React, { useEffect, useRef } from 'react';\nimport * as Plot from '@observablehq/plot';\n\n/**\n * Sparkline Component (viz.sparkline.v1)\n *\n * Compact inline trend visualization for dashboards, tables, and mobile displays.\n * Supports line, area, and bar variants with optional min/max indicators.\n *\n * @example\n * ```tsx\n * <Sparkline\n *   data={[1, 5, 3, 8, 4, 9, 2]}\n *   variant=\"line\"\n *   showMinMax={true}\n *   positiveColor=\"#22c55e\"\n *   negativeColor=\"#ef4444\"\n * />\n * ```\n */\n\nexport interface SparklineProps {\n  data: number[];\n  variant?: 'line' | 'area' | 'bar';\n  width?: number;\n  height?: number;\n  showMinMax?: boolean;\n  positiveColor?: string;\n  negativeColor?: string;\n  neutralColor?: string;\n  className?: string;\n  ariaLabel?: string;\n}\n\nexport function Sparkline({\n  data,\n  variant = 'line',\n  width = 200,\n  height = 50,\n  showMinMax = false,\n  positiveColor = '#22c55e',\n  negativeColor = '#ef4444',\n  neutralColor = '#6b7280',\n  className = '',\n  ariaLabel = 'Sparkline chart'\n}: SparklineProps) {\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (!containerRef.current || !data || data.length === 0) return;\n\n    // Clear previous plot\n    containerRef.current.innerHTML = '';\n\n    // Create indexed data for plotting\n    const indexedData = data.map((value, index) => ({ index, value }));\n\n    // Determine color based on trend\n    const firstValue = data[0];\n    const lastValue = data[data.length - 1];\n    let color = neutralColor;\n\n    if (lastValue > firstValue) {\n      color = positiveColor;\n    } else if (lastValue < firstValue) {\n      color = negativeColor;\n    }\n\n    // Build marks array\n    const marks: any[] = [];\n\n    // Main sparkline mark\n    if (variant === 'line') {\n      marks.push(\n        Plot.lineY(indexedData, {\n          x: 'index',\n          y: 'value',\n          stroke: color,\n          strokeWidth: 2\n        })\n      );\n    } else if (variant === 'area') {\n      marks.push(\n        Plot.areaY(indexedData, {\n          x: 'index',\n          y: 'value',\n          fill: color,\n          fillOpacity: 0.3,\n          curve: 'catmull-rom'\n        }),\n        Plot.lineY(indexedData, {\n          x: 'index',\n          y: 'value',\n          stroke: color,\n          strokeWidth: 1.5,\n          curve: 'catmull-rom'\n        })\n      );\n    } else if (variant === 'bar') {\n      marks.push(\n        Plot.barY(indexedData, {\n          x: 'index',\n          y: 'value',\n          fill: color,\n          fillOpacity: 0.8\n        })\n      );\n    }\n\n    // Add min/max dots if requested\n    if (showMinMax) {\n      const minValue = Math.min(...data);\n      const maxValue = Math.max(...data);\n      const minIndex = data.indexOf(minValue);\n      const maxIndex = data.indexOf(maxValue);\n\n      marks.push(\n        Plot.dot([{ index: minIndex, value: minValue }], {\n          x: 'index',\n          y: 'value',\n          fill: negativeColor,\n          r: 3,\n          stroke: 'white',\n          strokeWidth: 1\n        }),\n        Plot.dot([{ index: maxIndex, value: maxValue }], {\n          x: 'index',\n          y: 'value',\n          fill: positiveColor,\n          r: 3,\n          stroke: 'white',\n          strokeWidth: 1\n        })\n      );\n    }\n\n    // Create plot with minimal styling (no axes, no labels)\n    const plot = Plot.plot({\n      width,\n      height,\n      marginTop: 5,\n      marginRight: 5,\n      marginBottom: 5,\n      marginLeft: 5,\n      x: {\n        axis: null\n      },\n      y: {\n        axis: null\n      },\n      marks\n    }) as SVGSVGElement;\n\n    // Add ARIA label for accessibility\n    plot.setAttribute('role', 'img');\n    plot.setAttribute('aria-label', ariaLabel);\n\n    containerRef.current.appendChild(plot);\n\n    return () => {\n      plot?.remove();\n    };\n  }, [data, variant, width, height, showMinMax, positiveColor, negativeColor, neutralColor, ariaLabel]);\n\n  return <div ref={containerRef} className={className} />;\n}\n","'use client';\n\nimport React, { useEffect, useRef } from 'react';\nimport * as Plot from '@observablehq/plot';\n\n/**\n * SlopeChart Component (viz.slope.v1)\n *\n * Shows change between two time points using connecting lines.\n * Perfect for before/after comparisons, ranking changes, and treatment effects.\n *\n * @example\n * ```tsx\n * <SlopeChart\n *   data={[\n *     { label: 'Product A', before: 45, after: 68 },\n *     { label: 'Product B', before: 72, after: 58 }\n *   ]}\n *   beforeKey=\"before\"\n *   afterKey=\"after\"\n *   labelKey=\"label\"\n * />\n * ```\n */\n\nexport interface SlopeChartProps {\n  data: any[];\n  beforeKey: string;\n  afterKey: string;\n  labelKey: string;\n  beforeLabel?: string;\n  afterLabel?: string;\n  width?: number;\n  height?: number;\n  marginLeft?: number;\n  marginRight?: number;\n  marginTop?: number;\n  marginBottom?: number;\n  increaseColor?: string;\n  decreaseColor?: string;\n  noChangeColor?: string;\n  title?: string;\n  subtitle?: string;\n  caption?: string;\n  dotSize?: number;\n  strokeWidth?: number;\n  showLabels?: boolean;\n  className?: string;\n}\n\nexport function SlopeChart({\n  data,\n  beforeKey,\n  afterKey,\n  labelKey,\n  beforeLabel = 'Before',\n  afterLabel = 'After',\n  width = 800,\n  height = 500,\n  marginLeft = 100,\n  marginRight = 100,\n  marginTop = 40,\n  marginBottom = 40,\n  increaseColor = '#22c55e',\n  decreaseColor = '#ef4444',\n  noChangeColor = '#6b7280',\n  title,\n  subtitle,\n  caption,\n  dotSize = 4,\n  strokeWidth = 2,\n  showLabels = true,\n  className = ''\n}: SlopeChartProps) {\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (!containerRef.current || !data || data.length === 0) return;\n\n    // Clear previous plot\n    containerRef.current.innerHTML = '';\n\n    // Transform data into long format for plotting\n    const longData: any[] = [];\n    data.forEach(d => {\n      longData.push(\n        { [labelKey]: d[labelKey], time: beforeLabel, value: d[beforeKey], change: d[afterKey] - d[beforeKey] },\n        { [labelKey]: d[labelKey], time: afterLabel, value: d[afterKey], change: d[afterKey] - d[beforeKey] }\n      );\n    });\n\n    // Function to determine color based on change\n    const getColor = (change: number) => {\n      if (change > 0) return increaseColor;\n      if (change < 0) return decreaseColor;\n      return noChangeColor;\n    };\n\n    // Build marks array\n    const marks: any[] = [];\n\n    // Slope lines connecting before and after\n    marks.push(\n      Plot.line(longData, {\n        x: 'time',\n        y: 'value',\n        z: labelKey,\n        stroke: d => getColor(d.change),\n        strokeWidth,\n        title: d => `${d[labelKey]}: ${d.change > 0 ? '+' : ''}${d.change.toFixed(1)}`\n      })\n    );\n\n    // Dots at endpoints\n    marks.push(\n      Plot.dot(longData, {\n        x: 'time',\n        y: 'value',\n        fill: d => getColor(d.change),\n        r: dotSize,\n        title: d => `${d[labelKey]}: ${d.value.toFixed(1)}`\n      })\n    );\n\n    // Optional labels\n    if (showLabels) {\n      // Labels on the left (before)\n      const beforeData = data.map(d => ({\n        [labelKey]: d[labelKey],\n        time: beforeLabel,\n        value: d[beforeKey],\n        change: d[afterKey] - d[beforeKey]\n      }));\n\n      marks.push(\n        Plot.text(beforeData, {\n          x: 'time',\n          y: 'value',\n          text: labelKey,\n          dx: -10,\n          textAnchor: 'end',\n          fill: d => getColor(d.change),\n          fontSize: 11\n        })\n      );\n\n      // Values on the right (after)\n      const afterData = data.map(d => ({\n        [labelKey]: d[labelKey],\n        time: afterLabel,\n        value: d[afterKey],\n        change: d[afterKey] - d[beforeKey]\n      }));\n\n      marks.push(\n        Plot.text(afterData, {\n          x: 'time',\n          y: 'value',\n          text: d => d.value.toFixed(1),\n          dx: 10,\n          textAnchor: 'start',\n          fill: d => getColor(d.change),\n          fontSize: 11,\n          fontWeight: 600\n        })\n      );\n    }\n\n    // Create plot\n    const plot = Plot.plot({\n      width,\n      height,\n      marginLeft,\n      marginRight,\n      marginTop,\n      marginBottom,\n      title,\n      subtitle,\n      caption,\n      x: {\n        domain: [beforeLabel, afterLabel],\n        label: null\n      },\n      y: {\n        label: null,\n        grid: true\n      },\n      marks\n    }) as SVGSVGElement;\n\n    containerRef.current.appendChild(plot);\n\n    return () => {\n      plot?.remove();\n    };\n  }, [\n    data,\n    beforeKey,\n    afterKey,\n    labelKey,\n    beforeLabel,\n    afterLabel,\n    width,\n    height,\n    marginLeft,\n    marginRight,\n    marginTop,\n    marginBottom,\n    increaseColor,\n    decreaseColor,\n    noChangeColor,\n    title,\n    subtitle,\n    caption,\n    dotSize,\n    strokeWidth,\n    showLabels\n  ]);\n\n  return <div ref={containerRef} className={className} />;\n}\n","'use client';\n\nimport React, { useEffect, useRef } from 'react';\nimport * as Plot from '@observablehq/plot';\n\n/**\n * BulletChart Component (viz.bullet.v1)\n *\n * Compact horizontal bar chart showing actual vs target performance with color-coded ranges.\n * Perfect for KPI dashboards, sales tracking, budget monitoring, and goal progress.\n *\n * @example\n * ```tsx\n * <BulletChart\n *   title=\"Revenue\"\n *   value={85}\n *   target={100}\n *   ranges={[\n *     { threshold: 60, color: '#ef4444', label: 'Poor' },\n *     { threshold: 80, color: '#f59e0b', label: 'Fair' },\n *     { threshold: 100, color: '#22c55e', label: 'Good' }\n *   ]}\n * />\n * ```\n */\n\nexport interface BulletRange {\n  threshold: number;\n  color: string;\n  label: string;\n}\n\nexport interface BulletChartProps {\n  title: string;\n  value: number;\n  target: number;\n  ranges: BulletRange[];\n  width?: number;\n  height?: number;\n  valueColor?: string;\n  targetColor?: string;\n  showLabels?: boolean;\n  className?: string;\n}\n\nexport function BulletChart({\n  title,\n  value,\n  target,\n  ranges,\n  width = 400,\n  height = 80,\n  valueColor = '#1e293b',\n  targetColor = '#000000',\n  showLabels = true,\n  className = ''\n}: BulletChartProps) {\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (!containerRef.current) return;\n\n    // Clear previous plot\n    containerRef.current.innerHTML = '';\n\n    // Sort ranges by threshold to ensure proper layering\n    const sortedRanges = [...ranges].sort((a, b) => b.threshold - a.threshold);\n\n    // Calculate max value for x-axis domain\n    const maxValue = Math.max(\n      target * 1.1,\n      value * 1.1,\n      ...sortedRanges.map(r => r.threshold)\n    );\n\n    // Build marks array\n    const marks: any[] = [];\n\n    // Background ranges (largest to smallest for proper layering)\n    sortedRanges.forEach(range => {\n      marks.push(\n        Plot.barX([{ value: range.threshold }], {\n          x: 'value',\n          fill: range.color,\n          fillOpacity: 0.3,\n          y: () => title,\n          title: () => `${range.label}: ${range.threshold}`\n        })\n      );\n    });\n\n    // Actual performance bar (darker, thinner)\n    marks.push(\n      Plot.barX([{ value }], {\n        x: 'value',\n        fill: valueColor,\n        y: () => title,\n        insetTop: 15,\n        insetBottom: 15,\n        title: () => `Actual: ${value}`\n      })\n    );\n\n    // Target marker (vertical line)\n    marks.push(\n      Plot.tickX([{ value: target }], {\n        x: 'value',\n        y: () => title,\n        stroke: targetColor,\n        strokeWidth: 3,\n        insetTop: 10,\n        insetBottom: 10,\n        title: () => `Target: ${target}`\n      })\n    );\n\n    // Optional value labels\n    if (showLabels) {\n      // Value label\n      marks.push(\n        Plot.text([{ value, label: value.toString() }], {\n          x: 'value',\n          y: () => title,\n          text: 'label',\n          dx: 5,\n          dy: -15,\n          fontSize: 12,\n          fontWeight: 600,\n          fill: valueColor\n        })\n      );\n\n      // Target label\n      marks.push(\n        Plot.text([{ value: target, label: `Target: ${target}` }], {\n          x: 'value',\n          y: () => title,\n          text: 'label',\n          dx: 5,\n          dy: 15,\n          fontSize: 10,\n          fill: targetColor\n        })\n      );\n    }\n\n    // Create plot\n    const plot = Plot.plot({\n      width,\n      height,\n      marginLeft: 100,\n      marginRight: 60,\n      marginTop: 10,\n      marginBottom: 10,\n      x: {\n        domain: [0, maxValue],\n        label: null,\n        grid: true\n      },\n      y: {\n        domain: [title],\n        label: null\n      },\n      marks\n    }) as SVGSVGElement;\n\n    containerRef.current.appendChild(plot);\n\n    return () => {\n      plot?.remove();\n    };\n  }, [title, value, target, ranges, width, height, valueColor, targetColor, showLabels]);\n\n  return <div ref={containerRef} className={className} />;\n}\n","'use client';\n\nimport React, { useEffect, useRef } from 'react';\nimport * as Plot from '@observablehq/plot';\n\n/**\n * DivergingBar Component (viz.diverging_bar.v1)\n *\n * Horizontal bar chart with positive values extending right and negative values extending left\n * from a central zero baseline. Perfect for survey responses, sentiment analysis, NPS scores,\n * and election margins.\n *\n * @example\n * ```tsx\n * <DivergingBar\n *   data={[\n *     { category: 'Strongly Agree', positive: 45, negative: -12 },\n *     { category: 'Agree', positive: 32, negative: -8 }\n *   ]}\n *   categoryKey=\"category\"\n *   positiveKey=\"positive\"\n *   negativeKey=\"negative\"\n * />\n * ```\n */\n\nexport interface DivergingBarProps {\n  data: any[];\n  categoryKey: string;\n  positiveKey: string;\n  negativeKey: string;\n  width?: number;\n  height?: number;\n  marginLeft?: number;\n  marginRight?: number;\n  marginTop?: number;\n  marginBottom?: number;\n  positiveColor?: string;\n  negativeColor?: string;\n  positiveLabel?: string;\n  negativeLabel?: string;\n  title?: string;\n  subtitle?: string;\n  caption?: string;\n  sortByNet?: boolean;\n  showZeroLine?: boolean;\n  className?: string;\n}\n\nexport function DivergingBar({\n  data,\n  categoryKey,\n  positiveKey,\n  negativeKey,\n  width = 800,\n  height = 400,\n  marginLeft = 120,\n  marginRight = 60,\n  marginTop = 40,\n  marginBottom = 40,\n  positiveColor = '#22c55e',\n  negativeColor = '#ef4444',\n  positiveLabel = 'Positive',\n  negativeLabel = 'Negative',\n  title,\n  subtitle,\n  caption,\n  sortByNet = true,\n  showZeroLine = true,\n  className = ''\n}: DivergingBarProps) {\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (!containerRef.current || !data || data.length === 0) return;\n\n    // Clear previous plot\n    containerRef.current.innerHTML = '';\n\n    // Calculate net values and sort if requested\n    let processedData = data.map(d => ({\n      ...d,\n      net: d[positiveKey] + d[negativeKey] // negative values should already be negative\n    }));\n\n    if (sortByNet) {\n      processedData = [...processedData].sort((a, b) => b.net - a.net);\n    }\n\n    // Build marks array\n    const marks: any[] = [];\n\n    // Zero baseline\n    if (showZeroLine) {\n      marks.push(\n        Plot.ruleX([0], {\n          stroke: '#000',\n          strokeWidth: 2\n        })\n      );\n    }\n\n    // Positive bars (extending right)\n    marks.push(\n      Plot.barX(processedData, {\n        y: categoryKey,\n        x: positiveKey,\n        fill: positiveColor,\n        title: d => `${d[categoryKey]}: ${d[positiveKey]}% ${positiveLabel}`\n      })\n    );\n\n    // Negative bars (extending left)\n    marks.push(\n      Plot.barX(processedData, {\n        y: categoryKey,\n        x: negativeKey,\n        fill: negativeColor,\n        title: d => `${d[categoryKey]}: ${Math.abs(d[negativeKey])}% ${negativeLabel}`\n      })\n    );\n\n    // Create plot\n    const plot = Plot.plot({\n      width,\n      height,\n      marginLeft,\n      marginRight,\n      marginTop,\n      marginBottom,\n      title,\n      subtitle,\n      caption,\n      y: {\n        label: null,\n        domain: processedData.map(d => d[categoryKey])\n      },\n      x: {\n        label: ' ' + negativeLabel + '     |     ' + positiveLabel + ' ',\n        grid: true,\n        tickFormat: d => Math.abs(d) + '%'\n      },\n      marks\n    }) as SVGSVGElement;\n\n    containerRef.current.appendChild(plot);\n\n    return () => {\n      plot?.remove();\n    };\n  }, [\n    data,\n    categoryKey,\n    positiveKey,\n    negativeKey,\n    width,\n    height,\n    marginLeft,\n    marginRight,\n    marginTop,\n    marginBottom,\n    positiveColor,\n    negativeColor,\n    positiveLabel,\n    negativeLabel,\n    title,\n    subtitle,\n    caption,\n    sortByNet,\n    showZeroLine\n  ]);\n\n  return <div ref={containerRef} className={className} />;\n}\n","'use client';\n\nimport { useEffect, useRef } from 'react';\nimport * as Plot from '@observablehq/plot';\n\nexport interface FacetedPlotProps {\n  data: any[];\n  x: string;\n  y: string;\n  facetX?: string;\n  facetY?: string;\n  mark?: 'dot' | 'line' | 'bar' | 'area';\n  xLabel?: string;\n  yLabel?: string;\n  title?: string;\n  width?: number;\n  height?: number;\n  sharedScales?: boolean;\n  color?: string;\n  groupBy?: string;\n  className?: string;\n  ariaLabel?: string;\n}\n\n/**\n * FacetedPlot - Small multiples for comparative analysis\n *\n * Use cases:\n * - Compare trends across groups\n * - Panel data visualization\n * - A/B test results by segment\n * - Diagnostic plots\n * - Comparative time series\n *\n * Features:\n * - X, Y, or XY faceting\n * - Shared or independent scales\n * - Multiple mark types (dot, line, bar, area)\n * - Automatic layout and spacing\n * - Performance optimization with sampling\n */\nexport function FacetedPlot({\n  data,\n  x,\n  y,\n  facetX,\n  facetY,\n  mark = 'dot',\n  xLabel,\n  yLabel,\n  title,\n  width = 900,\n  height = 600,\n  sharedScales = true,\n  color = '#3b82f6',\n  groupBy,\n  className = '',\n  ariaLabel = 'Faceted plot showing comparative analysis across groups'\n}: FacetedPlotProps) {\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (!containerRef.current || !data || data.length === 0) return;\n\n    // Clear previous plot\n    containerRef.current.innerHTML = '';\n\n    // Sample data within facets if too large\n    let plotData = data;\n    if (!facetX && !facetY) {\n      // No faceting, just sample overall\n      if (data.length > 10000) {\n        const sampleRate = 10000 / data.length;\n        plotData = data.filter(() => Math.random() < sampleRate);\n      }\n    } else {\n      // With faceting, sample within each facet\n      const facetKey = facetX || facetY;\n      if (facetKey) {\n        const groups = Array.from(new Set(data.map(d => d[facetKey])));\n        const maxPerGroup = Math.floor(10000 / groups.length);\n\n        plotData = [];\n        groups.forEach(group => {\n          let groupData = data.filter(d => d[facetKey] === group);\n          if (groupData.length > maxPerGroup) {\n            const sampleRate = maxPerGroup / groupData.length;\n            groupData = groupData.filter(() => Math.random() < sampleRate);\n          }\n          plotData.push(...groupData);\n        });\n      }\n    }\n\n    // Build marks based on mark type\n    let marks: any[] = [];\n\n    const baseOptions: any = {\n      x,\n      y,\n      ...(facetX && { fx: facetX }),\n      ...(facetY && { fy: facetY })\n    };\n\n    if (groupBy) {\n      baseOptions.stroke = groupBy;\n      baseOptions.fill = groupBy;\n    } else {\n      if (mark === 'line' || mark === 'area') {\n        baseOptions.stroke = color;\n      } else {\n        baseOptions.fill = color;\n      }\n    }\n\n    switch (mark) {\n      case 'dot':\n        marks.push(\n          Plot.dot(plotData, {\n            ...baseOptions,\n            r: 3,\n            fillOpacity: 0.6\n          })\n        );\n        break;\n\n      case 'line':\n        marks.push(\n          Plot.line(plotData, {\n            ...baseOptions,\n            strokeWidth: 2,\n            ...(groupBy && { z: groupBy })\n          })\n        );\n        break;\n\n      case 'bar':\n        marks.push(\n          Plot.barY(plotData, {\n            ...baseOptions\n          })\n        );\n        break;\n\n      case 'area':\n        marks.push(\n          Plot.areaY(plotData, {\n            ...baseOptions,\n            fillOpacity: 0.5,\n            ...(groupBy && { z: groupBy })\n          })\n        );\n        break;\n    }\n\n    // Create plot with facets\n    const plot = Plot.plot({\n      width,\n      height,\n      marginTop: title ? 50 : 30,\n      marginRight: 20,\n      marginBottom: 50,\n      marginLeft: 60,\n      title: title,\n      x: {\n        label: xLabel || x,\n        grid: true\n      },\n      y: {\n        label: yLabel || y,\n        grid: true\n      },\n      ...(facetX && {\n        fx: {\n          label: facetX,\n          ...(sharedScales ? {} : { domain: undefined })\n        }\n      }),\n      ...(facetY && {\n        fy: {\n          label: facetY,\n          ...(sharedScales ? {} : { domain: undefined })\n        }\n      }),\n      marks\n    }) as SVGSVGElement;\n\n    plot.setAttribute('role', 'img');\n    plot.setAttribute('aria-label', ariaLabel);\n\n    containerRef.current.appendChild(plot);\n\n    return () => {\n      if (containerRef.current) {\n        containerRef.current.innerHTML = '';\n      }\n    };\n  }, [data, x, y, facetX, facetY, mark, xLabel, yLabel, title, width, height, sharedScales, color, groupBy, ariaLabel]);\n\n  return <div ref={containerRef} className={className} />;\n}\n","'use client';\n\nimport React, { useRef, useEffect } from 'react';\nimport * as Plot from \"@observablehq/plot\";\n\ninterface CorrelationDataPoint {\n  x: string;\n  y: string;\n  value: number;\n}\n\ninterface CorrelationHeatmapProps {\n  data: CorrelationDataPoint[];\n  width?: number;\n  height?: number;\n  title?: string;\n  subtitle?: string;\n  caption?: string;\n}\n\nconst CorrelationHeatmap: React.FC<CorrelationHeatmapProps> = ({\n  data,\n  width = 600,\n  height = 600,\n  title = \"County Health Correlations\",\n  subtitle = \"Focus on variables focused on adjusted prevalence\",\n  caption = \"Source: CDC\"\n}) => {\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (!data || !containerRef.current) return;\n\n    // Clear any existing content\n    containerRef.current.innerHTML = '';\n\n    // Extract unique variables and create lower triangle matrix\n    const variables = [...new Set(data.map(d => d.x))];\n    const convertedData = data.filter(d => variables.indexOf(d.y) > variables.indexOf(d.x));\n\n    // Clean variable names for display\n    const cleanVariableName = (name: string) => {\n      return name.replace('_AdjPrev', '').replace('_', ' ').toUpperCase();\n    };\n\n    // Create domains with cleaned names\n    const xDomain = [...new Set(convertedData.map(d => d.x))];\n    const yDomain = [...new Set(convertedData.map(d => d.y))].reverse();\n\n    const plot = Plot.plot({\n      title,\n      subtitle,\n      caption,\n      padding: 0,\n      marginLeft: 120,\n      marginTop: 120,\n      marginRight: 60,\n      marginBottom: 60,\n      grid: true,\n      style: {\n        backgroundColor: \"white\",\n        fontFamily: \"sans-serif\",\n      },\n      x: {\n        axis: \"top\",\n        label: \"\",\n        domain: xDomain,\n        tickRotate: -45,\n        tickFormat: cleanVariableName,\n      },\n      y: {\n        label: \"\",\n        domain: yDomain,\n        tickFormat: cleanVariableName,\n      },\n      color: {\n        type: \"linear\",\n        scheme: \"RdBu\",\n        domain: [-1, 1],\n        legend: true,\n        label: \"Correlation coefficient\",\n      },\n      marks: [\n        // Cell background\n        Plot.cell(convertedData, {\n          x: \"x\",\n          y: \"y\",\n          fill: \"value\",\n          inset: 0.5,\n          tip: true,\n          title: d => `${cleanVariableName(d.x)} vs ${cleanVariableName(d.y)}: ${d.value.toFixed(3)}`\n        }),\n        // Text overlay\n        Plot.text(convertedData, {\n          x: \"x\",\n          y: \"y\",\n          text: d => d.value.toFixed(2),\n          fill: d => Math.abs(d.value) > 0.5 ? \"white\" : \"black\",\n          fontSize: 10,\n          fontWeight: \"bold\",\n        })\n      ],\n      width,\n      height,\n    });\n\n    containerRef.current.appendChild(plot);\n\n    // Cleanup function\n    return () => {\n      if (plot) plot.remove();\n    };\n  }, [data, width, height, title, subtitle, caption]);\n\n  return (\n    <div className=\"w-full\">\n      <div ref={containerRef} className=\"flex justify-center\" />\n      <div className=\"mt-4 text-sm text-gray-600 text-center\">\n        <p>Correlation matrix showing relationships between health outcome variables.</p>\n        <p>Values range from -1 (strong negative correlation) to +1 (strong positive correlation).</p>\n      </div>\n    </div>\n  );\n};\n\nexport default CorrelationHeatmap;","\"use client\";\n\nimport React, { useEffect, useState } from \"react\";\nimport dynamic from 'next/dynamic';\n\nconst HighchartsReact = dynamic(() => import('highcharts-react-official'), { ssr: false });\n\nexport default function PcaPlot() {\n  const [Highcharts, setHighcharts] = useState<any>(null);\n\n  useEffect(() => {\n    import('highcharts').then((HighchartsModule) => {\n      setHighcharts(HighchartsModule.default);\n    });\n  }, []);\n\n  if (!Highcharts) {\n    return <div className=\"flex items-center justify-center h-96\">Loading chart...</div>;\n  }\n  const data = [\n    { \"Dim.1\": 0.8641, \"Dim.2\": -0.2638, _row: \"SMOKING_CrudePrev\" },\n    { \"Dim.1\": 0.956, \"Dim.2\": 0.1457, _row: \"DIABETES_CrudePrev\" },\n    { \"Dim.1\": 0.4109, \"Dim.2\": 0.8128, _row: \"HIGHCHOL_CrudePrev\" },\n    { \"Dim.1\": 0.8437, \"Dim.2\": -0.4007, _row: \"MHLTH_CrudePrev\" },\n    { \"Dim.1\": 0.9226, \"Dim.2\": -0.1779, _row: \"OBESITY_CrudePrev\" },\n    { \"Dim.1\": 0.8681, \"Dim.2\": -0.3872, _row: \"SLEEP_CrudePrev\" },\n    { \"Dim.1\": 0.9141, \"Dim.2\": 0.2213, _row: \"STROKE_CrudePrev\" },\n    { \"Dim.1\": 0.9499, \"Dim.2\": -0.2014, _row: \"TEETHLOST_CrudePrev\" },\n    { \"Dim.1\": -0.7721, \"Dim.2\": -0.4624, _row: \"BINGE_CrudePrev\" },\n    { \"Dim.1\": 0.8754, \"Dim.2\": 0.431, _row: \"BPHIGH_CrudePrev\" },\n    { \"Dim.1\": 0.0401, \"Dim.2\": 0.9669, _row: \"CANCER_CrudePrev\" },\n    { \"Dim.1\": 0.9238, \"Dim.2\": -0.2067, _row: \"CASTHMA_CrudePrev\" },\n  ]\n\n  const pcadata = [\n    {\n      x: 0.678,\n      y: 0.278,\n      lab: \"log_pd\",\n      col_var: \"Active\",\n      type_var: \"arrow\",\n      key_var: \"log_pd\",\n      tooltip_text:\n        \"<strong>Level:</strong> <br /> <strong>Variable:</strong> log_pd<br /> <strong>Axis 1 :</strong> 0.678<br /> <strong>Axis 2 :</strong> 0.278<br /> <strong>Squared cosinus:</strong> 0.536<br /> <strong>Contribution:</strong> 11.354<br />\",\n    },\n    {\n      x: -0.731,\n      y: 0.285,\n      lab: \"per_white\",\n      col_var: \"Active\",\n      type_var: \"arrow\",\n      key_var: \"per_white\",\n      tooltip_text:\n        \"<strong>Level:</strong> <br /> <strong>Variable:</strong> per_white<br /> <strong>Axis 1 :</strong> -0.731<br /> <strong>Axis 2 :</strong> 0.285<br /> <strong>Squared cosinus:</strong> 0.615<br /> <strong>Contribution:</strong> 12.95<br />\",\n    },\n    {\n      x: 0.217,\n      y: -0.439,\n      lab: \"per_unemployed\",\n      col_var: \"Active\",\n      type_var: \"arrow\",\n      key_var: \"per_unemployed\",\n      tooltip_text:\n        \"<strong>Level:</strong> <br /> <strong>Variable:</strong> per_unemployed<br /> <strong>Axis 1 :</strong> 0.217<br /> <strong>Axis 2 :</strong> -0.439<br /> <strong>Squared cosinus:</strong> 0.24<br /> <strong>Contribution:</strong> 6.67<br />\",\n    },\n    {\n      x: 0.278,\n      y: -0.655,\n      lab: \"per_poverty\",\n      col_var: \"Active\",\n      type_var: \"arrow\",\n      key_var: \"per_poverty\",\n      tooltip_text:\n        \"<strong>Level:</strong> <br /> <strong>Variable:</strong> per_poverty<br /> <strong>Axis 1 :</strong> 0.278<br /> <strong>Axis 2 :</strong> -0.655<br /> <strong>Squared cosinus:</strong> 0.505<br /> <strong>Contribution:</strong> 14.268<br />\",\n    },\n    {\n      x: -0.489,\n      y: 0.39,\n      lab: \"per_married\",\n      col_var: \"Active\",\n      type_var: \"arrow\",\n      key_var: \"per_married\",\n      tooltip_text:\n        \"<strong>Level:</strong> <br /> <strong>Variable:</strong> per_married<br /> <strong>Axis 1 :</strong> -0.489<br /> <strong>Axis 2 :</strong> 0.39<br /> <strong>Squared cosinus:</strong> 0.391<br /> <strong>Contribution:</strong> 9.237<br />\",\n    },\n    {\n      x: 0.53,\n      y: -0.055,\n      lab: \"per_hispanic\",\n      col_var: \"Active\",\n      type_var: \"arrow\",\n      key_var: \"per_hispanic\",\n      tooltip_text:\n        \"<strong>Level:</strong> <br /> <strong>Variable:</strong> per_hispanic<br /> <strong>Axis 1 :</strong> 0.53<br /> <strong>Axis 2 :</strong> -0.055<br /> <strong>Squared cosinus:</strong> 0.284<br /> <strong>Contribution:</strong> 5.628<br />\",\n    },\n    {\n      x: 0.444,\n      y: -0.174,\n      lab: \"per_hh_withkids_under18\",\n      col_var: \"Active\",\n      type_var: \"arrow\",\n      key_var: \"per_hh_withkids_under18\",\n      tooltip_text:\n        \"<strong>Level:</strong> <br /> <strong>Variable:</strong> per_hh_withkids_under18<br /> <strong>Axis 1 :</strong> 0.444<br /> <strong>Axis 2 :</strong> -0.174<br /> <strong>Squared cosinus:</strong> 0.227<br /> <strong>Contribution:</strong> 4.793<br />\",\n    },\n    {\n      x: 0.72,\n      y: 0.309,\n      lab: \"per_foreign_born\",\n      col_var: \"Active\",\n      type_var: \"arrow\",\n      key_var: \"per_foreign_born\",\n      tooltip_text:\n        \"<strong>Level:</strong> <br /> <strong>Variable:</strong> per_foreign_born<br /> <strong>Axis 1 :</strong> 0.72<br /> <strong>Axis 2 :</strong> 0.309<br /> <strong>Squared cosinus:</strong> 0.614<br /> <strong>Contribution:</strong> 13.059<br />\",\n    },\n    {\n      x: 0.158,\n      y: 0.712,\n      lab: \"per_college_above\",\n      col_var: \"Active\",\n      type_var: \"arrow\",\n      key_var: \"per_college_above\",\n      tooltip_text:\n        \"<strong>Level:</strong> <br /> <strong>Variable:</strong> per_college_above<br /> <strong>Axis 1 :</strong> 0.158<br /> <strong>Axis 2 :</strong> 0.712<br /> <strong>Squared cosinus:</strong> 0.532<br /> <strong>Contribution:</strong> 15.564<br />\",\n    },\n    {\n      x: 0.466,\n      y: -0.381,\n      lab: \"per_black\",\n      col_var: \"Active\",\n      type_var: \"arrow\",\n      key_var: \"per_black\",\n      tooltip_text:\n        \"<strong>Level:</strong> <br /> <strong>Variable:</strong> per_black<br /> <strong>Axis 1 :</strong> 0.466<br /> <strong>Axis 2 :</strong> -0.381<br /> <strong>Squared cosinus:</strong> 0.362<br /> <strong>Contribution:</strong> 8.606<br />\",\n    },\n    {\n      x: 0.565,\n      y: 0.465,\n      lab: \"per_asian\",\n      col_var: \"Active\",\n      type_var: \"arrow\",\n      key_var: \"per_asian\",\n      tooltip_text:\n        \"<strong>Level:</strong> <br /> <strong>Variable:</strong> per_asian<br /> <strong>Axis 1 :</strong> 0.565<br /> <strong>Axis 2 :</strong> 0.465<br /> <strong>Squared cosinus:</strong> 0.535<br /> <strong>Contribution:</strong> 12.716<br />\",\n    },\n    {\n      x: -0.547,\n      y: 0.168,\n      lab: \"per_65_over\",\n      col_var: \"Active\",\n      type_var: \"arrow\",\n      key_var: \"per_65_over\",\n      tooltip_text:\n        \"<strong>Level:</strong> <br /> <strong>Variable:</strong> per_65_over<br /> <strong>Axis 1 :</strong> -0.547<br /> <strong>Axis 2 :</strong> 0.168<br /> <strong>Squared cosinus:</strong> 0.328<br /> <strong>Contribution:</strong> 6.749<br />\",\n    },\n    {\n      x: 0.12,\n      y: 0.819,\n      lab: \"median_income\",\n      col_var: \"Active\",\n      type_var: \"arrow\",\n      key_var: \"median_income\",\n      tooltip_text:\n        \"<strong>Level:</strong> <br /> <strong>Variable:</strong> median_income<br /> <strong>Axis 1 :</strong> 0.12<br /> <strong>Axis 2 :</strong> 0.819<br /> <strong>Squared cosinus:</strong> 0.685<br /> <strong>Contribution:</strong> 20.25<br />\",\n    },\n    {\n      x: -0.643,\n      y: 0.258,\n      lab: \"median_age\",\n      col_var: \"Active\",\n      type_var: \"arrow\",\n      key_var: \"median_age\",\n      tooltip_text:\n        \"<strong>Level:</strong> <br /> <strong>Variable:</strong> median_age<br /> <strong>Axis 1 :</strong> -0.643<br /> <strong>Axis 2 :</strong> 0.258<br /> <strong>Squared cosinus:</strong> 0.479<br /> <strong>Contribution:</strong> 10.128<br />\",\n    },\n    {\n      x: 0.465,\n      y: -0.17,\n      lab: \"hh_size\",\n      col_var: \"Active\",\n      type_var: \"arrow\",\n      key_var: \"hh_size\",\n      tooltip_text:\n        \"<strong>Level:</strong> <br /> <strong>Variable:</strong> hh_size<br /> <strong>Axis 1 :</strong> 0.465<br /> <strong>Axis 2 :</strong> -0.17<br /> <strong>Squared cosinus:</strong> 0.245<br /> <strong>Contribution:</strong> 5.127<br />\",\n    },\n    {\n      x: 0.781,\n      y: -0.031,\n      lab: \"gini.simpson.race\",\n      col_var: \"Active\",\n      type_var: \"arrow\",\n      key_var: \"gini.simpson.race\",\n      tooltip_text:\n        \"<strong>Level:</strong> <br /> <strong>Variable:</strong> gini.simpson.race<br /> <strong>Axis 1 :</strong> 0.781<br /> <strong>Axis 2 :</strong> -0.031<br /> <strong>Squared cosinus:</strong> 0.611<br /> <strong>Contribution:</strong> 12.057<br />\",\n    },\n    {\n      x: 0.251,\n      y: -0.062,\n      lab: \"gini\",\n      col_var: \"Active\",\n      type_var: \"arrow\",\n      key_var: \"gini\",\n      tooltip_text:\n        \"<strong>Level:</strong> <br /> <strong>Variable:</strong> gini<br /> <strong>Axis 1 :</strong> 0.251<br /> <strong>Axis 2 :</strong> -0.062<br /> <strong>Squared cosinus:</strong> 0.067<br /> <strong>Contribution:</strong> 1.359<br />\",\n    },\n    {\n      x: 0.338,\n      y: 0.731,\n      lab: \"B25077_001\",\n      col_var: \"Active\",\n      type_var: \"arrow\",\n      key_var: \"B25077_001\",\n      tooltip_text:\n        \"<strong>Level:</strong> <br /> <strong>Variable:</strong> B25077_001<br /> <strong>Axis 1 :</strong> 0.338<br /> <strong>Axis 2 :</strong> 0.731<br /> <strong>Squared cosinus:</strong> 0.649<br /> <strong>Contribution:</strong> 18.151<br />\",\n    },\n    {\n      x: 0.652,\n      y: 0.314,\n      lab: \"avg_commute_time\",\n      col_var: \"Active\",\n      type_var: \"arrow\",\n      key_var: \"avg_commute_time\",\n      tooltip_text:\n        \"<strong>Level:</strong> <br /> <strong>Variable:</strong> avg_commute_time<br /> <strong>Axis 1 :</strong> 0.652<br /> <strong>Axis 2 :</strong> 0.314<br /> <strong>Squared cosinus:</strong> 0.525<br /> <strong>Contribution:</strong> 11.332<br />\",\n    },\n    {\n      x: -0.203,\n      y: -0.73,\n      lab: \"OBESITY_zip\",\n      col_var: \"Supplementary\",\n      type_var: \"arrow\",\n      key_var: \"OBESITY_zip\",\n      tooltip_text:\n        \"<strong>Level:</strong> <br /> <strong>Variable:</strong> OBESITY_zip<br /> <strong>Axis 1 :</strong> -0.203<br /> <strong>Axis 2 :</strong> -0.73<br /> <strong>Squared cosinus:</strong> 0.574<br /> \",\n    },\n  ]\n\n  const seriesData = pcadata.map((o) => {\n    return {\n      name: o.lab,\n      color: o.lab == \"OBESITY_zip\" ? \"#FF0000\" : \"#b3b3b3\",\n      marker: { symbol: \"triangle-down\" },\n      lineWidth: 1,\n      data: [\n        [0, 0],\n        [o[\"x\"], o[\"y\"]],\n      ],\n    }\n  })\n\n  const pp = seriesData.push({\n    data: [[0, 0]],\n    marker: {\n      radius: 260,\n      lineColor: \"#e4e4e4\",\n      fillColor: \"transparent\",\n      lineWidth: 1,\n      symbol: \"circle\",\n    },\n  })\n\n  const chartOptions = {\n    chart: {\n      backgroundColor: \"white\",\n      style: {\n        fontFamily: \"Inter, sans-serif\",\n      },\n    },\n    title: {\n      text: \"\",\n    },\n    legend: { enabled: false },\n    yAxis: {\n      gridLineWidth: 0,\n      min: -1,\n      max: 1,\n      title: {\n        align: \"high\",\n        text: \"Axis 2 (17.69%)\",\n        style: { color: \"#374151\" },\n      },\n      labels: {\n        style: { color: \"#374151\" },\n      },\n      plotLines: [\n        {\n          color: \"#d1d5db\",\n          width: 1,\n          value: 0,\n          dashStyle: \"dash\",\n        },\n      ],\n    },\n    plotOptions: {\n      series: {\n        dataLabels: {\n          enabled: true,\n          padding: 5,\n          style: {\n            color: \"#374151\",\n            fontSize: \"12px\",\n            fontWeight: \"500\",\n          },\n          formatter: function () {\n            return this.y === 0 ? null : this.series.name\n          },\n        },\n      },\n    },\n    xAxis: {\n      lineWidth: 1,\n      min: -1,\n      max: 1,\n      title: {\n        align: \"high\",\n        text: \"Axis 1 (26.68%)\",\n        style: { color: \"#374151\" },\n      },\n      labels: {\n        style: { color: \"#374151\" },\n      },\n      plotLines: [\n        {\n          color: \"#d1d5db\",\n          width: 1,\n          value: 0,\n          dashStyle: \"dash\",\n        },\n      ],\n    },\n    series: seriesData,\n  }\n\n  return (\n    <div className=\"flex justify-center\">\n      <div className=\"w-full max-w-4xl\">\n        <HighchartsReact\n          highcharts={Highcharts}\n          containerProps={{\n            style: { width: \"100%\", height: \"700px\" },\n          }}\n          options={chartOptions}\n        />\n      </div>\n    </div>\n  )\n}\n","'use client';\n\nimport React, { useRef, useEffect, useMemo } from 'react';\nimport * as Plot from \"@observablehq/plot\";\n\ninterface OddsRatioData {\n  odds_ratios: Record<string, number>;\n  conf_int_lower: Record<string, number>;\n  conf_int_upper: Record<string, number>;\n}\n\ninterface PlotDataPoint {\n  Label: string;\n  OddsRatio: number;\n  LowerCI: number;\n  UpperCI: number;\n}\n\ninterface OddsRatioProps {\n  data: OddsRatioData;\n}\n\nconst OddsRatio: React.FC<OddsRatioProps> = ({ data }) => {\n  const observablePlotRef = useRef<HTMLDivElement>(null);\n  const forestPlotRef = useRef<HTMLDivElement>(null);\n  const dotPlotRef = useRef<HTMLDivElement>(null);\n\n  // Transform data for visualizations\n  const plotData: PlotDataPoint[] = useMemo(() => Object.keys(data.odds_ratios).map(key => ({\n    Label: key.replace(/C\\((.*?)\\)\\[T\\.(.*?)\\]/, '$1 $2')\n             .replace(/C\\((.*?), Treatment\\(.*?\\)\\)\\[T\\.(.*?)\\]/, '$1 $2')\n             .replace(/:/g, '  '), // Replace interaction symbols\n    OddsRatio: data.odds_ratios[key],\n    LowerCI: data.conf_int_lower[key],\n    UpperCI: data.conf_int_upper[key]\n  })), [data]);\n\n  useEffect(() => {\n    if (!data) return;\n\n    // Clear existing plots\n    if (observablePlotRef.current) observablePlotRef.current.innerHTML = '';\n    if (forestPlotRef.current) forestPlotRef.current.innerHTML = '';\n    if (dotPlotRef.current) dotPlotRef.current.innerHTML = '';\n\n    // Observable Plot version\n    const observablePlot = Plot.plot({\n      marginLeft: 200,\n      title: 'Statistical Odds Ratios',\n      subtitle: 'Analysis of various factors affecting outcomes',\n      caption: 'Source: General Social Survey',\n      style: {\n        backgroundColor: \"white\",\n        fontFamily: \"sans-serif\",\n      },\n      x: {\n        grid: true,\n        type: \"log\",\n        label: 'Odds Ratio',\n        tickFormat: \",\",\n      },\n      y: {\n        grid: true,\n        label: '',\n        domain: plotData.map(d => d.Label),\n      },\n      marks: [\n        Plot.dot(plotData, {\n          x: 'OddsRatio',\n          y: 'Label',\n          tip: {\n            format: { fill: false, x: (d) => d.toFixed(2) },\n          },\n          fill: d => d.OddsRatio > 1 ? 'green' : 'red',\n        }),\n        Plot.ruleY(plotData, {\n          x1: 'LowerCI',\n          x2: 'UpperCI',\n          y: 'Label',\n          stroke: d => d.OddsRatio > 1 ? 'green' : 'red'\n        }),\n        Plot.ruleX([1], {\n          stroke: \"black\",\n          strokeWidth: 0.5,\n        })\n      ],\n      width: 800,\n      height: 500,\n    });\n\n    // Forest Plot version (advanced statistical)\n    const forestPlot = Plot.plot({\n      marginLeft: 220,\n      title: 'Forest Plot Analysis',\n      subtitle: 'Advanced statistical visualization with enhanced features',\n      caption: 'Source: General Social Survey',\n      style: {\n        backgroundColor: \"white\",\n        fontFamily: \"sans-serif\",\n      },\n      x: {\n        grid: true,\n        type: \"log\",\n        label: 'Odds Ratio (log scale)',\n        tickFormat: \".2f\",\n        domain: [0.3, 3]\n      },\n      y: {\n        grid: true,\n        label: '',\n        domain: plotData.map(d => d.Label).reverse(), // Reverse for traditional forest plot order\n      },\n      marks: [\n        // Confidence interval rectangles (for visual emphasis)\n        Plot.rect(plotData, {\n          x1: \"LowerCI\",\n          x2: \"UpperCI\",\n          y: \"Label\",\n          fill: d => d.OddsRatio > 1 ? '#dcfce7' : '#fef2f2',\n          fillOpacity: 0.3,\n          ry: 3\n        }),\n        // Confidence interval lines\n        Plot.ruleY(plotData, {\n          x1: 'LowerCI',\n          x2: 'UpperCI',\n          y: 'Label',\n          stroke: d => d.OddsRatio > 1 ? '#16a34a' : '#dc2626',\n          strokeWidth: 3\n        }),\n        // End caps for confidence intervals\n        Plot.ruleY(plotData, {\n          x: 'LowerCI',\n          y: 'Label',\n          stroke: d => d.OddsRatio > 1 ? '#16a34a' : '#dc2626',\n          strokeWidth: 2,\n          dx: 0,\n          dy: -8\n        }),\n        Plot.ruleY(plotData, {\n          x: 'LowerCI',\n          y: 'Label',\n          stroke: d => d.OddsRatio > 1 ? '#16a34a' : '#dc2626',\n          strokeWidth: 2,\n          dx: 0,\n          dy: 8\n        }),\n        Plot.ruleY(plotData, {\n          x: 'UpperCI',\n          y: 'Label',\n          stroke: d => d.OddsRatio > 1 ? '#16a34a' : '#dc2626',\n          strokeWidth: 2,\n          dx: 0,\n          dy: -8\n        }),\n        Plot.ruleY(plotData, {\n          x: 'UpperCI',\n          y: 'Label',\n          stroke: d => d.OddsRatio > 1 ? '#16a34a' : '#dc2626',\n          strokeWidth: 2,\n          dx: 0,\n          dy: 8\n        }),\n        // Central point estimates (squares for forest plots)\n        Plot.dot(plotData, {\n          x: 'OddsRatio',\n          y: 'Label',\n          fill: d => d.OddsRatio > 1 ? '#16a34a' : '#dc2626',\n          stroke: \"white\",\n          strokeWidth: 2,\n          r: 6,\n          symbol: \"square\",\n          tip: {\n            format: {\n              fill: false,\n              x: (d) => `OR: ${d.toFixed(3)}`\n            }\n          }\n        }),\n        // Reference line at OR = 1\n        Plot.ruleX([1], {\n          stroke: \"#374151\",\n          strokeWidth: 2,\n          strokeDasharray: \"5,5\"\n        })\n      ],\n      width: 800,\n      height: 500,\n    });\n\n    // Dot plot version with size encoding\n    const dotPlot = Plot.plot({\n      marginLeft: 200,\n      title: 'Sized Dot Plot',\n      subtitle: 'Dot size reflects statistical significance',\n      caption: 'Source: General Social Survey',\n      style: {\n        backgroundColor: \"white\",\n        fontFamily: \"sans-serif\",\n      },\n      x: {\n        grid: true,\n        type: \"log\",\n        label: 'Odds Ratio',\n        tickFormat: \".2f\",\n      },\n      y: {\n        grid: true,\n        label: '',\n        domain: plotData.map(d => d.Label),\n      },\n      marks: [\n        // Confidence interval lines\n        Plot.ruleY(plotData, {\n          x1: 'LowerCI',\n          x2: 'UpperCI',\n          y: 'Label',\n          stroke: \"#9ca3af\",\n          strokeWidth: 2\n        }),\n        // Main dots with size based on confidence interval width (inverse - smaller CI = larger dot)\n        Plot.dot(plotData, {\n          x: 'OddsRatio',\n          y: 'Label',\n          r: d => Math.max(3, 15 - (d.UpperCI - d.LowerCI) * 5), // Smaller CI = larger dot\n          fill: d => d.OddsRatio > 1 ? '#3b82f6' : '#ef4444',\n          stroke: \"white\",\n          strokeWidth: 1.5,\n          fillOpacity: 0.8,\n          tip: {\n            format: {\n              fill: false,\n              x: (d) => `${d.toFixed(3)} [${plotData.find(p => p.OddsRatio === d)?.LowerCI.toFixed(3)}, ${plotData.find(p => p.OddsRatio === d)?.UpperCI.toFixed(3)}]`\n            }\n          }\n        }),\n        Plot.ruleX([1], {\n          stroke: \"black\",\n          strokeWidth: 1,\n        })\n      ],\n      width: 800,\n      height: 500,\n    });\n\n    // Append plots to containers\n    if (observablePlotRef.current) observablePlotRef.current.appendChild(observablePlot);\n    if (forestPlotRef.current) forestPlotRef.current.appendChild(forestPlot);\n    if (dotPlotRef.current) dotPlotRef.current.appendChild(dotPlot);\n\n    // Cleanup\n    return () => {\n      observablePlot?.remove();\n      forestPlot?.remove();\n      dotPlot?.remove();\n    };\n  }, [data, plotData]);\n\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"mb-6\">\n        <p className=\"text-gray-600\">\n          Statistical odds ratio analysis demonstrating multiple visualization approaches.\n          Each method emphasizes different aspects of the statistical relationships and confidence intervals.\n        </p>\n      </div>\n\n      <div className=\"border rounded-lg p-6\">\n        <div className=\"mb-4\">\n          <h3 className=\"text-lg font-semibold\">Basic Odds Ratio Plot</h3>\n          <p className=\"text-sm text-gray-600\">\n            Standard odds ratio visualization with confidence intervals\n          </p>\n        </div>\n        <div>\n          <div ref={observablePlotRef} className=\"flex justify-center\" />\n          <div className=\"mt-4 text-sm text-gray-600\">\n            <p><strong>Features:</strong> Logarithmic scale, conditional coloring (red &lt; 1, green &gt; 1),\n            interactive tooltips, confidence interval lines, null effect reference line</p>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"border rounded-lg p-6\">\n        <div className=\"mb-4\">\n          <h3 className=\"text-lg font-semibold\">Forest Plot Analysis</h3>\n          <p className=\"text-sm text-gray-600\">\n            Advanced forest plot with enhanced statistical visualization features\n          </p>\n        </div>\n        <div>\n          <div ref={forestPlotRef} className=\"flex justify-center\" />\n          <div className=\"mt-4 text-sm text-gray-600\">\n            <p><strong>Features:</strong> Square markers for point estimates, confidence interval rectangles,\n            end caps on intervals, enhanced color coding, traditional forest plot layout</p>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"border rounded-lg p-6\">\n        <div className=\"mb-4\">\n          <h3 className=\"text-lg font-semibold\">Precision-Weighted Dot Plot</h3>\n          <p className=\"text-sm text-gray-600\">\n            Dot plot where marker size reflects statistical precision (inverse of confidence interval width)\n          </p>\n        </div>\n        <div>\n          <div ref={dotPlotRef} className=\"flex justify-center\" />\n          <div className=\"mt-4 text-sm text-gray-600\">\n            <p><strong>Features:</strong> Size-encoded precision, larger dots indicate more precise estimates,\n            confidence interval lines, statistical significance visual weighting</p>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"mt-6 p-4 bg-gray-50 rounded-lg\">\n        <h3 className=\"font-semibold mb-2\">Statistical Visualization Techniques</h3>\n        <div className=\"grid md:grid-cols-3 gap-4 text-sm\">\n          <div>\n            <h4 className=\"font-medium\">Basic Odds Ratio</h4>\n            <ul className=\"list-disc list-inside text-gray-600 space-y-1\">\n              <li>Clear point estimates</li>\n              <li>Confidence interval display</li>\n              <li>Effect direction coding</li>\n              <li>Reference line indication</li>\n            </ul>\n          </div>\n          <div>\n            <h4 className=\"font-medium\">Forest Plot</h4>\n            <ul className=\"list-disc list-inside text-gray-600 space-y-1\">\n              <li>Meta-analysis standard</li>\n              <li>Enhanced visual emphasis</li>\n              <li>Professional presentation</li>\n              <li>Multiple study comparison</li>\n            </ul>\n          </div>\n          <div>\n            <h4 className=\"font-medium\">Precision Weighting</h4>\n            <ul className=\"list-disc list-inside text-gray-600 space-y-1\">\n              <li>Visual uncertainty encoding</li>\n              <li>Statistical weight display</li>\n              <li>Precision-based emphasis</li>\n              <li>Quality assessment aid</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default OddsRatio;","'use client';\n\nimport React, { useRef, useEffect } from 'react';\nimport * as Plot from \"@observablehq/plot\";\nimport { mean, median } from 'd3-array';\n\nexport interface HistogramObservableProps {\n  data: number[];\n  width?: number;\n  height?: number;\n  xlabel?: string;\n  ylabel?: string;\n  title?: string;\n  bins?: number;\n  showMean?: boolean;\n  showMedian?: boolean;\n}\n\nexport default function HistogramObservable({\n  data,\n  width = 800,\n  height = 500,\n  xlabel = 'Value',\n  ylabel = 'Frequency',\n  title,\n  bins = 20,\n  showMean = true,\n  showMedian = false\n}: HistogramObservableProps) {\n  const chartRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (!data.length || !chartRef.current) return;\n\n    const meanValue = mean(data);\n    const medianValue = median(data);\n\n    const marks: any[] = [\n      // Histogram\n      Plot.rectY(data, Plot.binX({ y: \"count\" }, {\n        x: d => d,\n        thresholds: bins,\n        fill: \"hsl(var(--primary))\",\n        fillOpacity: 0.6,\n        stroke: \"hsl(var(--foreground))\",\n        strokeWidth: 1\n      }))\n    ];\n\n    // Add mean line\n    if (showMean && meanValue !== undefined) {\n      marks.push(\n        Plot.ruleX([meanValue], {\n          stroke: \"hsl(var(--destructive))\",\n          strokeWidth: 2,\n          strokeDasharray: \"5,5\"\n        }),\n        Plot.text([{ x: meanValue, y: 0 }], {\n          x: \"x\",\n          y: \"y\",\n          text: () => [`Mean: ${meanValue.toFixed(2)}`],\n          dy: -10,\n          fill: \"hsl(var(--destructive))\",\n          fontSize: 12\n        })\n      );\n    }\n\n    // Add median line\n    if (showMedian && medianValue !== undefined) {\n      marks.push(\n        Plot.ruleX([medianValue], {\n          stroke: \"hsl(var(--chart-2))\",\n          strokeWidth: 2,\n          strokeDasharray: \"5,5\"\n        })\n      );\n    }\n\n    const plot = Plot.plot({\n      width,\n      height,\n      marginLeft: 60,\n      marginBottom: 60,\n      x: { label: xlabel },\n      y: { label: ylabel, grid: true },\n      marks\n    });\n\n    chartRef.current.innerHTML = '';\n    chartRef.current.appendChild(plot);\n\n    return () => plot.remove();\n  }, [data, width, height, xlabel, ylabel, bins, showMean, showMedian]);\n\n  return (\n    <div className=\"w-full\">\n      {title && <h3 className=\"text-lg font-semibold mb-4\">{title}</h3>}\n      <div ref={chartRef} />\n      <div className=\"mt-4 text-sm text-muted-foreground\">\n        <p>Total observations: {data.length}  Bins: {bins}</p>\n      </div>\n    </div>\n  );\n}\n","'use client';\n\nimport React, { useRef, useEffect, useMemo } from 'react';\nimport * as Plot from \"@observablehq/plot\";\n\ninterface DensityDataPoint {\n  OBESITY_AdjPrev?: number;\n  DIABETES_AdjPrev?: number;\n  MHLTH_AdjPrev?: number;\n  population?: number;\n  dir2020?: string;\n}\n\ninterface DensityPlotProps {\n  data: DensityDataPoint[];\n}\n\nexport const DensityPlot: React.FC<DensityPlotProps> = ({ data }) => {\n  const singleRef = useRef<HTMLDivElement>(null);\n  const overlayRef = useRef<HTMLDivElement>(null);\n\n  // Create synthetic mental health data for demonstration\n  const mentalHealthData = useMemo(() => data.map((d, i) => ({\n    MHLTH_AdjPrev: Math.random() * 20 + 10, // Random mental health rates between 10-30%\n    population: d.population || Math.floor(Math.random() * 50000) + 10000\n  })), [data]);\n\n  const cleanData = useMemo(() => data.filter(d => d.dir2020 !== undefined), [data]);\n\n  useEffect(() => {\n    if (!data || data.length === 0) return;\n\n    // Clear existing plots\n    if (singleRef.current) singleRef.current.innerHTML = '';\n    if (overlayRef.current) overlayRef.current.innerHTML = '';\n\n    // Single density plot for mental health\n    const singlePlot = Plot.plot({\n      title: \"Mental Health Distribution\",\n      subtitle: \"Distribution by County\",\n      caption: \"Source: CDC\",\n      style: {\n        backgroundColor: \"white\",\n        fontFamily: \"sans-serif\",\n      },\n      y: { grid: true, label: \"Count\" },\n      x: { label: \"Mental Health Rate (%)\" },\n      marks: [\n        Plot.areaY(mentalHealthData, Plot.binX(\n          { y: \"count\", filter: null },\n          { x: \"MHLTH_AdjPrev\", fillOpacity: 0.3, fill: \"#3b82f6\" }\n        )),\n        Plot.lineY(mentalHealthData, Plot.binX(\n          { y: \"count\", filter: null },\n          { x: \"MHLTH_AdjPrev\", label: \"Mental Health\", tip: true, stroke: \"#3b82f6\", strokeWidth: 2 }\n        )),\n        Plot.ruleY([0])\n      ],\n      width: 600,\n      height: 400,\n    });\n\n    // Overlay density plot for obesity by category\n    const overlayPlot = Plot.plot({\n      title: \"Obesity Distribution by Category\",\n      subtitle: \"Overlaid density plots by demographic grouping\",\n      caption: \"Source: CDC\",\n      style: {\n        backgroundColor: \"white\",\n        fontFamily: \"sans-serif\",\n      },\n      y: { grid: true, label: \"Count\" },\n      x: { label: \"Obesity Rate (%)\" },\n      marks: [\n        Plot.areaY(cleanData, Plot.binX(\n          { y: \"count\", filter: null },\n          { x: \"OBESITY_AdjPrev\", fill: \"dir2020\", fillOpacity: 0.2 }\n        )),\n        Plot.lineY(cleanData, Plot.binX(\n          { y: \"count\", filter: null },\n          { x: \"OBESITY_AdjPrev\", stroke: \"dir2020\", tip: true, strokeWidth: 2 }\n        )),\n        Plot.ruleY([0])\n      ],\n      color: {\n        legend: true,\n        scheme: \"category10\"\n      },\n      width: 600,\n      height: 400,\n    });\n\n    // Append plots to containers\n    if (singleRef.current) singleRef.current.appendChild(singlePlot);\n    if (overlayRef.current) overlayRef.current.appendChild(overlayPlot);\n\n    // Cleanup\n    return () => {\n      singlePlot?.remove();\n      overlayPlot?.remove();\n    };\n  }, [data, mentalHealthData, cleanData]);\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"mb-6\">\n        <p className=\"text-gray-600\">\n          Density plot analysis showing the distribution patterns of health metrics across counties.\n          These visualizations reveal the shape, spread, and central tendencies of population health indicators.\n        </p>\n      </div>\n\n      <div className=\"border rounded-lg p-6\">\n        <div className=\"mb-4\">\n          <h3 className=\"text-lg font-semibold\">Single Distribution</h3>\n          <p className=\"text-sm text-gray-600\">\n            Distribution of mental health rates across counties\n          </p>\n        </div>\n        <div>\n          <div ref={singleRef} className=\"flex justify-center\" />\n          <p className=\"text-sm text-gray-600 mt-4\">\n            This histogram shows the frequency distribution of mental health prevalence rates,\n            with both area and line representations of the density. The combined area and line approach\n            emphasizes both the overall distribution shape and precise bin boundaries.\n          </p>\n        </div>\n      </div>\n\n      <div className=\"border rounded-lg p-6\">\n        <div className=\"mb-4\">\n          <h3 className=\"text-lg font-semibold\">Overlay Comparison</h3>\n          <p className=\"text-sm text-gray-600\">\n            Comparison of obesity rate distributions by demographic category\n          </p>\n        </div>\n        <div>\n          <div ref={overlayRef} className=\"flex justify-center\" />\n          <p className=\"text-sm text-gray-600 mt-4\">\n            Multiple density curves overlaid to compare obesity rate distributions across\n            different demographic groups, allowing for direct comparison of patterns. This approach\n            reveals differences in distribution shapes, central tendencies, and spread between groups.\n          </p>\n        </div>\n      </div>\n\n      <div className=\"mt-6 p-4 bg-gray-50 rounded-lg\">\n        <h3 className=\"font-semibold mb-2\">Density Plot techniques</h3>\n        <div className=\"grid md:grid-cols-2 gap-4 text-sm\">\n          <div>\n            <h4 className=\"font-medium\">Single Distribution</h4>\n            <ul className=\"list-disc list-inside text-gray-600 space-y-1\">\n              <li>Overall distribution shape</li>\n              <li>Central tendency identification</li>\n              <li>Spread and variability</li>\n              <li>Outlier and skewness detection</li>\n            </ul>\n          </div>\n          <div>\n            <h4 className=\"font-medium\">Overlay Comparison</h4>\n            <ul className=\"list-disc list-inside text-gray-600 space-y-1\">\n              <li>Group comparison analysis</li>\n              <li>Distribution shape differences</li>\n              <li>Relative positioning</li>\n              <li>Population heterogeneity</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default DensityPlot;\n","'use client';\n\nimport React, { useRef, useEffect, useState } from 'react';\nimport * as Plot from \"@observablehq/plot\";\nimport * as topojson from \"topojson-client\";\n\nconst TOPOLOGY_BASE_URL = 'https://ontopic-public-data.t3.storage.dev/geo';\n\ninterface DataPoint {\n  latitude: number;\n  longitude: number;\n  [key: string]: any; // Allow additional properties\n}\n\ninterface GeoDensityMapProps {\n  data: DataPoint[];\n  valueKey?: string; // Optional key for color encoding\n  width?: number;\n  height?: number;\n  title?: string;\n  description?: string;\n  colorScheme?: string;\n  legendLabel?: string;\n}\n\nconst GeoDensityMap: React.FC<GeoDensityMapProps> = ({\n  data,\n  valueKey,\n  width = 960,\n  height = 600,\n  title = \"Geographic Density Map\",\n  description,\n  colorScheme = \"puor\",\n  legendLabel = \"Density\"\n}) => {\n  const mapRef = useRef<HTMLDivElement>(null);\n  const [us, setUs] = useState<any>(null);\n  const [loading, setLoading] = useState(true);\n\n  // Fetch topology data\n  useEffect(() => {\n    fetch(`${TOPOLOGY_BASE_URL}/us-albers-counties-10m.json`)\n      .then(response => response.json())\n      .then(topology => {\n        setUs(topology);\n        setLoading(false);\n      })\n      .catch(error => {\n        console.error('Error loading topology:', error);\n        setLoading(false);\n      });\n  }, []);\n\n  useEffect(() => {\n    if (!data || data.length === 0 || !us || loading) return;\n    if (!mapRef.current) return;\n\n    // Clear existing plot\n    mapRef.current.innerHTML = '';\n\n    // Create topology features\n    const statemesh = topojson.mesh(us as any, (us as any).objects.states, (a: any, b: any) => a !== b);\n    const nation = topojson.feature(us as any, (us as any).objects.nation);\n    const countiesmesh = topojson.mesh(us as any, (us as any).objects.counties);\n\n    // Create the density map\n    const mapPlot = Plot.plot({\n      width,\n      height,\n      projection: \"albers\",\n      style: {\n        backgroundColor: \"white\",\n        fontFamily: \"sans-serif\",\n      },\n      color: {\n        scheme: colorScheme,\n        type: \"quantile\",\n        n: 4,\n        reverse: true,\n        label: legendLabel,\n        legend: true,\n      },\n      marks: [\n        Plot.geo(countiesmesh, { strokeOpacity: 0.5 }),\n        Plot.geo(nation),\n        Plot.geo(statemesh, { strokeOpacity: 0.2 }),\n        Plot.density(data, {\n          x: \"longitude\",\n          y: \"latitude\",\n          bandwidth: 10,\n          fill: \"density\"\n        })\n      ]\n    });\n\n    // Append plot to container\n    mapRef.current.appendChild(mapPlot);\n\n    // Cleanup\n    return () => {\n      mapPlot?.remove();\n    };\n  }, [data, width, height, us, loading, colorScheme, legendLabel]);\n\n  if (loading) {\n    return (\n      <div className=\"space-y-6\">\n        <div className=\"mb-4\">\n          <h3 className=\"text-lg font-semibold\">{title}</h3>\n          {description && <p className=\"text-sm text-gray-600\">{description}</p>}\n        </div>\n        <div>\n          <div className=\"flex justify-center items-center\" style={{ minHeight: `${height}px` }}>\n            <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-gray-900\"></div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"mb-4\">\n        <h3 className=\"text-lg font-semibold\">{title}</h3>\n        {description && <p className=\"text-sm text-gray-600\">{description}</p>}\n      </div>\n      <div>\n        <div ref={mapRef} className=\"flex justify-center\" />\n        <p className=\"text-sm text-gray-600 mt-4\">\n          Density map showing geographic concentration across locations.\n          Darker areas indicate higher concentration of data points.\n          State and county boundaries are overlaid for geographic reference.\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default GeoDensityMap;\n","'use client';\n\nimport React, { useRef, useEffect, useState, useMemo } from 'react';\nimport * as Plot from \"@observablehq/plot\";\nimport * as topojson from \"topojson-client\";\n\nconst TOPOLOGY_BASE_URL = 'https://ontopic-public-data.t3.storage.dev/geo';\n\ninterface CountyDataPoint {\n  FIPS: string;\n  MHLTH_AdjPrev: number;\n  population: number;\n}\n\ninterface ChoroplethMapProps {\n  data?: CountyDataPoint[];\n  title?: string;\n  subtitle?: string;\n  valueLabel?: string;\n  colorScheme?: string;\n}\n\nconst ChoroplethMap: React.FC<ChoroplethMapProps> = ({\n  data = [],\n  title = \"US County Mental Health Prevalence\",\n  subtitle = \"County-level mental health data from CDC\",\n  valueLabel = \"Mental Health (% Poor Mental Health Days)\",\n  colorScheme = \"blues\"\n}) => {\n  const mapRef = useRef<HTMLDivElement>(null);\n  const [countyData, setCountyData] = useState<CountyDataPoint[]>([]);\n  const [us, setUs] = useState<any>(null);\n  const [loading, setLoading] = useState(true);\n\n  // Fetch topology data\n  useEffect(() => {\n    fetch(`${TOPOLOGY_BASE_URL}/us-albers-counties-10m.json`)\n      .then(response => response.json())\n      .then(topology => {\n        setUs(topology);\n      })\n      .catch(error => {\n        console.error('Error loading topology:', error);\n      });\n  }, []);\n\n  // Load county data from JSON file\n  useEffect(() => {\n    if (data.length > 0) {\n      setCountyData(data);\n      setLoading(false);\n    } else {\n      fetch('/data/county_sample.json')\n        .then(response => response.json())\n        .then((data: CountyDataPoint[]) => {\n          setCountyData(data);\n          setLoading(false);\n        })\n        .catch(error => {\n          console.error('Error loading county data:', error);\n          setLoading(false);\n        });\n    }\n  }, [data]);\n\n  useEffect(() => {\n    if (loading || !countyData || countyData.length === 0 || !us) return;\n    if (!mapRef.current) return;\n\n    // Clear existing plot\n    mapRef.current.innerHTML = '';\n\n    try {\n      // Extract topojson features\n      const statemesh = topojson.mesh(us as any, (us as any).objects.states, (a: any, b: any) => a !== b);\n      const nation = topojson.feature(us as any, (us as any).objects.nation);\n      const countiesmesh = topojson.mesh(us as any, (us as any).objects.counties);\n      const counties = topojson.feature(us as any, (us as any).objects.counties);\n\n      // Create data map for quick lookup using FIPS codes\n      const dataMap = new Map(countyData.map(d => [d.FIPS, d.MHLTH_AdjPrev]));\n      const populationMap = new Map(countyData.map(d => [d.FIPS, d.population]));\n\n      console.log(`Loaded ${countyData.length} counties, data map has ${dataMap.size} entries`);\n\n      // Color scale configuration\n      const colorConfig = {\n        type: \"quantile\" as const,\n        n: 7,\n        scheme: colorScheme,\n        legend: true,\n        label: valueLabel,\n        tickFormat: \".1f\"\n      };\n\n      const plot = Plot.plot({\n        title: title,\n        subtitle: subtitle,\n        width: 960,\n        height: 600,\n        projection: \"albers\",\n        style: {\n          backgroundColor: \"white\",\n          fontFamily: \"sans-serif\",\n        },\n        color: colorConfig,\n        marks: [\n          // County boundaries (light stroke)\n          Plot.geo(countiesmesh, {\n            strokeOpacity: 0.3,\n            stroke: \"#ddd\"\n          }),\n\n          // Counties with data (choropleth fill)\n          Plot.geo(counties.features, {\n            fill: (d: any) => {\n              const value = dataMap.get(d.id);\n              return value !== undefined ? value : null;\n            },\n            stroke: \"white\",\n            strokeWidth: 0.5,\n            tip: true,\n            title: (d: any) => {\n              const countyName = d.properties?.name || `County ${d.id}`;\n              const value = dataMap.get(d.id);\n              const population = populationMap.get(d.id);\n              if (value !== undefined) {\n                const popText = population ? `\\nPopulation: ${population.toLocaleString()}` : '';\n                return `${countyName}\\n${valueLabel}: ${value.toFixed(1)}%${popText}`;\n              }\n              return `${countyName}\\nNo data available`;\n            }\n          }),\n\n          // Nation outline\n          Plot.geo(nation, {\n            stroke: \"black\",\n            strokeWidth: 1,\n            fill: \"none\"\n          }),\n\n          // State boundaries (stronger stroke)\n          Plot.geo(statemesh, {\n            stroke: \"black\",\n            strokeOpacity: 0.5,\n            strokeWidth: 0.5\n          })\n        ],\n        marginLeft: 0,\n        marginRight: 140 // Space for legend\n      });\n\n      mapRef.current.appendChild(plot);\n\n      // Cleanup\n      return () => {\n        plot?.remove();\n      };\n    } catch (error) {\n      console.error('Error rendering choropleth map:', error);\n      if (mapRef.current) {\n        mapRef.current.innerHTML = `<div class=\"text-red-500 p-4\">Error loading map: ${error}</div>`;\n      }\n    }\n  }, [countyData, loading, title, subtitle, valueLabel, colorScheme, us]);\n\n  if (loading || !us) {\n    return (\n      <div className=\"space-y-6\">\n        <div className=\"mb-6\">\n          <p className=\"text-gray-600\">Loading county health data...</p>\n        </div>\n        <div>\n          <div className=\"flex justify-center items-center\" style={{ minHeight: '600px' }}>\n            <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-gray-900\"></div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"mb-6\">\n        <p className=\"text-gray-600\">\n          Interactive county-level choropleth map showing mental health prevalence across US counties.\n          Colors represent different prevalence ranges using quantile scaling for optimal contrast.\n          Data source: CDC Behavioral Risk Factor Surveillance System (BRFSS).\n        </p>\n      </div>\n\n      <div>\n        <div className=\"mb-4\">\n          <h3 className=\"text-lg font-semibold\">County Mental Health Prevalence Map</h3>\n          <p className=\"text-sm text-gray-600\">\n            Percentage of adults reporting poor mental health for 14+ days per month\n          </p>\n        </div>\n        <div>\n          <div ref={mapRef} className=\"flex justify-center\" style={{ minHeight: '600px' }} />\n          <p className=\"text-sm text-gray-600 mt-4\">\n            This choropleth map uses quantile scaling to divide {countyData.length} counties into equal-sized groups,\n            ensuring good color distribution across geographic regions. Hover over counties for detailed information\n            including population data.\n          </p>\n        </div>\n      </div>\n\n      <div className=\"mt-6 p-4 bg-gray-50 rounded-lg\">\n        <h3 className=\"font-semibold mb-2\">Choropleth Map Features</h3>\n        <div className=\"grid md:grid-cols-3 gap-4 text-sm\">\n          <div>\n            <h4 className=\"font-medium\">Color Encoding</h4>\n            <ul className=\"list-disc list-inside text-gray-600 space-y-1\">\n              <li>Quantile-based color scaling</li>\n              <li>7 color gradations for nuance</li>\n              <li>Interactive legend</li>\n              <li>Customizable color schemes</li>\n            </ul>\n          </div>\n          <div>\n            <h4 className=\"font-medium\">Geographic Features</h4>\n            <ul className=\"list-disc list-inside text-gray-600 space-y-1\">\n              <li>County-level detail</li>\n              <li>State boundary overlay</li>\n              <li>Albers projection for accuracy</li>\n              <li>Clean boundary styling</li>\n            </ul>\n          </div>\n          <div>\n            <h4 className=\"font-medium\">Interactivity</h4>\n            <ul className=\"list-disc list-inside text-gray-600 space-y-1\">\n              <li>Hover tooltips with details</li>\n              <li>County names and values</li>\n              <li>Responsive design</li>\n              <li>Data-driven styling</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ChoroplethMap;","'use client';\n\nimport React, { useRef, useEffect, useState, useMemo } from 'react';\nimport * as Plot from \"@observablehq/plot\";\nimport * as topojson from \"topojson-client\";\n\nconst TOPOLOGY_BASE_URL = 'https://ontopic-public-data.t3.storage.dev/geo';\n\ninterface CountryDataPoint {\n  id: string;\n  name: string;\n  value: number;\n  population?: number;\n}\n\ninterface EuropeMapProps {\n  data?: CountryDataPoint[];\n  title?: string;\n  subtitle?: string;\n  valueLabel?: string;\n  colorScheme?: string;\n}\n\nconst EuropeMap: React.FC<EuropeMapProps> = ({\n  data = [],\n  title = \"European Economic Data\",\n  subtitle = \"GDP per capita by country (2023)\",\n  valueLabel = \"GDP per capita (thousands USD)\",\n  colorScheme = \"blues\"\n}) => {\n  const mapRef = useRef<HTMLDivElement>(null);\n  const [countryData, setCountryData] = useState<CountryDataPoint[]>([]);\n  const [europe, setEurope] = useState<any>(null);\n  const [loading, setLoading] = useState(true);\n\n  // Fetch topology data\n  useEffect(() => {\n    fetch(`${TOPOLOGY_BASE_URL}/europe.json`)\n      .then(response => response.json())\n      .then(topology => {\n        setEurope(topology);\n      })\n      .catch(error => {\n        console.error('Error loading topology:', error);\n      });\n  }, []);\n\n  // Static sample data for European countries (no random values to prevent re-renders)\n  const sampleData: CountryDataPoint[] = useMemo(() => [\n    { id: \"DE\", name: \"Germany\", value: 56.2, population: 83240000 },\n    { id: \"FR\", name: \"France\", value: 47.3, population: 67390000 },\n    { id: \"IT\", name: \"Italy\", value: 39.1, population: 59550000 },\n    { id: \"ES\", name: \"Spain\", value: 31.8, population: 47350000 },\n    { id: \"PL\", name: \"Poland\", value: 17.9, population: 37970000 },\n    { id: \"NL\", name: \"Netherlands\", value: 58.4, population: 17440000 },\n    { id: \"BE\", name: \"Belgium\", value: 51.7, population: 11590000 },\n    { id: \"AT\", name: \"Austria\", value: 50.8, population: 9006000 },\n    { id: \"CH\", name: \"Switzerland\", value: 93.5, population: 8715000 },\n    { id: \"NO\", name: \"Norway\", value: 88.9, population: 5421000 },\n    { id: \"SE\", name: \"Sweden\", value: 59.7, population: 10420000 },\n    { id: \"DK\", name: \"Denmark\", value: 66.8, population: 5831000 },\n    { id: \"FI\", name: \"Finland\", value: 52.4, population: 5541000 },\n    { id: \"IE\", name: \"Ireland\", value: 84.6, population: 5024000 },\n    { id: \"PT\", name: \"Portugal\", value: 24.7, population: 10290000 },\n    { id: \"GR\", name: \"Greece\", value: 19.9, population: 10720000 },\n    { id: \"CZ\", name: \"Czech Republic\", value: 28.1, population: 10710000 },\n    { id: \"HU\", name: \"Hungary\", value: 18.6, population: 9750000 },\n    { id: \"SK\", name: \"Slovakia\", value: 20.8, population: 5460000 },\n    { id: \"SI\", name: \"Slovenia\", value: 28.9, population: 2119000 },\n    { id: \"HR\", name: \"Croatia\", value: 16.7, population: 3879000 },\n    { id: \"RO\", name: \"Romania\", value: 13.8, population: 19120000 },\n    { id: \"BG\", name: \"Bulgaria\", value: 11.9, population: 6927000 },\n    { id: \"LT\", name: \"Lithuania\", value: 22.7, population: 2795000 },\n    { id: \"LV\", name: \"Latvia\", value: 20.6, population: 1884000 },\n    { id: \"EE\", name: \"Estonia\", value: 26.8, population: 1331000 },\n    { id: \"LU\", name: \"Luxembourg\", value: 125.7, population: 640000 },\n    { id: \"IS\", name: \"Iceland\", value: 72.5, population: 372000 },\n    { id: \"UA\", name: \"Ukraine\", value: 4.8, population: 41130000 },\n    { id: \"BY\", name: \"Belarus\", value: 6.9, population: 9449000 },\n    { id: \"MD\", name: \"Moldova\", value: 3.9, population: 2618000 },\n    { id: \"RS\", name: \"Serbia\", value: 9.2, population: 6834000 },\n    { id: \"BA\", name: \"Bosnia and Herzegovina\", value: 6.8, population: 3281000 },\n    { id: \"ME\", name: \"Montenegro\", value: 9.7, population: 628000 },\n    { id: \"MK\", name: \"North Macedonia\", value: 6.9, population: 2083000 },\n    { id: \"AL\", name: \"Albania\", value: 5.8, population: 2838000 },\n    { id: \"KV\", name: \"Kosovo\", value: 4.9, population: 1932000 }\n  ], []);\n\n  // Load country data\n  useEffect(() => {\n    if (data.length > 0) {\n      setCountryData(data);\n    } else {\n      setCountryData(sampleData);\n    }\n    setLoading(false);\n  }, [data, sampleData]);\n\n  // Convert TopoJSON to GeoJSON features\n  const countries = useMemo(() => {\n    if (!europe) return [];\n    try {\n      return topojson.feature(europe as any, europe.objects.default as any).features;\n    } catch (error) {\n      console.error('Error processing TopoJSON:', error);\n      return [];\n    }\n  }, [europe]);\n\n  // Create the map visualization\n  useEffect(() => {\n    if (!mapRef.current || loading || !europe || countries.length === 0 || countryData.length === 0) return;\n\n    // Clear previous content\n    mapRef.current.innerHTML = '';\n\n    // Create a data lookup for country values\n    const dataMap = new Map(countryData.map(d => [d.id, d]));\n\n    // Enhance country features with data\n    const enhancedCountries = countries.map(country => {\n      const countryId = country.id || country.properties?.id || country.properties?.['hc-key']?.toUpperCase();\n      const dataPoint = dataMap.get(countryId);\n\n      return {\n        ...country,\n        properties: {\n          ...country.properties,\n          value: dataPoint?.value || 0,\n          name: dataPoint?.name || country.properties?.name || 'Unknown',\n          population: dataPoint?.population || 0\n        }\n      };\n    });\n\n    // Create the plot\n    const plot = Plot.plot({\n      projection: {\n        type: \"mercator\",\n        domain: {\n          type: \"MultiPoint\",\n          coordinates: [[-25, 35], [45, 75]]\n        }\n      },\n      width: 800,\n      height: 600,\n      marginTop: 20,\n      marginBottom: 20,\n      marginLeft: 20,\n      marginRight: 20,\n      color: {\n        type: \"quantile\",\n        n: 5,\n        scheme: colorScheme,\n        legend: true,\n        label: valueLabel\n      },\n      marks: [\n        // Country fills\n        Plot.geo(enhancedCountries, {\n          fill: d => d.properties.value,\n          stroke: \"#fff\",\n          strokeWidth: 0.5\n        }),\n        // Country borders\n        Plot.geo(enhancedCountries, {\n          fill: \"none\",\n          stroke: \"#666\",\n          strokeWidth: 0.25\n        }),\n        // Interactive tooltips\n        Plot.tip(enhancedCountries, Plot.pointer(Plot.centroid({\n          title: d => `${d.properties.name}: ${d.properties.value?.toFixed(1) || 'N/A'}`,\n        })))\n      ]\n    });\n\n    // Append the plot\n    mapRef.current.appendChild(plot);\n  }, [loading, europe, countries.length, countryData.length, colorScheme, valueLabel]);\n\n  if (loading || !europe) {\n    return (\n      <div className=\"w-full\">\n        {title && <h3 className=\"text-lg font-semibold mb-2\">{title}</h3>}\n        {subtitle && <p className=\"text-sm text-gray-600 mb-4\">{subtitle}</p>}\n        <div className=\"flex items-center justify-center h-96\">\n          <div className=\"text-gray-500\">Loading map...</div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"w-full\">\n      {title && <h3 className=\"text-lg font-semibold mb-2\">{title}</h3>}\n      {subtitle && <p className=\"text-sm text-gray-600 mb-4\">{subtitle}</p>}\n      <div ref={mapRef} className=\"w-full\"></div>\n      <div className=\"mt-4 text-xs text-gray-500\">\n        Data shows {valueLabel.toLowerCase()} across European countries.\n        Values are sample data for demonstration purposes.\n      </div>\n    </div>\n  );\n};\n\nexport default EuropeMap;","'use client';\n\nimport React, { useRef, useEffect, useState } from 'react';\nimport * as Plot from \"@observablehq/plot\";\nimport * as topojson from \"topojson-client\";\n\nconst TOPOLOGY_BASE_URL = 'https://ontopic-public-data.t3.storage.dev/geo';\n\ninterface ZipDataPoint {\n  obesity_rate: number;\n  latitude: number;\n  longitude: number;\n}\n\ninterface ZipMapProps {\n  data: ZipDataPoint[];\n}\n\nconst ZipMap: React.FC<ZipMapProps> = ({ data }) => {\n  const mapRef = useRef<HTMLDivElement>(null);\n  const [us, setUs] = useState<any>(null);\n  const [loading, setLoading] = useState(true);\n\n  // Fetch topology data\n  useEffect(() => {\n    fetch(`${TOPOLOGY_BASE_URL}/us-albers-counties-10m.json`)\n      .then(response => response.json())\n      .then(topology => {\n        setUs(topology);\n        setLoading(false);\n      })\n      .catch(error => {\n        console.error('Error loading topology:', error);\n        setLoading(false);\n      });\n  }, []);\n\n  useEffect(() => {\n    if (!data || data.length === 0 || !us || loading) return;\n\n    if (mapRef.current) mapRef.current.innerHTML = '';\n\n    // Create the density map\n    const statemesh = topojson.mesh(us as any, (us as any).objects.states, (a: any, b: any) => a !== b);\n    const nation = topojson.feature(us as any, (us as any).objects.nation);\n\n    const countiesmesh = topojson.mesh(us as any, (us as any).objects.counties);\n\n    const mapPlot = Plot.plot({\n      width: 960,\n      height: 600,\n      projection: \"albers\",\n      color: {\n        scheme: \"puor\",\n        type: \"quantile\",\n        n: 4,\n        reverse: true,\n        label: \"Obesity (%)\",\n        legend: true,\n        tickFormat: d => `${d.toFixed(1)}%`\n      },\n      marks: [\n        Plot.geo(countiesmesh, { strokeOpacity: 0.5 }),\n        Plot.geo(nation),\n        Plot.geo(statemesh, { strokeOpacity: 0.2 }),\n        Plot.dot(data, {\n          x: \"longitude\",\n          y: \"latitude\",\n          stroke: \"obesity_rate\",\n          tip: true,\n          strokeOpacity: 0.4,\n          r: 1\n        })\n      ]\n    });\n\n    mapRef.current.appendChild(mapPlot);\n\n    return () => mapPlot?.remove();\n  }, [data, us, loading]);\n\n  if (loading) {\n    return (\n      <div className=\"space-y-6\">\n        <div>\n          <div className=\"flex justify-center items-center\" style={{ minHeight: '600px' }}>\n            <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-gray-900\"></div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"mb-4\">\n        <h3 className=\"text-lg font-semibold\">ZIP Code Density Map</h3>\n        <p className=\"text-sm text-gray-600\">\n          Geographic distribution of health data with size and color encoding\n        </p>\n      </div>\n      <div>\n        <div ref={mapRef} className=\"flex justify-center\" />\n        <p className=\"text-sm text-gray-600 mt-4\">\n          Each dot represents a ZIP code area. Dot size and color both encode obesity rates,\n          with larger and redder dots indicating higher rates.\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default ZipMap;","import React, { useEffect, useState, useRef } from 'react';\nimport * as Plot from \"@observablehq/plot\"\nimport { useTheme } from \"next-themes\"\n\ninterface TimetrendProps {\n  defaults: {\n    color: string;\n    plotBands?: string;\n    errorbar?: string;\n    x: string;\n    y: string;\n  };\n  data: any;\n  error: any;\n  colors: Record<string, Record<string, string>>;\n  label: any;\n}\n\nexport default function TimetrendDemo({ defaults, error, data, colors, label }: TimetrendProps) {\n\n  console.log('ttd data', data)\n  console.log('ttd defaults', defaults)\n\n  if (!defaults || !data) {\n    return <div>Loading...</div>;\n  }\n\n  const containerRef = useRef<HTMLDivElement>(null);\n  const [containerWidth, setContainerWidth] = useState(0);\n  const initialVisibleSeries = data.dataPointMetadata?.find((item: any) => item.id === defaults.color)?.categories || [];\n  const [visibleSeries, setVisibleSeries] = useState(new Set(initialVisibleSeries));\n\n  const getColor = (category: any) => {\n    const categoryColors: { [key: string]: string } = colors[defaults.color] || {};\n    return categoryColors[category] || \"#cccccc\";\n  };\n\n  const toggleSeries = (series: any) => {\n    setVisibleSeries(prevVisibleSeries => {\n      const updatedSet = new Set(prevVisibleSeries);\n      if (updatedSet.has(series)) {\n        updatedSet.delete(series);\n      } else {\n        updatedSet.add(series);\n      }\n      return updatedSet;\n    });\n  };\n\n  const { theme } = useTheme();\n  const USEPREZ = typeof defaults.plotBands !== 'undefined' && defaults.plotBands === \"PrezEra\";\n  const colorPal = colors[defaults.color] || {};\n\n  useEffect(() => {\n    if (!containerRef.current) return;\n\n    const updateWidth = () => {\n      if (containerRef.current) {\n        setContainerWidth(containerRef.current.offsetWidth);\n      }\n    };\n\n    updateWidth();\n    window.addEventListener('resize', updateWidth);\n\n    return () => window.removeEventListener('resize', updateWidth);\n  }, []);\n\n  useEffect(() => {\n    if (!data || !defaults || containerWidth === 0) return;\n\n    const xFormedData = data.dataPoints.map((d: { [key: string]: any }) => ({\n      ...d,\n      year: +d['year']\n    }));\n\n    const average =\n      xFormedData.reduce(\n        (total: number, d: { [key: string]: any }) => total + d[defaults.y],\n        0\n      ) / xFormedData.length\n\n    const yaxisMin = Math.max(\n      0,\n      Math.min(\n        ...xFormedData.map((d: { [key: string]: any }) => d[defaults.y])\n      ) -\n      0.2 * average\n    )\n\n    const yaxisMax =\n      Math.max(\n        ...xFormedData.map((d: { [key: string]: any }) => d[defaults.y])\n      ) +\n      0.2 * average\n\n    const yaxisMinEb = Math.floor(\n      Math.min(\n        ...data.dataPoints\n          .filter((d: { ci_lower?: number }) => d.ci_lower !== undefined)\n          .map((d: { ci_lower: number }) => d.ci_lower)\n      )\n    );\n\n    const yaxisMaxEb = Math.round(\n      Math.max(\n        ...data.dataPoints\n          .filter((d: { ci_upper?: number }) => d.ci_upper !== undefined)\n          .map((d: { ci_upper: number }) => d.ci_upper)\n      )\n    );\n\n    const lastValue = data.dataPointMetadata\n      .find((d: { id: any }) => d.id == defaults.x)\n      .categories.slice(-1)[0]\n\n\n    const lastYearData = xFormedData\n      .filter((d: { [x: string]: any }) => d[defaults.x] === lastValue)\n      .sort(\n        (a: { [x: string]: number }, b: { [x: string]: number }) =>\n          a[defaults.y] - b[defaults.y]\n      )\n\n    const lastYearDataDiff = lastYearData.map(\n      (d: { [x: string]: number }, i: number, arr: string | any[]) => {\n        const valueDiff =\n          i > 0 ? d[defaults.y] - arr[i - 1][defaults.y] : undefined\n        const valueDiffRev =\n          i < arr.length - 1\n            ? d[defaults.y] - arr[i + 1][defaults.y]\n            : undefined\n        return {\n          ...d,\n          valueDiff,\n          valueDiffRev,\n          diffSmall:\n            valueDiff !== undefined\n              ? valueDiff / (yaxisMax - yaxisMin)\n              : undefined,\n          diffSmallRev:\n            valueDiffRev !== undefined\n              ? -valueDiffRev / (yaxisMax - yaxisMin)\n              : undefined,\n        }\n      }\n    )\n\n    const PresEras = [\n      { startYear: 1972, endYear: 1977, politicalParty: \"Republican\", president: \"Nixon/Ford\" },\n      { startYear: 1977, endYear: 1981, politicalParty: \"Democratic\", president: \"Carter\" },\n      { startYear: 1981, endYear: 1993, politicalParty: \"Republican\", president: \"Reagan/Bush\" },\n      { startYear: 1993, endYear: 2001, politicalParty: \"Democratic\", president: \"Clinton\" },\n      { startYear: 2001, endYear: 2009, politicalParty: \"Republican\", president: \"Bush2\" },\n      { startYear: 2009, endYear: 2017, politicalParty: \"Democratic\", president: \"Obama\" },\n      { startYear: 2017, endYear: 2021, politicalParty: \"Republican\", president: \"Trump\" },\n      { startYear: 2021, endYear: 2023, politicalParty: \"Democratic\", president: \"Biden\" },\n    ];\n\n    const dataDates = data.dataPoints.map((d: any) => d[defaults.x])\n\n    const dataStartDate = Math.min(...dataDates)\n    const dataEndDate = Math.max(...dataDates)\n\n    const filteredByDate = PresEras.filter(period => {\n      return period.endYear >= dataStartDate && period.startYear <= dataEndDate;\n    }).map(period => {\n      return {\n        ...period,\n        startYear: Math.max(period.startYear, dataStartDate),\n        endYear: Math.min(period.endYear, dataEndDate)\n      };\n    });\n\n    const filteredDem = filteredByDate.filter((d: { politicalParty: string; }) => d.politicalParty === \"Democratic\");\n    const filteredRep = filteredByDate.filter((d: { politicalParty: string; }) => d.politicalParty === \"Republican\");\n\n    const colormaps = data.dataPointMetadata.find(\n      (item: { id: any }) => item.id === defaults.color\n    ).categories.map((category: string | number) => colorPal[category as keyof typeof colorPal] || \"#cccccc\")\n\n    const filteredData = xFormedData.filter((d: { [x: string]: any; }) => visibleSeries.has(d[defaults.color]));\n\n    const plotHeight = Math.min(400, containerWidth * 0.6);\n\n    const plot = Plot.plot({\n      caption: `Source: ${data.metadata.source.name}`,\n      height: plotHeight,\n      width: containerWidth,\n      marginTop: 20,\n      marginRight: 40,\n      marginBottom: 50,\n      marginLeft: 60,\n      style: {\n        backgroundColor: \"transparent\",\n        overflow: \"visible\"\n      },\n      x: {\n        label: data.dataPointMetadata.find(\n          (item: { id: any }) => item.id === defaults.x\n        ).name,\n        tickFormat: d => `${Math.floor(d)}`,\n        labelOffset: 35,\n      },\n      y: {\n        grid: true,\n        domain: error === \"none\" ? [yaxisMin, yaxisMax] : [yaxisMinEb, yaxisMaxEb],\n        label: data.dataPointMetadata.find(\n          (item: { id: any }) => item.id === defaults.y\n        ).name,\n      },\n      color: {\n        type: 'ordinal',\n        domain: Array.from(visibleSeries),\n        range: Array.from(visibleSeries).map(series => getColor(series)),\n      },\n      marks: [\n        USEPREZ ? Plot.rect(filteredDem, {\n          x1: \"startYear\",\n          x2: \"endYear\",\n          y1: yaxisMinEb,\n          y2: yaxisMaxEb,\n          fillOpacity: 0.1,\n          fill: \"#2987f1\"\n        }) : null,\n        USEPREZ ? Plot.rect(filteredRep, {\n          x1: \"startYear\",\n          x2: \"endYear\",\n          y1: yaxisMinEb,\n          y2: yaxisMaxEb,\n          fillOpacity: 0.1,\n          fill: \"#fa5352\"\n        }) : null,\n        Plot.axisX({\n          tickSize: 5,\n          tickPadding: 5,\n          tickFormat: d => `${Math.floor(d)}`,\n        }),\n        Plot.axisY({\n          label: \"\",\n          tickFormat:\n            data.dataPointMetadata.find(\n              (item: { id: any }) => item.id === defaults.y\n            ).units == \"Percent\"\n              ? (d) =>\n                `${d}${data.dataPointMetadata.find(\n                  (item: { id: any }) => item.id === defaults.y\n                ).value_suffix\n                }`\n              : \"\",\n          tickSize: 0,\n        }),\n        Plot.lineY(filteredData, {\n          x: defaults.x,\n          y: defaults.y,\n          stroke: defaults.color ? defaults.color : undefined,\n          strokeWidth: 2,\n          title: (d) => `${data.dataPointMetadata.find(\n            (item: { id: any }) => item.id === defaults.x\n          ).name\n            }: ${d[defaults.x]} \\n${data.dataPointMetadata.find(\n              (item: { id: any }) => item.id === defaults.y\n            ).name\n            }:\n${d[defaults.y].toFixed(2)}${data.dataPointMetadata.find(\n              (item: { id: any }) => item.id === defaults.y\n            ).units == \"Percent\"\n              ? data.dataPointMetadata.find(\n                (item: { id: any }) => item.id === defaults.y\n              ).value_suffix\n              : \"\"\n            }`,\n        }),\n        error === \"yes\"\n          ? Plot.ruleX(filteredData, {\n            x: defaults.x,\n            y1: \"ci_lower\",\n            y2: \"ci_upper\",\n            stroke: defaults.color ? defaults.color : undefined,\n          })\n          : null,\n        Plot.dot(filteredData, {\n          x: defaults.x,\n          y: defaults.y,\n          stroke: defaults.color ? defaults.color : undefined,\n          r: 4,\n        }),\n        Plot.ruleY([yaxisMinEb]),\n        ...filteredDem.map(president => Plot.text(\n          [{\n            x: president.startYear,\n            y: yaxisMinEb,\n            text: president.president\n          }], {\n          rotate: 270,\n          x: \"x\",\n          y: \"y\",\n          text: \"text\",\n          dy: -2,\n          textAnchor: \"start\"\n        }\n        )),\n        ...filteredRep.map(president => Plot.text(\n          [{\n            x: president.startYear,\n            y: yaxisMinEb,\n            text: president.president\n          }], {\n          rotate: 270,\n          x: \"x\",\n          y: \"y\",\n          text: \"text\",\n          dy: -2,\n          textAnchor: \"start\"\n        }\n        )),\n        Plot.tip(\n          filteredData,\n          Plot.pointer({\n            x: defaults.x,\n            y: defaults.y,\n            title: (d) => `${d[defaults.color]} ${d[defaults.x]}: ${d[defaults.y].toFixed(0)}${data.dataPointMetadata.find(\n              (item: { id: any }) => item.id === defaults.y\n            ).units == \"Percent\"\n              ? data.dataPointMetadata.find(\n                (item: { id: any }) => item.id === defaults.y\n              ).value_suffix\n              : \"\"}`,\n            fill: theme === \"dark\" ? \"#000000\" : \"#FFFFFF\",\n          })\n        ),\n      ],\n    })\n\n    if (containerRef.current) {\n      containerRef.current.innerHTML = '';\n      containerRef.current.appendChild(plot);\n    }\n  }, [data, defaults, error, containerWidth, visibleSeries, theme, colorPal])\n\n\n  const colorsinfo = data.dataPointMetadata.find((item: any) => item.id === defaults.color).categories\n\n  return (\n    <div className=\"w-full\">\n      <div className=\"text-xl font-semibold mb-1\">\n        {data.metadata.title}\n      </div>\n      <div className=\"text-md text-gray-600 dark:text-gray-300 mb-2\">\n        {data.metadata.subtitle}\n      </div>\n      <div style={{ display: 'flex', alignItems: 'center', flexWrap: 'wrap', gap: '8px', marginBottom: '12px' }}>\n        <span className=\"text-xs\">{label}</span>\n        {colorsinfo.map((series: any) => (\n          <div key={series}\n            className=\"legend-item text-xs cursor-pointer flex items-center\"\n            onClick={() => toggleSeries(series)}>\n            <div\n              className=\"legend-icon mr-1 relative\"\n              style={{\n                width: '12px',\n                height: '12px',\n                backgroundColor: visibleSeries.has(series) ? getColor(series) : '#ccc',\n                display: 'inline-block',\n              }}\n            >\n              {!visibleSeries.has(series) && (\n                <div\n                  style={{\n                    position: 'absolute',\n                    top: 0,\n                    left: 0,\n                    right: 0,\n                    bottom: 0,\n                    background: `linear-gradient(to bottom right, transparent, black 50%, transparent)`,\n                  }}\n                />\n              )}\n            </div>\n            <span style={{ color: visibleSeries.has(series) ? 'inherit' : '#ccc' }}>{series}</span>\n          </div>\n        ))}\n      </div>\n      <div ref={containerRef} className=\"w-full\"></div>\n    </div>\n  );\n}","'use client';\n\n\nimport {\n  LineChart,\n  Line,\n  XAxis,\n  YAxis,\n  Tooltip,\n  ResponsiveContainer,\n  ErrorBar,\n  CartesianGrid,\n} from 'recharts';\n\ninterface DataPoint {\n  year: string;\n  value: number;\n  ci_lower?: number;\n  ci_upper?: number;\n  n_actual?: number;\n  standard_error?: number;\n}\n\ninterface DataPointMetadataItem {\n  id: string;\n  name: string;\n  type: string;\n  units?: string;\n  value_prefix?: Record<string, string>;\n  value_suffix?: string;\n  categories?: string[];\n  var_original?: string;\n  label_original?: Record<string, string>;\n}\n\ninterface TimeSeriesMetadata {\n  note?: string;\n  type: string;\n  title: string;\n  subtitle: string;\n  source: {\n    id: string;\n    name: string;\n  };\n  question?: string;\n  years_n?: number;\n  year_min?: number;\n  year_max?: number;\n}\n\ninterface TimeSeriesChartProps {\n  data: DataPoint[];\n  metadata: TimeSeriesMetadata;\n  dataPointMetadata: DataPointMetadataItem[];\n}\n\nexport default function TimeSeriesChart({\n  data,\n  metadata,\n  dataPointMetadata,\n}: TimeSeriesChartProps) {\n  \n\n  // Convert year to a numerical value\n  const numericData = data.map((d) => ({\n    ...d,\n    year: parseInt(d.year, 10), // Convert year to number\n  }));\n\n  // Extract metadata for \"value\" field\n  const valueMetadata = dataPointMetadata.find((d) => d.id === 'value');\n\n \n\n  // Check for duplicate years\n  const dataYears = numericData.map((d) => d.year);\n  const uniqueYears = new Set(dataYears);\n  \n  if (dataYears.length !== uniqueYears.size) {\n    console.warn('Duplicate years found in the data prop!');\n\n    return <div>Error: Duplicate years detected in the dataset.</div>;\n  }\n\n  // Determine min and max years for the domain\n  const minYear = Math.min(...numericData.map((d) => d.year));\n  const maxYear = Math.max(...numericData.map((d) => d.year));\n\n  \n   // Custom tooltip component\n   const CustomTooltip = ({ active, payload, label }: any) => {\n     if (!active || !payload || !payload.length) return null;\n\n     const dataPoint = payload[0].payload;\n\n     return (\n       <div className=\"bg-white p-3 border border-gray-200 shadow-lg rounded-lg\">\n         <p className=\"font-medium\">{`Year: ${label}`}</p>\n         <p className=\"text-blue-600\">\n           {`${valueMetadata?.name}: ${dataPoint.value.toFixed(1)}${valueMetadata?.value_suffix || ''}`}\n         </p>\n         {dataPoint.ci_lower && dataPoint.ci_upper && (\n           <p className=\"text-gray-600 text-sm\">\n             {`95% CI: [${dataPoint.ci_lower.toFixed(1)}, ${dataPoint.ci_upper.toFixed(1)}]${valueMetadata?.value_suffix || ''}`}\n           </p>\n         )}\n         {dataPoint.n_actual && (\n           <p className=\"text-gray-600 text-sm\">\n             {`N: ${dataPoint.n_actual.toLocaleString()}`}\n           </p>\n         )}\n       </div>\n     );\n   };\n\n   return (\n     <div className=\"w-full\">\n       <div className=\"mb-2\">\n         <h2 className=\"text-2xl font-bold mb-1\">{metadata.title}</h2>\n         <p className=\"text-gray-600 mb-2\">{metadata.subtitle}</p>\n       </div>\n\n       <div className=\"w-full h-[400px]\">\n         <ResponsiveContainer width=\"100%\" height=\"100%\">\n         <LineChart\n             data={numericData}\n             margin={{\n               top: 20,\n               right: 30,\n               left: 20,\n               bottom: 20,\n             }}\n           >\n             <CartesianGrid strokeDasharray=\"3 3\" vertical={false} />\n\n             <XAxis\n               dataKey=\"year\"\n               type=\"number\" \n               domain={[minYear , maxYear ]}\n               tickCount={(maxYear - minYear) / 2}\n               tickFormatter={(value) => value.toString()}\n               padding={{ left: 20, right: 20 }}\n               tick={{ fontSize: 12 }}\n             />\n\n             <YAxis\ntickFormatter={(value) => {\n  const metadata = dataPointMetadata.find(d => d.id === 'value');\n\n  const prefix = (typeof metadata?.value_prefix === 'string')\n    ? metadata.value_prefix\n    : '';\n\n  const suffix = (typeof metadata?.value_suffix === 'string')\n    ? metadata.value_suffix\n    : '';\n\n  const num = Number(value);\n\n  let formattedValue: string;\n\n  if (num >= 1_000_000_000) {\n    formattedValue = (num / 1_000_000_000).toFixed(1).replace(/\\.0$/, '') + 'B';\n  } else if (num >= 1_000_000) {\n    formattedValue = (num / 1_000_000).toFixed(1).replace(/\\.0$/, '') + 'M';\n  } else if (num >= 1_000) {\n    formattedValue = (num / 1_000).toFixed(1).replace(/\\.0$/, '') + 'k';\n  } else {\n    formattedValue = num.toLocaleString(); // fallback for smaller numbers\n  }\n\n  return `${prefix}${formattedValue}${suffix}`;\n}}\n\n               domain={['auto', 'auto']} \n               axisLine={false}\n               tickLine={false}\n             />\n\n             {/* Tooltip */}\n             <Tooltip content={<CustomTooltip />} />\n\n             {/* Line for \"value\" */}\n             <Line\n               key=\"value-line\"\n               type=\"linear\"\n               dataKey=\"value\"\n               stroke=\"#000000\"\n               strokeWidth={1.5}\n               dot={{ r: 3, fill: \"#000000\" }} \n               activeDot={{ r: 5 }} \n               isAnimationActive={false} \n             >\n               {/* Error bars for confidence intervals */}\n               <ErrorBar\n                 dataKey={(d: DataPoint) =>\n                   d.standard_error ? (1.96 * d.standard_error) : 0\n                 }\n                 stroke=\"#000000\"\n                 strokeWidth={1}\n                 width={4}\n                 name=\"confidence-intervals\"\n               />\n             </Line>\n           </LineChart>\n         </ResponsiveContainer>\n\n         {/* Source information */}\n         <div className=\"mb-2\">\n         <p className=\"text-sm text-gray-400\">\n           Source: {metadata.source.name}\n         </p>\n         </div>\n\n       </div>\n     </div>\n   );\n}\n","'use client';\n\n\nimport {\n  LineChart,\n  Line,\n  XAxis,\n  YAxis,\n  Tooltip,\n  ResponsiveContainer,\n  ErrorBar,\n  CartesianGrid,\n} from 'recharts';\n\ninterface DataPoint {\n  year: string;\n  value: number;\n  ci_lower?: number;\n  ci_upper?: number;\n  n_actual?: number;\n  standard_error?: number;\n}\n\ninterface DataPointMetadataItem {\n  id: string;\n  name: string;\n  type: string;\n  units?: string;\n  value_prefix?: Record<string, string>;\n  value_suffix?: string;\n  categories?: string[];\n  var_original?: string;\n  label_original?: Record<string, string>;\n}\n\ninterface TimeSeriesMetadata {\n  note?: string;\n  type: string;\n  title: string;\n  subtitle: string;\n  source: {\n    id: string;\n    name: string;\n  };\n  question?: string;\n  years_n?: number;\n  year_min?: number;\n  year_max?: number;\n}\n\ninterface TimeSeriesChartProps {\n  data: DataPoint[];\n  metadata: TimeSeriesMetadata;\n  dataPointMetadata: DataPointMetadataItem[];\n}\n\nexport default function TimeSeriesChart({\n  data,\n  metadata,\n  dataPointMetadata,\n}: TimeSeriesChartProps) {\n  \n\n  // Convert year to a numerical value\n  const numericData = data.map((d) => ({\n    ...d,\n    year: parseInt(d.year, 10), // Convert year to number\n  }));\n\n  // Extract metadata for \"value\" field\n  const valueMetadata = dataPointMetadata.find((d) => d.id === 'value');\n\n \n\n  // Check for duplicate years\n  const dataYears = numericData.map((d) => d.year);\n  const uniqueYears = new Set(dataYears);\n  \n  if (dataYears.length !== uniqueYears.size) {\n    console.warn('Duplicate years found in the data prop!');\n\n    return <div>Error: Duplicate years detected in the dataset.</div>;\n  }\n\n  // Determine min and max years for the domain\n  const minYear = Math.min(...numericData.map((d) => d.year));\n  const maxYear = Math.max(...numericData.map((d) => d.year));\n\n  \n   // Custom tooltip component\n   const CustomTooltip = ({ active, payload, label }: any) => {\n     if (!active || !payload || !payload.length) return null;\n\n     const dataPoint = payload[0].payload;\n\n     return (\n       <div className=\"bg-white p-3 border border-gray-200 shadow-lg rounded-lg\">\n         <p className=\"font-medium\">{`Year: ${label}`}</p>\n         <p className=\"text-blue-600\">\n           {`${valueMetadata?.name}: ${dataPoint.value.toFixed(1)}${valueMetadata?.value_suffix || ''}`}\n         </p>\n         {dataPoint.ci_lower && dataPoint.ci_upper && (\n           <p className=\"text-gray-600 text-sm\">\n             {`95% CI: [${dataPoint.ci_lower.toFixed(1)}, ${dataPoint.ci_upper.toFixed(1)}]${valueMetadata?.value_suffix || ''}`}\n           </p>\n         )}\n         {dataPoint.n_actual && (\n           <p className=\"text-gray-600 text-sm\">\n             {`N: ${dataPoint.n_actual.toLocaleString()}`}\n           </p>\n         )}\n       </div>\n     );\n   };\n\n   return (\n     <div className=\"w-full\">\n       <div className=\"mb-2\">\n         <h2 className=\"text-2xl font-bold mb-1\">{metadata.title}</h2>\n         <p className=\"text-gray-600 mb-2\">{metadata.subtitle}</p>\n       </div>\n\n       <div className=\"w-full h-[400px]\">\n         <ResponsiveContainer width=\"100%\" height=\"100%\">\n         <LineChart\n             data={numericData}\n             margin={{\n               top: 20,\n               right: 30,\n               left: 20,\n               bottom: 20,\n             }}\n           >\n             <CartesianGrid strokeDasharray=\"3 3\" vertical={false} />\n\n             <XAxis\n               dataKey=\"year\"\n               type=\"number\" \n               domain={[minYear , maxYear ]}\n               tickCount={(maxYear - minYear) / 2}\n               tickFormatter={(value) => value.toString()}\n               padding={{ left: 20, right: 20 }}\n               tick={{ fontSize: 12 }}\n             />\n\n             <YAxis\ntickFormatter={(value) => {\n  const metadata = dataPointMetadata.find(d => d.id === 'value');\n\n  const prefix = (typeof metadata?.value_prefix === 'string')\n    ? metadata.value_prefix\n    : '';\n\n  const suffix = (typeof metadata?.value_suffix === 'string')\n    ? metadata.value_suffix\n    : '';\n\n  const num = Number(value);\n\n  let formattedValue: string;\n\n  if (num >= 1_000_000_000) {\n    formattedValue = (num / 1_000_000_000).toFixed(1).replace(/\\.0$/, '') + 'B';\n  } else if (num >= 1_000_000) {\n    formattedValue = (num / 1_000_000).toFixed(1).replace(/\\.0$/, '') + 'M';\n  } else if (num >= 1_000) {\n    formattedValue = (num / 1_000).toFixed(1).replace(/\\.0$/, '') + 'k';\n  } else {\n    formattedValue = num.toLocaleString(); // fallback for smaller numbers\n  }\n\n  return `${prefix}${formattedValue}${suffix}`;\n}}\n\n               domain={['auto', 'auto']} \n               axisLine={false}\n               tickLine={false}\n             />\n\n             {/* Tooltip */}\n             <Tooltip content={<CustomTooltip />} />\n\n             {/* Line for \"value\" */}\n             <Line\n               key=\"value-line\"\n               type=\"linear\"\n               dataKey=\"value\"\n               stroke=\"#000000\"\n               strokeWidth={1.5}\n               dot={{ r: 3, fill: \"#000000\" }} \n               activeDot={{ r: 5 }} \n               isAnimationActive={false} \n             >\n               {/* Error bars for confidence intervals */}\n               <ErrorBar\n                 dataKey={(d: DataPoint) =>\n                   d.standard_error ? (1.96 * d.standard_error) : 0\n                 }\n                 stroke=\"#000000\"\n                 strokeWidth={1}\n                 width={4}\n                 name=\"confidence-intervals\"\n               />\n             </Line>\n           </LineChart>\n         </ResponsiveContainer>\n\n         {/* Source information */}\n         <div className=\"mb-2\">\n         <p className=\"text-sm text-gray-400\">\n           Source: {metadata.source.name}\n         </p>\n         </div>\n\n       </div>\n     </div>\n   );\n}\n","\"use client\";\n\nimport React, { useState } from \"react\";\nimport {\n  BarChart,\n  Bar,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  Legend,\n  ResponsiveContainer,\n  ErrorBar,\n  Cell,\n} from \"recharts\";\n\ninterface DataPoint {\n  Race: string;\n  value: number;\n  ci_lower: number;\n  ci_upper: number;\n  n_actual: number;\n  Education: string;\n  Census_Region: string;\n  standard_error: number;\n}\n\ninterface Metadata {\n  note: string;\n  type: string;\n  title: string;\n  source: {\n    id: string;\n    name: string;\n  };\n  question: string;\n  subtitle: string;\n}\n\ninterface DataPointMetadata {\n  id: string;\n  name: string;\n  type: string;\n  categories?: string[];\n  units?: string;\n  value_suffix?: string;\n  value_prefix?: string;\n}\n\ninterface ChartData {\n  metadata: Metadata;\n  dataPoints: DataPoint[];\n  dataPointMetadata: DataPointMetadata[];\n}\n\ninterface Props {\n  data: ChartData;\n}\n\nexport default function AbortionOpinionChart({ data }: Props) {\n  const [selectedRegion, setSelectedRegion] = useState<string>(\"All\");\n  const [selectedEducation, setSelectedEducation] = useState<string>(\"All\");\n\n  const { metadata, dataPoints, dataPointMetadata } = data;\n\n  // Extract categories from metadata\n  const regions = [\"All\", ...(dataPointMetadata.find(d => d.id === \"Census_Region\")?.categories || [])];\n  const educationLevels = [\"All\", ...(dataPointMetadata.find(d => d.id === \"Education\")?.categories || [])];\n  const races = dataPointMetadata.find(d => d.id === \"Race\")?.categories || [];\n\n  // Filter data based on selections\n  const filteredData = dataPoints.filter(point => {\n    const regionMatch = selectedRegion === \"All\" || point.Census_Region === selectedRegion;\n    const educationMatch = selectedEducation === \"All\" || point.Education === selectedEducation;\n    return regionMatch && educationMatch;\n  });\n\n  // Group data by region and education for visualization\n  const groupedData = React.useMemo(() => {\n    const groups: { [key: string]: any } = {};\n\n    filteredData.forEach(point => {\n      const key = `${point.Census_Region} - ${point.Education}`;\n      if (!groups[key]) {\n        groups[key] = {\n          name: key,\n          region: point.Census_Region,\n          education: point.Education,\n        };\n      }\n      groups[key][`${point.Race}`] = point.value;\n      groups[key][`${point.Race}_error`] = point.standard_error * 1.96; // 95% CI\n      groups[key][`${point.Race}_ci_lower`] = point.ci_lower;\n      groups[key][`${point.Race}_ci_upper`] = point.ci_upper;\n      groups[key][`${point.Race}_n`] = point.n_actual;\n    });\n\n    return Object.values(groups).sort((a, b) => {\n      // Sort by region first, then education\n      if (a.region !== b.region) {\n        return regions.indexOf(a.region) - regions.indexOf(b.region);\n      }\n      return educationLevels.indexOf(a.education) - educationLevels.indexOf(b.education);\n    });\n  }, [filteredData, regions, educationLevels]);\n\n  const CustomTooltip = ({ active, payload, label }: any) => {\n    if (!active || !payload?.length) return null;\n\n    const data = payload[0]?.payload;\n\n    return (\n      <div className=\"bg-white p-4 border border-gray-300 shadow-lg rounded-lg\">\n        <p className=\"font-semibold mb-2 text-sm\">{label}</p>\n        <div className=\"space-y-1\">\n          {races.map((race) => {\n            const value = data[race];\n            const ciLower = data[`${race}_ci_lower`];\n            const ciUpper = data[`${race}_ci_upper`];\n            const n = data[`${race}_n`];\n\n            if (value === undefined) return null;\n\n            return (\n              <div key={race} className=\"text-sm\">\n                <span className=\"font-medium\">{race}:</span>{\" \"}\n                <span className=\"font-semibold\">{value.toFixed(1)}%</span>\n                <div className=\"text-xs text-gray-600 ml-2\">\n                  95% CI: [{ciLower.toFixed(1)}%, {ciUpper.toFixed(1)}%]\n                </div>\n                <div className=\"text-xs text-gray-500 ml-2\">n = {n}</div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    );\n  };\n\n  const colors = {\n    White: \"#374151\",\n    Black: \"#9CA3AF\",\n  };\n\n  return (\n    <div className=\"w-full space-y-4\">\n      {/* Title and subtitle */}\n      <div className=\"space-y-2\">\n        <h2 className=\"text-2xl font-bold\">{metadata.title}</h2>\n        <p className=\"text-sm text-gray-600\">{metadata.subtitle}</p>\n        <p className=\"text-xs text-gray-500 italic\">{metadata.question}</p>\n      </div>\n\n      {/* Filters */}\n      <div className=\"flex gap-4 items-center flex-wrap\">\n        <div className=\"flex items-center gap-2\">\n          <label htmlFor=\"region\" className=\"text-sm font-medium\">\n            Region:\n          </label>\n          <select\n            id=\"region\"\n            value={selectedRegion}\n            onChange={(e) => setSelectedRegion(e.target.value)}\n            className=\"border border-gray-300 rounded px-3 py-1 text-sm\"\n          >\n            {regions.map((region) => (\n              <option key={region} value={region}>\n                {region}\n              </option>\n            ))}\n          </select>\n        </div>\n\n        <div className=\"flex items-center gap-2\">\n          <label htmlFor=\"education\" className=\"text-sm font-medium\">\n            Education:\n          </label>\n          <select\n            id=\"education\"\n            value={selectedEducation}\n            onChange={(e) => setSelectedEducation(e.target.value)}\n            className=\"border border-gray-300 rounded px-3 py-1 text-sm\"\n          >\n            {educationLevels.map((level) => (\n              <option key={level} value={level}>\n                {level}\n              </option>\n            ))}\n          </select>\n        </div>\n      </div>\n\n      {/* Chart */}\n      <div className=\"w-full\" style={{ height: Math.max(400, groupedData.length * 40) }}>\n        <ResponsiveContainer width=\"100%\" height=\"100%\">\n          <BarChart\n            data={groupedData}\n            layout=\"vertical\"\n            margin={{ top: 20, right: 30, left: 200, bottom: 20 }}\n          >\n            <CartesianGrid strokeDasharray=\"3 3\" horizontal={false} />\n            <XAxis\n              type=\"number\"\n              domain={[0, 100]}\n              tickFormatter={(value) => `${value}%`}\n              label={{ value: \"Support for Legal Abortion (%)\", position: \"bottom\", offset: 0 }}\n            />\n            <YAxis\n              dataKey=\"name\"\n              type=\"category\"\n              width={190}\n              tick={{ fontSize: 11 }}\n            />\n            <Tooltip content={<CustomTooltip />} />\n            <Legend />\n\n            {races.map((race) => (\n              <Bar\n                key={race}\n                dataKey={race}\n                fill={colors[race as keyof typeof colors] || \"#6B7280\"}\n                name={race}\n                isAnimationActive={false}\n              >\n                <ErrorBar\n                  dataKey={`${race}_error`}\n                  stroke=\"#000000\"\n                  strokeWidth={1}\n                  width={4}\n                />\n              </Bar>\n            ))}\n          </BarChart>\n        </ResponsiveContainer>\n      </div>\n\n      {/* Source and notes */}\n      <div className=\"text-xs text-gray-500 space-y-1 mt-4 border-t pt-4\">\n        <p>\n          <strong>Source:</strong> {metadata.source.name}\n        </p>\n        <p>\n          <strong>Note:</strong> {metadata.note}\n        </p>\n      </div>\n    </div>\n  );\n}\n","'use client';\n\nimport React from 'react';\nimport {\n  Bar,\n  BarChart as RechartsBarChart,\n  CartesianGrid,\n  XAxis,\n  YAxis,\n  Tooltip,\n  ErrorBar,\n  ResponsiveContainer\n} from 'recharts';\n\n/**\n * DemographicBarChart Component\n *\n * A Recharts-based bar chart for displaying demographic data with error bars.\n * Suitable for showing distributions across demographic categories with confidence intervals.\n *\n * @example\n * ```tsx\n * <DemographicBarChart\n *   data={[\n *     { category: '18-24', value: 45.2, errorLow: 2.1, errorHigh: 2.3 },\n *     { category: '25-34', value: 52.1, errorLow: 1.8, errorHigh: 1.9 }\n *   ]}\n *   categoryKey=\"category\"\n *   valueKey=\"value\"\n *   errorLowKey=\"errorLow\"\n *   errorHighKey=\"errorHigh\"\n * />\n * ```\n */\n\nexport interface DemographicBarChartProps {\n  /** Data array to visualize */\n  data: any[];\n\n  /** Field name for category labels (x-axis) */\n  categoryKey: string;\n\n  /** Field name for bar height values (y-axis) */\n  valueKey: string;\n\n  /** Field name for lower error values */\n  errorLowKey?: string;\n\n  /** Field name for upper error values */\n  errorHighKey?: string;\n\n  /** Chart title */\n  title?: string;\n\n  /** X-axis label */\n  xLabel?: string;\n\n  /** Y-axis label */\n  yLabel?: string;\n\n  /** Bar fill color */\n  fill?: string;\n\n  /** Error bar stroke color */\n  errorStroke?: string;\n\n  /** Error bar stroke width */\n  errorStrokeWidth?: number;\n\n  /** Chart width (default: responsive) */\n  width?: number | string;\n\n  /** Chart height in pixels */\n  height?: number;\n\n  /** Rotate x-axis labels (degrees) */\n  xTickRotate?: number;\n\n  /** X-axis tick font size */\n  xTickFontSize?: number;\n\n  /** Show grid lines */\n  showGrid?: boolean;\n\n  /** Additional CSS classes */\n  className?: string;\n}\n\nexport function DemographicBarChart({\n  data,\n  categoryKey,\n  valueKey,\n  errorLowKey,\n  errorHighKey,\n  title,\n  xLabel,\n  yLabel = 'Value (%)',\n  fill = '#8884d8',\n  errorStroke = '#666',\n  errorStrokeWidth = 2,\n  width = '100%',\n  height = 400,\n  xTickRotate = -45,\n  xTickFontSize = 10,\n  showGrid = true,\n  className = ''\n}: DemographicBarChartProps) {\n  if (!data || data.length === 0) {\n    return (\n      <div className={`p-6 text-center text-gray-500 ${className}`}>\n        No demographic data available\n      </div>\n    );\n  }\n\n  // Transform error data if provided as absolute values\n  const transformedData = data.map(item => {\n    const transformed: any = { ...item };\n\n    // If error keys are provided, create error array for ErrorBar\n    if (errorLowKey && errorHighKey) {\n      transformed.error = [item[errorLowKey], item[errorHighKey]];\n    }\n\n    return transformed;\n  });\n\n  return (\n    <div className={className}>\n      {title && <h3 className=\"text-lg font-semibold mb-4 text-center\">{title}</h3>}\n      <ResponsiveContainer width={width} height={height}>\n        <RechartsBarChart\n          data={transformedData}\n          margin={{ top: 20, right: 30, left: 20, bottom: 80 }}\n        >\n          {showGrid && <CartesianGrid strokeDasharray=\"3 3\" />}\n\n          <XAxis\n            dataKey={categoryKey}\n            label={xLabel ? { value: xLabel, position: 'insideBottom', offset: -70 } : undefined}\n            interval={0}\n            angle={xTickRotate}\n            textAnchor=\"end\"\n            height={100}\n            tick={{ fontSize: xTickFontSize }}\n          />\n\n          <YAxis\n            label={yLabel ? { value: yLabel, angle: -90, position: 'insideLeft' } : undefined}\n          />\n\n          <Tooltip />\n\n          <Bar dataKey={valueKey} fill={fill}>\n            {errorLowKey && errorHighKey && (\n              <ErrorBar\n                dataKey=\"error\"\n                stroke={errorStroke}\n                strokeWidth={errorStrokeWidth}\n              />\n            )}\n          </Bar>\n        </RechartsBarChart>\n      </ResponsiveContainer>\n    </div>\n  );\n}\n\nexport default DemographicBarChart;\n","import React from \"react\";\nimport {\n  ResponsiveContainer,\n  ComposedChart,\n  CartesianGrid,\n  XAxis,\n  YAxis,\n  Tooltip,\n  Scatter,\n  ZAxis,\n  ReferenceLine,\n  Area,\n  Line,\n} from \"recharts\";\n\n/** -----------------------------------------------------------\n *  Stats helpers (OLS, Pearson r, band)\n *  --------------------------------------------------------- */\nexport type XY = { x: number; y: number };\n\nexport function pearsonR(points: XY[]) {\n  const n = points.length;\n  if (n < 2) return NaN;\n  let sx = 0, sy = 0, sxx = 0, syy = 0, sxy = 0;\n  for (const { x, y } of points) {\n    sx += x; sy += y; sxx += x * x; syy += y * y; sxy += x * y;\n  }\n  const cov = sxy - (sx * sy) / n;\n  const vx = sxx - (sx * sx) / n;\n  const vy = syy - (sy * sy) / n;\n  if (vx <= 0 || vy <= 0) return NaN;\n  return cov / Math.sqrt(vx * vy);\n}\n\nexport function ols(points: XY[]) {\n  const n = points.length;\n  if (n < 2) return { b0: 0, b1: 0, se: NaN, xbar: NaN, sxx: NaN };\n\n  let sx = 0, sy = 0, sxx = 0, sxy = 0;\n  for (const { x, y } of points) {\n    sx += x; sy += y; sxx += x * x; sxy += x * y;\n  }\n  const denom = n * sxx - sx * sx;\n  const b1 = denom === 0 ? 0 : (n * sxy - sx * sy) / denom;\n  const b0 = (sy - b1 * sx) / n;\n\n  // Residual standard error (unbiased, n-2 df)\n  const sse = points.reduce((acc, p) => {\n    const yhat = b0 + b1 * p.x;\n    return acc + (p.y - yhat) ** 2;\n  }, 0);\n  const se = Math.sqrt(sse / Math.max(1, n - 2));\n\n  const xbar = sx / n;\n  const sxxCentered = points.reduce((a, p) => a + (p.x - xbar) ** 2, 0);\n\n  return { b0, b1, se, xbar, sxx: sxxCentered };\n}\n\n/** Build regression line and a 95% confidence band for the fitted mean. */\nfunction lineAndBand(points: XY[], xMin: number, xMax: number, steps = 120) {\n  const { b0, b1, se, xbar, sxx } = ols(points);\n  const xs: number[] = [];\n  for (let i = 0; i <= steps; i++) xs.push(xMin + (i * (xMax - xMin)) / steps);\n\n  // t* for ~95% CI with large-ish df (n-2). Keep it simple & robust.\n  const t = 2.0;\n\n  const rows = xs.map((x) => {\n    const y = b0 + b1 * x;\n    // SE of fitted mean y(x):  se * sqrt( 1/n + (x - x)^2 / Sxx )\n    const seFit =\n      isFinite(se) && isFinite(sxx) && sxx > 0 && points.length > 0\n        ? se * Math.sqrt(1 / points.length + ((x - xbar) ** 2) / sxx)\n        : NaN;\n    const yLow = isFinite(seFit) ? y - t * seFit : y;\n    const yHigh = isFinite(seFit) ? y + t * seFit : y;\n    return { x, y, band: [yLow, yHigh] as [number, number] };\n  });\n\n  return { line: rows.map(({ x, y }) => ({ x, y })), band: rows };\n}\n\n/** -----------------------------------------------------------\n *  Data prep\n *  --------------------------------------------------------- */\n\ntype RegionKey = \"Catholic\" | \"Protestant\" | \"Orthodox\" | \"Muslim\" | \"Other\";\n\nconst REGION_COLORS: Record<RegionKey, string> = {\n  Catholic: \"#facc15\",    // gold\n  Protestant: \"#52525b\",  // zinc-600\n  Orthodox: \"#3b82f6\",    // blue-500\n  Muslim: \"#ef4444\",      // red-500\n  Other: \"#22c55e\",       // green-500\n};\n\nfunction normalizeReligion(s: string | undefined): RegionKey {\n  const v = (s || \"\").toLowerCase();\n  if (v.includes(\"catholic\")) return \"Catholic\";\n  if (v.includes(\"protestant\")) return \"Protestant\";\n  if (v.includes(\"orthodox\")) return \"Orthodox\";\n  if (v.includes(\"muslim\") || v.includes(\"islam\")) return \"Muslim\";\n  return \"Other\";\n}\n\nexport type EssRow = {\n  cntry: string;\n  iso3?: string;\n  religion?: string;            // e.g., \"Roman Catholic\"\n  population?: number;          // millions\n  hdi?: number;                 // 01\n  gdp?: number;                 // PPP$ 2011\n  education?: number;           // mean years\n  [k: string]: any;             // possible \"happiness\" key\n};\n\nexport type CountryDatum = {\n  name: string;\n  region: RegionKey;\n  religion: string;\n  population_m: number;\n  happiness: number;            // 010\n  hdi?: number;\n  gdp?: number;\n  education?: number;\n};\n\nexport function prepareEssRows(\n  rows: EssRow[],\n  opts: { happinessKey?: string } = {}\n): CountryDatum[] {\n  const { happinessKey = \"happiness\" } = opts;\n\n  return rows.map((r) => {\n    const region = normalizeReligion(r.religion);\n    const happiness = Number(r[happinessKey]); // you control which column is passed in\n    return {\n      name: r.cntry,\n      religion: r.religion || region,\n      region,\n      population_m: Number(r.population ?? 0),\n      happiness: isFinite(happiness) ? happiness : NaN,\n      hdi: Number(r.hdi),\n      gdp: Number(r.gdp),\n      education: Number(r.education),\n    };\n  });\n}\n\n/** -----------------------------------------------------------\n *  UI helpers\n *  --------------------------------------------------------- */\n\nfunction fmtGDP(v: number) {\n  if (!isFinite(v)) return \"\";\n  if (Math.abs(v) >= 1000) return `${Math.round(v / 1000)}k`;\n  return `${v}`;\n}\nfunction fmtMillions(v: number) {\n  if (!isFinite(v)) return \"\";\n  // keep 1 decimal for < 10M else integer-ish\n  return v < 10 ? `${v.toFixed(1)} Million` : `${Math.round(v)} Million`;\n}\n\nconst BubbleTooltip = ({ active, payload, label, xLabel, xFmt }: any) => {\n  if (!active || !payload || !payload.length) return null;\n  const d = payload[0].payload;\n\n  return (\n    <div className=\"relative max-w-xs rounded-xl bg-white/95 p-3 shadow-xl ring-1 ring-black/5\">\n      {/* little pointer */}\n      <div\n        className=\"absolute -bottom-2 left-1/2 h-3 w-3 -translate-x-1/2 rotate-45 rounded-sm bg-white ring-1 ring-black/5\"\n        aria-hidden\n      />\n      <div className=\"text-base font-semibold\">{d.name}</div>\n      <div className=\"mt-1 text-sm leading-5\">\n        <div>\n          <span className=\"font-semibold\">{xLabel}:</span>{\" \"}\n          {xFmt ? xFmt(d.x) : d.x}\n        </div>\n        <div>\n          <span className=\"font-semibold\">Average Happiness:</span>{\" \"}\n          {isFinite(d.y) ? Number(d.y).toFixed(2) : \"\"}\n        </div>\n        {isFinite(d.population_m) && (\n          <div>\n            <span className=\"font-semibold\">Population:</span>{\" \"}\n            {fmtMillions(d.population_m)}\n          </div>\n        )}\n        <div className=\"flex items-center gap-1\">\n          <span className=\"font-semibold\">Religion:</span>\n          <span\n            className=\"inline-block h-2.5 w-2.5 rounded-full\"\n            style={{ background: d.fill }}\n          />\n          <span>{d.religion}</span>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n/** -----------------------------------------------------------\n *  Section (single chart)\n *  --------------------------------------------------------- */\n\ntype SectionProps = {\n  title: string;\n  xKey: keyof CountryDatum;           // 'hdi' | 'gdp' | 'education'\n  xLabel: string;\n  xDomain: [number, number];\n  xTickFmt?: (v: number) => string;\n  data: CountryDatum[];\n};\n\nfunction Section({ title, xKey, xLabel, xDomain, xTickFmt, data }: SectionProps) {\n  // Debug happiness values\n  if (title.includes(\"Human Development\") && data.length > 0) {\n    console.log(`${title} - Sample happiness values:`,\n      data.slice(0, 5).map(d => `${d.name}: ${d.happiness}`)\n    );\n  }\n\n  // Filter & project to points\n  const points: XY[] = data\n    .filter((d) => Number.isFinite(d[xKey] as number) && Number.isFinite(d.happiness))\n    .map((d) => ({ x: Number(d[xKey] as number), y: Number(d.happiness) }));\n\n  const r = pearsonR(points);\n  const [xMin, xMax] = xDomain;\n  const { line, band } = lineAndBand(points, xMin, xMax, 100);\n\n  // Recharts expects each scatter row to carry x/y/z + your other fields\n  const scatterData = data.map((d) => {\n    const x = Number(d[xKey] as number);\n    const y = Number(d.happiness);\n    return {\n      ...d,\n      x,\n      y,\n      // bubble area ~ sqrt(pop) -> visually closer to population without extreme skew\n      z: isFinite(d.population_m) ? Math.max(24, Math.sqrt(d.population_m) * 4) : 24,\n      fill: REGION_COLORS[d.region] || \"#8884d8\",\n    };\n  });\n\n  return (\n    <div className=\"flex flex-col\">\n      <div className=\"mb-1 text-lg md:text-xl font-semibold\">{title}</div>\n      <div className=\"h-[340px] w-full\">\n        <ResponsiveContainer>\n          <ComposedChart margin={{ top: 8, right: 18, bottom: 8, left: 8 }}>\n            <CartesianGrid strokeDasharray=\"3 3\" />\n            <XAxis\n              type=\"number\"\n              dataKey=\"x\"\n              domain={xDomain}\n              tickFormatter={xTickFmt}\n              label={{ value: xLabel, position: \"insideBottom\", offset: -2 }}\n            />\n            <YAxis\n              type=\"number\"\n              domain={['dataMin - 0.5', 'dataMax + 0.5']}\n              label={{ value: \"Average Happiness\", angle: -90, position: \"insideLeft\" }}\n            />\n            <ZAxis dataKey=\"z\" range={[50, 240]} />\n\n            {/* Confidence band (as in BandedChart) */}\n            <Area\n              type=\"monotone\"\n              data={band}\n              dataKey=\"band\"                                    // [low, high]\n              stroke=\"none\"\n              fill=\"#94a3b8\"                                   // slate-400\n              fillOpacity={0.22}\n              isAnimationActive={false}\n            />\n\n            {/* Line of best fit */}\n            <Line\n              type=\"monotone\"\n              data={line}\n              dataKey=\"y\"\n              dot={false}\n              stroke=\"#475569\"                                  // slate-600\n              strokeWidth={2}\n              isAnimationActive={false}\n            />\n\n            {/* A light guide at 7 like the mock */}\n            <ReferenceLine y={7} stroke=\"#cbd5e1\" strokeDasharray=\"4 4\" />\n\n            {/* Bubbles */}\n            <Scatter\n              data={scatterData}\n              dataKey=\"y\"\n              shape={(props: any) => {\n                const { cx, cy, payload, size } = props;\n                // Recharts passes 'size' scaled by <ZAxis range>; treat it as area.\n                const r = Math.sqrt(Math.max(0, size) / Math.PI);\n                return (\n                  <circle\n                    cx={cx}\n                    cy={cy}\n                    r={r}\n                    fill={payload.fill}\n                    fillOpacity={0.9}\n                    stroke=\"#334155\"\n                    strokeOpacity={0.35}\n                  />\n                );\n              }}\n            />\n\n            <Tooltip\n              cursor={{ strokeDasharray: \"3 3\" }}\n              content={\n                // We pass the axis label and formatter so the tooltip can render the x-value correctly.\n                <BubbleTooltip xLabel={xLabel} xFmt={xTickFmt} /> as any\n              }\n              wrapperStyle={{ outline: \"none\" }}\n            />\n          </ComposedChart>\n        </ResponsiveContainer>\n      </div>\n      <div className=\"mt-1 text-xs text-violet-700\">\n        Correlation: {isFinite(r) ? r.toFixed(2) : \"\"}\n      </div>\n    </div>\n  );\n}\n\n/** -----------------------------------------------------------\n *  Legend\n *  --------------------------------------------------------- */\nfunction RegionLegend() {\n  const items = (Object.keys(REGION_COLORS) as RegionKey[]).map((k) => [k, REGION_COLORS[k]] as const);\n  return (\n    <div className=\"flex flex-wrap items-center gap-3 text-sm\">\n      {items.map(([label, color]) => (\n        <div key={label} className=\"flex items-center gap-1\">\n          <span className=\"inline-block h-3 w-3 rounded-full\" style={{ background: color }} />\n          <span>{label}</span>\n        </div>\n      ))}\n    </div>\n  );\n}\n\n/** -----------------------------------------------------------\n *  Main panel\n *  --------------------------------------------------------- */\n\ntype PanelProps = { data: CountryDatum[] };\n\n/**\n * Expect `data` shaped like `CountryDatum[]`.\n * If you're piping raw rows from the attached Excel, call `prepareEssRows(rows, { happinessKey: 'happiness' })`\n * where `happiness` is the column in your prepared dataset that contains 010 averages.\n */\nexport default function HappinessCorrelatesPanel({ data }: PanelProps) {\n  const dataset = data ?? [];\n\n  return (\n    <div className=\"w-full p-4 md:p-6\">\n      <div className=\"grid items-start gap-8 md:grid-cols-3\">\n        <Section\n          title=\"Human Development Index\"\n          xKey=\"hdi\"\n          xLabel=\"HDI\"\n          xDomain={[0.5, 1.0]}\n          data={dataset}\n        />\n        <Section\n          title=\"GDP per capita (2011 PPP$)\"\n          xKey=\"gdp\"\n          xLabel=\"GDP per capita (2011 PPP$)\"\n          xDomain={[3000, 55000]}\n          xTickFmt={fmtGDP}\n          data={dataset}\n        />\n        <Section\n          title=\"Mean Year of Schooling\"\n          xKey=\"education\"\n          xLabel=\"Mean Years of Schooling\"\n          xDomain={[8, 14]}\n          data={dataset}\n        />\n      </div>\n\n      <div className=\"mt-5\">\n        <RegionLegend />\n      </div>\n    </div>\n  );\n}\n","'use client';\n\nimport React, { useRef, useEffect, useMemo } from 'react';\nimport * as Plot from \"@observablehq/plot\";\n\ninterface LineChartProps {\n  data?: any[];\n}\n\nconst LineChart: React.FC<LineChartProps> = ({ data = [] }) => {\n  const basicRef = useRef<HTMLDivElement>(null);\n  const errorBarsRef = useRef<HTMLDivElement>(null);\n\n  // Embed the marijuana trend data directly for now\n  const marijuanaData = [\n    { year: 1975, value: 33.766, ci_lower: 29.2359, ci_upper: 38.296, demo_level_title: \"Rarely\" },\n    { year: 1980, value: 39.9999, ci_lower: 33.8308, ci_upper: 46.169, demo_level_title: \"Rarely\" },\n    { year: 1990, value: 28.1103, ci_lower: 21.4728, ci_upper: 34.7478, demo_level_title: \"Rarely\" },\n    { year: 1998, value: 44.4119, ci_lower: 40.0516, ci_upper: 48.7722, demo_level_title: \"Rarely\" },\n    { year: 2008, value: 51.5992, ci_lower: 46.3518, ci_upper: 56.8467, demo_level_title: \"Rarely\" },\n    { year: 2014, value: 68.025, ci_lower: 64.1351, ci_upper: 71.915, demo_level_title: \"Rarely\" },\n    { year: 2018, value: 75.4005, ci_lower: 71.0312, ci_upper: 79.7699, demo_level_title: \"Rarely\" },\n    { year: 2022, value: 82.1393, ci_lower: 78.1238, ci_upper: 86.1548, demo_level_title: \"Rarely\" },\n\n    { year: 1975, value: 27.8498, ci_lower: 23.4259, ci_upper: 32.2738, demo_level_title: \"Sometimes\" },\n    { year: 1980, value: 26.5497, ci_lower: 21.1635, ci_upper: 31.9359, demo_level_title: \"Sometimes\" },\n    { year: 1990, value: 12.051, ci_lower: 7.6668, ci_upper: 16.4351, demo_level_title: \"Sometimes\" },\n    { year: 1998, value: 25.4621, ci_lower: 20.8151, ci_upper: 30.1091, demo_level_title: \"Sometimes\" },\n    { year: 2008, value: 33.1419, ci_lower: 28.3581, ci_upper: 37.9257, demo_level_title: \"Sometimes\" },\n    { year: 2014, value: 56.069, ci_lower: 50.063, ci_upper: 62.075, demo_level_title: \"Sometimes\" },\n    { year: 2018, value: 63.5873, ci_lower: 57.5489, ci_upper: 69.6256, demo_level_title: \"Sometimes\" },\n    { year: 2022, value: 73.1045, ci_lower: 66.0019, ci_upper: 80.2071, demo_level_title: \"Sometimes\" },\n\n    { year: 1975, value: 9.4417, ci_lower: 6.5779, ci_upper: 12.3055, demo_level_title: \"Weekly\" },\n    { year: 1980, value: 14.9472, ci_lower: 10.4098, ci_upper: 19.4845, demo_level_title: \"Weekly\" },\n    { year: 1990, value: 11.088, ci_lower: 5.5125, ci_upper: 16.6635, demo_level_title: \"Weekly\" },\n    { year: 1998, value: 11.4878, ci_lower: 8.6407, ci_upper: 14.335, demo_level_title: \"Weekly\" },\n    { year: 2008, value: 24.4865, ci_lower: 19.6032, ci_upper: 29.3699, demo_level_title: \"Weekly\" },\n    { year: 2014, value: 34.5205, ci_lower: 30.212, ci_upper: 38.829, demo_level_title: \"Weekly\" },\n    { year: 2018, value: 41.1593, ci_lower: 34.6969, ci_upper: 47.6217, demo_level_title: \"Weekly\" },\n    { year: 2022, value: 44.1575, ci_lower: 33.6355, ci_upper: 54.6796, demo_level_title: \"Weekly\" }\n  ];\n\n  const metadata = {\n    title: \"Trends in Opinion on Marijuana Legalization, by Church Attendance\",\n    subtitle: \"% of US Population Who Support Marijuana Legalization, by Year and Church Attendance\",\n    source: { name: \"General Social Survey, United States, 1972 - 2022; 38312 Observations\" },\n    domain: [\"Rarely\", \"Sometimes\", \"Weekly\"]\n  };\n\n  // Custom colors matching the original design\n  const customColors = [\n    \"#525252\", // Dark Grey for Rarely\n    \"#D3D3D3\", // Light Grey for Sometimes\n    \"#6A0DAD\"  // Deep Purple for Weekly\n  ];\n\n  useEffect(() => {\n    if (!marijuanaData || marijuanaData.length === 0) return;\n\n    // Clear existing plots\n    if (basicRef.current) basicRef.current.innerHTML = '';\n    if (errorBarsRef.current) errorBarsRef.current.innerHTML = '';\n\n    console.log('Rendering charts with data:', marijuanaData.length, 'points');\n\n    try {\n      // Basic line chart without error bars\n      const basicPlot = Plot.plot({\n        title: \"Marijuana Legalization Support by Church Attendance\",\n        subtitle: \"Trends from 1975-2022 (clean view)\",\n        style: {\n          backgroundColor: \"white\",\n          fontFamily: \"sans-serif\",\n        },\n        x: {\n          label: \"Year\",\n          domain: [1975, 2022],\n          tickFormat: \".0f\",\n          grid: true\n        },\n        y: {\n          label: \"% Supporting Marijuana Legalization\",\n          grid: true,\n          domain: [0, 90]\n        },\n        color: {\n          legend: true,\n          domain: metadata.domain,\n          range: customColors\n        },\n        marks: [\n          Plot.lineY(marijuanaData, {\n            x: \"year\",\n            y: \"value\",\n            stroke: \"demo_level_title\",\n            strokeWidth: 2.5,\n            tip: true\n          }),\n          Plot.dot(marijuanaData, {\n            x: \"year\",\n            y: \"value\",\n            fill: \"demo_level_title\",\n            stroke: \"white\",\n            strokeWidth: 1.5,\n            r: 3,\n            tip: true\n          })\n        ],\n        width: 700,\n        height: 400,\n        marginLeft: 80\n      });\n\n      // Line chart with error bars\n      const errorBarsPlot = Plot.plot({\n        title: metadata.title,\n        subtitle: metadata.subtitle,\n        caption: `Source: ${metadata.source.name}`,\n        style: {\n          backgroundColor: \"white\",\n          fontFamily: \"sans-serif\",\n        },\n        x: {\n          label: \"Year\",\n          domain: [1975, 2022],\n          tickFormat: \".0f\",\n          grid: true\n        },\n        y: {\n          label: \"% Supporting Marijuana Legalization\",\n          grid: true,\n          domain: [0, 90]\n        },\n        color: {\n          legend: true,\n          domain: metadata.domain,\n          range: customColors\n        },\n        marks: [\n          // Confidence interval error bars (vertical lines at each data point)\n          Plot.ruleX(marijuanaData, {\n            x: \"year\",\n            y1: \"ci_lower\",\n            y2: \"ci_upper\",\n            stroke: \"demo_level_title\",\n            strokeWidth: 1.5,\n            strokeOpacity: 0.7\n          }),\n          // Main trend lines\n          Plot.lineY(marijuanaData, {\n            x: \"year\",\n            y: \"value\",\n            stroke: \"demo_level_title\",\n            strokeWidth: 2.5,\n            tip: true\n          }),\n          // Data points\n          Plot.dot(marijuanaData, {\n            x: \"year\",\n            y: \"value\",\n            fill: \"demo_level_title\",\n            stroke: \"white\",\n            strokeWidth: 1.5,\n            r: 3.5,\n            tip: true\n          })\n        ],\n        width: 800,\n        height: 350,\n        marginLeft: 80\n      });\n\n      // Append plots\n      if (basicRef.current) {\n        basicRef.current.appendChild(basicPlot);\n        console.log('Basic plot appended');\n      }\n      if (errorBarsRef.current) {\n        errorBarsRef.current.appendChild(errorBarsPlot);\n        console.log('Error bars plot appended');\n      }\n\n      // Cleanup function\n      return () => {\n        basicPlot?.remove();\n        errorBarsPlot?.remove();\n      };\n    } catch (error) {\n      console.error('Error rendering plots:', error);\n    }\n  }, []);\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"mb-6\">\n        <p className=\"text-gray-600\">\n          Analysis of public opinion on marijuana legalization from the General Social Survey (1975-2022).\n          Shows how attitudes vary by church attendance frequency, with confidence intervals showing statistical uncertainty.\n        </p>\n      </div>\n\n      <div className=\"border rounded-lg p-6\">\n        <div className=\"mb-4\">\n          <h3 className=\"text-lg font-semibold\">Basic Trend Lines</h3>\n          <p className=\"text-sm text-gray-600\">\n            Clean line chart showing support trends by church attendance frequency\n          </p>\n        </div>\n        <div>\n          <div ref={basicRef} className=\"flex justify-center\" style={{ minHeight: '400px' }} />\n          <p className=\"text-sm text-gray-600 mt-4\">\n            This simplified view shows the clear trend patterns: those who rarely attend church show the highest and fastest-growing support,\n            while those who attend weekly show the lowest but steadily increasing support over time.\n          </p>\n        </div>\n      </div>\n\n      <div className=\"border rounded-lg p-6\">\n        <div className=\"mb-4\">\n          <h3 className=\"text-lg font-semibold\">Trends with Error Bars</h3>\n          <p className=\"text-sm text-gray-600\">\n            Complete analysis including confidence intervals showing statistical uncertainty\n          </p>\n        </div>\n        <div>\n          <div ref={errorBarsRef} className=\"flex justify-center\" style={{ minHeight: '400px' }} />\n          <p className=\"text-sm text-gray-600 mt-4\">\n            The error bars show 95% confidence intervals around each estimate. Larger error bars indicate greater statistical uncertainty,\n            often due to smaller sample sizes. This matches the original Observable Framework visualization design.\n          </p>\n        </div>\n      </div>\n\n      <div className=\"mt-6 p-4 bg-gray-50 rounded-lg\">\n        <h3 className=\"font-semibold mb-2\">Key Findings</h3>\n        <div className=\"grid md:grid-cols-3 gap-4 text-sm\">\n          <div>\n            <h4 className=\"font-medium\">Rarely Attend Church</h4>\n            <ul className=\"list-disc list-inside text-gray-600 space-y-1\">\n              <li>Highest support levels (82% by 2022)</li>\n              <li>Steady upward trend since 1990s</li>\n              <li>Largest absolute increase over time</li>\n              <li>Generally narrower confidence intervals</li>\n            </ul>\n          </div>\n          <div>\n            <h4 className=\"font-medium\">Sometimes Attend</h4>\n            <ul className=\"list-disc list-inside text-gray-600 space-y-1\">\n              <li>Moderate support levels (73% by 2022)</li>\n              <li>Similar upward trajectory</li>\n              <li>More volatile in earlier years</li>\n              <li>Intermediate between other groups</li>\n            </ul>\n          </div>\n          <div>\n            <h4 className=\"font-medium\">Weekly Church Attendance</h4>\n            <ul className=\"list-disc list-inside text-gray-600 space-y-1\">\n              <li>Lowest support but growing (44% by 2022)</li>\n              <li>Accelerated growth since 2000s</li>\n              <li>Largest relative percentage increase</li>\n              <li>Shows cultural shift even among religious</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default LineChart;","import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n","import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"../lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n","'use client' \nimport React, { useState, useEffect, useMemo } from 'react';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, ReferenceLine, ReferenceArea, Brush } from 'recharts';\nimport { Button } from '../ui/button';\nimport { TrendingUp, TrendingDown, Grid3X3 } from 'lucide-react';\nimport { useTheme } from 'next-themes';\n\ninterface TimeRangeButtonProps {\n  active: boolean;\n  onClick: () => void;\n  children: React.ReactNode;\n}\n\ninterface DataPoint {\n  date: string;\n  value: number;\n  percentChange: number;\n}\n\ninterface TimeSeriesProps {\n  data: {\n    id: string;\n    title: string;\n    short_title?: string | null;\n    units: string;\n    observations: Array<{\n      date: string;\n      value: string;\n    }>;\n  };\n}\n\ninterface TooltipProps {\n  active?: boolean;\n  payload?: Array<{ payload: DataPoint }>;\n  label?: string;\n}\n\ninterface Stats {\n  avg: string;\n  max: string;\n  min: string;\n  trend: number;\n}\n\ntype TimeRangeType = '1Y' | '2Y' | '5Y' | 'MAX';\n\nconst TimeRangeButton: React.FC<TimeRangeButtonProps> = ({ active, onClick, children }) => (\n  <Button\n    variant={active ? 'default' : 'outline'}\n    size=\"sm\"\n    onClick={onClick}\n  >\n    {children}\n  </Button>\n);\n\nconst formatValue = (value: number): string => {\n  return value.toLocaleString('en-US');\n};\n\nconst calculatePercentChange = (current: number, previous: number): number => {\n  return ((current - previous) / previous) * 100;\n};\n\nconst calculateYearOverYear = (data: DataPoint[]): number | null => {\n  if (data.length < 12) return null;\n  const current = data[data.length - 1].value;\n  const yearAgo = data[data.length - 12].value;\n  return calculatePercentChange(current, yearAgo);\n};\n\nconst calculate3MonthAverage = (data: DataPoint[]): string | null => {\n  if (data.length < 3) return null;\n  const last3Months = data.slice(-3);\n  const average = last3Months.reduce((sum, point) => sum + point.value, 0) / 3;\n  return average.toFixed(1);\n};\n\nconst calculateStats = (data: DataPoint[]): Stats => {\n  if (!data.length) return { avg: '0', max: '0', min: '0', trend: 0 };\n  \n  const values = data.map((d) => d.value);\n  const firstValue = values[0];\n  const lastValue = values[values.length - 1];\n  const trend = calculatePercentChange(lastValue, firstValue);\n\n  return {\n    avg: (values.reduce((a, b) => a + b, 0) / values.length).toFixed(1),\n    max: Math.max(...values).toFixed(1),\n    min: Math.min(...values).toFixed(1),\n    trend\n  };\n};\n\nconst TimeSeries: React.FC<TimeSeriesProps> = ({ data }) => {\n  const [showRecessions, setShowRecessions] = useState(true);\n  const { theme } = useTheme();\n\n  const processedData = useMemo(() => {\n    return data.observations.map((item, index, arr) => {\n      const value = parseFloat(item.value);\n      const previousValue = index > 0 ? parseFloat(arr[index - 1].value) : value;\n      return {\n        date: item.date,\n        value: value,\n        percentChange: calculatePercentChange(value, previousValue)\n      };\n    });\n  }, [data]);\n\n  const filteredData = processedData;\n  const stats = calculateStats(filteredData);\n  const currentValue = filteredData[filteredData.length - 1]?.value || 0;\n\n  const recessionPeriods = [\n    { start: '2020-02-01', end: '2020-04-01' },\n    { start: '2007-12-01', end: '2009-06-01' },\n    { start: '2001-03-01', end: '2001-11-01' },\n    { start: '1990-07-01', end: '1991-03-01' },\n    { start: '1981-07-01', end: '1982-11-01' },\n    { start: '1980-01-01', end: '1980-07-01' },\n    { start: '1973-11-01', end: '1975-03-01' },\n    { start: '1969-12-01', end: '1970-11-01' },\n    { start: '1960-04-01', end: '1961-02-01' },\n    { start: '1957-08-01', end: '1958-04-01' },\n    { start: '1953-07-01', end: '1954-05-01' },\n    { start: '1948-11-01', end: '1949-10-01' },\n    { start: '1945-02-01', end: '1945-10-01' },\n  ];\n\n  const formatDate = (date: string) => {\n    return new Date(date).toLocaleDateString('en-US', {\n      year: '2-digit',\n      month: 'short',\n    });\n  };\n\n  const CustomTooltip: React.FC<TooltipProps> = ({ active, payload, label }) => {\n    if (!active || !payload?.length) return null;\n\n    const data = payload[0].payload;\n    const date = new Date(label || '').toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'long',\n    });\n    const value = formatValue(data.value);\n    const percentChange = data.percentChange.toFixed(1);\n    const color =\n      data.percentChange > 0\n        ? 'text-green-500'\n        : data.percentChange < 0\n        ? 'text-red-500'\n        : 'text-gray-500';\n\n    return (\n      <div className=\"bg-popover/80 backdrop-blur p-2 rounded-lg border shadow-lg\">\n        <div className=\"text-sm font-medium\">{date}</div>\n        <div className=\"text-lg font-bold\">{value}</div>\n        <div className={`text-sm ${color}`}>\n          {percentChange}% from previous\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"w-full bg-background shadow-lg rounded-lg border\">\n      <div className=\"pb-4 p-6\">\n        <div className=\"flex flex-col md:flex-row justify-between items-start space-y-4 md:space-y-0 md:space-x-4\">\n          <div>\n            <h3 className=\"text-2xl font-bold text-foreground\">\n              {data.short_title || data.title.split(':')[0]}\n            </h3>\n            <p className=\"text-sm text-gray-600 mt-1\">\n              {data.title}\n            </p>\n          </div>\n        </div>\n      </div>\n      <div className=\"p-6 pt-0\">\n        <div className=\"h-[400px]\">\n          <ResponsiveContainer width=\"100%\" height=\"100%\">\n            <LineChart\n              data={filteredData}\n              margin={{ top: 20, right: 30, left: 50, bottom: 0 }}\n            >\n              <CartesianGrid\n                strokeDasharray=\"3 3\"\n                className=\"stroke-muted\"\n                vertical={false}\n              />\n              <XAxis\n                dataKey=\"date\"\n                tickFormatter={formatDate}\n                minTickGap={30}\n                tick={{ fill: theme === 'dark' ? '#9CA3AF' : '#6B7280' }}\n              />\n              <YAxis\n                domain={['auto', 'auto']}\n                tickFormatter={formatValue}\n                tick={{ fill: theme === 'dark' ? '#9CA3AF' : '#6B7280' }}\n              />\n              <Tooltip content={<CustomTooltip />} />\n              <Line\n                type=\"monotone\"\n                dataKey=\"value\"\n                dot={false}\n                stroke=\"#4299e1\"\n                strokeWidth={2}\n              />\n              <Brush\n                dataKey=\"date\"\n                height={30}\n                stroke=\"#8884d8\"\n                fill=\"#fff\"\n                tickFormatter={formatDate}\n                travellerWidth={10}\n                startIndex={0}\n                endIndex={filteredData.length - 1}\n              >\n                <LineChart>\n                  <Line dataKey=\"value\" stroke=\"#4299e1\" dot={false} />\n                  {showRecessions && recessionPeriods.map((period, index) => (\n                <ReferenceArea\n                  key={index}\n                  x1={period.start}\n                  x2={period.end}\n                  fill=\"currentColor\"\n                  fillOpacity={0.1}\n                  strokeOpacity={0}\n                />\n              ))}\n                </LineChart>\n              </Brush>\n              {showRecessions && recessionPeriods.map((period, index) => (\n                <ReferenceArea\n                  key={index}\n                  x1={period.start}\n                  x2={period.end}\n                  fill=\"currentColor\"\n                  fillOpacity={0.1}\n                  strokeOpacity={0}\n                />\n              ))}\n            </LineChart>\n\n          </ResponsiveContainer>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default TimeSeries;","'use client'\n\nimport React, { useState, useMemo } from 'react';\nimport { \n  LineChart, \n  Line, \n  XAxis, \n  YAxis, \n  CartesianGrid, \n  Tooltip, \n  ResponsiveContainer, \n  ReferenceArea, \n  Legend,\n  Brush \n} from 'recharts';\nimport { Button } from '../ui/button';\nimport { Grid3X3 } from 'lucide-react';\nimport { useTheme } from 'next-themes';\n\ntype TimeRange = '1Y' | '2Y' | '5Y' | 'MAX';\n\ninterface DataSeries {\n  id: string;\n  title: string;\n  observation_start: string;\n  observation_end: string;\n  frequency: string;\n  units: string;\n  seasonal_adjustment: string;\n  observations: Array<{\n    realtime_start: string;\n    realtime_end: string;\n    date: string;\n    value: string;\n  }>;\n}\n\ninterface ChartDataPoint {\n  date: string;\n  [key: string]: number | string | null;\n}\n\ninterface RecessionPeriod {\n  start: string;\n  end: string;\n}\n\ninterface TimeRangeButtonProps {\n  active: boolean;\n  onClick: () => void;\n  children: React.ReactNode;\n}\n\ninterface IndexChartProps {\n  series1: DataSeries;\n  series2: DataSeries;\n}\n\ninterface TooltipProps {\n  active?: boolean;\n  payload?: Array<{\n    dataKey: string;\n    value: number;\n    payload: ChartDataPoint;\n  }>;\n  label?: string;\n}\n\ninterface SeriesComparisonProps {\n  series1: DataSeries;\n  series2: DataSeries;\n  title?: string;\n  description?: string;\n}\n\nconst TimeRangeButton: React.FC<TimeRangeButtonProps> = ({ active, onClick, children }) => (\n  <Button\n    variant={active ? \"default\" : \"ghost\"}\n    size=\"sm\"\n    onClick={onClick}\n    className={`transition-all ${active ? 'bg-blue-500 text-white hover:bg-blue-600' : 'hover:bg-gray-100'}`}\n  >\n    {children}\n  </Button>\n);\n\nconst IndexChart: React.FC<IndexChartProps> = ({ series1, series2 }) => {\n  const [timeRange, setTimeRange] = useState<TimeRange>('MAX');\n  const [showRecessions, setShowRecessions] = useState(true);\n  const [brushDomain, setBrushDomain] = useState<{ start: number; end: number } | null>(null);\n  const { theme } = useTheme();\n\n  const colors = {\n    series1: '#4299e1', // original blue\n    series2: '#f59e0b', // original amber\n  };\n\n  console.log('series1:', series1);\n  console.log('series2:', series2);\n\n  const recessionPeriods: RecessionPeriod[] = [\n    { start: \"1960-04-01\", end: \"1961-02-01\" },\n    { start: \"1969-12-01\", end: \"1970-11-01\" },\n    { start: \"1973-11-01\", end: \"1975-03-01\" },\n    { start: \"1980-01-01\", end: \"1980-07-01\" },\n    { start: \"1981-07-01\", end: \"1982-11-01\" },\n    { start: \"1990-07-01\", end: \"1991-03-01\" },\n    { start: \"2001-03-01\", end: \"2001-11-01\" },\n    { start: \"2007-12-01\", end: \"2009-06-01\" },\n    { start: \"2020-02-01\", end: \"2020-04-01\" }\n  ];\n\n  const formatSeriesData = (series: DataSeries) => {\n    return series.observations.map(obs => ({\n      date: obs.date,\n      value: parseFloat(obs.value)\n    }));\n  };\n\n  const filteredData = useMemo(() => {\n    const series1Data = formatSeriesData(series1);\n    const series2Data = formatSeriesData(series2);\n\n    if (!series1Data?.length || !series2Data?.length) return [];\n\n    const now = new Date();\n    let startDate: Date;\n\n    const ranges: Record<TimeRange, () => Date> = {\n      '1Y': () => new Date(now.getFullYear() - 1, now.getMonth(), now.getDate()),\n      '2Y': () => new Date(now.getFullYear() - 2, now.getMonth(), now.getDate()),\n      '5Y': () => new Date(now.getFullYear() - 5, now.getMonth(), now.getDate()),\n      'MAX': () => new Date(Math.max(+new Date(series1Data[0].date), +new Date(series2Data[0].date)))\n    };\n\n    startDate = ranges[timeRange]();\n    \n    const filteredSeries1 = series1Data.filter(item => new Date(item.date) >= startDate);\n    const filteredSeries2 = series2Data.filter(item => new Date(item.date) >= startDate);\n\n    if (!filteredSeries1.length || !filteredSeries2.length) return [];\n\n    const baseValueSeries1 = filteredSeries1[0].value;\n    const baseValueSeries2 = filteredSeries2[0].value;\n\n    const indexedSeries1 = filteredSeries1.map(item => ({\n      date: item.date,\n      value: ((item.value - baseValueSeries1) / baseValueSeries1) * 100,\n    }));\n\n    const indexedSeries2 = filteredSeries2.map(item => ({\n      date: item.date,\n      value: ((item.value - baseValueSeries2) / baseValueSeries2) * 100,\n    }));\n\n    return indexedSeries1.map((item, index) => ({\n      date: item.date,\n      [series1.title]: item.value,\n      [series2.title]: indexedSeries2[index] ? indexedSeries2[index].value : null,\n    }));\n  }, [series1, series2, timeRange]);\n\n  const timeRanges: TimeRange[] = ['1Y', '2Y', '5Y', 'MAX'];\n\n  const formatDate = (str: string): string => {\n    const date = new Date(str);\n    if (timeRange === 'MAX') {\n      return date.getFullYear().toString();\n    }\n    const month = date.toLocaleString('default', { month: 'short' });\n    const year = date.getFullYear();\n    return `${month} ${year}`;\n  };\n\n  const handleBrushChange = (domain: any) => {\n    if (domain && domain.startIndex !== undefined && domain.endIndex !== undefined) {\n      setBrushDomain({\n        start: domain.startIndex,\n        end: domain.endIndex\n      });\n    }\n  };\n\n  const CustomTooltip: React.FC<TooltipProps> = ({ active, payload, label }) => {\n    if (active && payload && payload.length && label) {\n      return (\n        <div className=\"bg-background p-4 rounded-lg shadow-lg border border-border\">\n          <p className=\"font-bold text-foreground\">{formatDate(label)}</p>\n          {payload.map((entry) => {\n            const color = entry.dataKey === series1.title ? colors.series1 : colors.series2;\n            return (\n              <div key={entry.dataKey} className=\"mt-1\">\n                <p className=\"text-sm text-muted-foreground flex items-center\">\n                  <span className=\"w-2 h-2 rounded-full mr-2\" style={{ backgroundColor: color }}></span>\n                  <span>{entry.dataKey}:</span>\n                  <span className=\"ml-1 font-medium\" style={{ color }}>\n                    {entry.value.toFixed(2)}%\n                  </span>\n                </p>\n              </div>\n            );\n          })}\n        </div>\n      );\n    }\n    return null;\n  };\n\n  return (\n    <div className=\"w-full bg-background shadow-lg rounded-lg border\">\n      <div className=\"pb-0 p-6\">\n        <div className=\"flex flex-col md:flex-row justify-between items-start space-y-4 md:space-y-0 md:space-x-4\">\n          <div>\n            <h3 className=\"text-2xl font-bold text-foreground\">\n              Index Chart\n            </h3>\n            <div className=\"text-gray-600 text-sm mt-2\">\n              {series1.title} vs {series2.title}\n            </div>\n          </div>\n          <div className=\"flex flex-wrap gap-2 items-center\">\n            <div className=\"flex space-x-2\">\n              {timeRanges.map((range) => (\n                <TimeRangeButton\n                  key={range}\n                  active={timeRange === range}\n                  onClick={() => setTimeRange(range)}\n                >\n                  {range}\n                </TimeRangeButton>\n              ))}\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"p-6 pt-0\">\n        <div className=\"h-[500px]\">\n          <ResponsiveContainer width=\"100%\" height=\"100%\">\n            <LineChart\n              data={filteredData}\n              margin={{ top: 30, right: 30, left: 0, bottom: 20 }}\n            >\n              <Legend \n                verticalAlign=\"top\"\n                align=\"left\"\n                height={36}\n                iconType=\"circle\"\n                wrapperStyle={{\n                  paddingBottom: '60px'\n                }}\n                formatter={(value) => (\n                  <span className=\"text-sm text-muted-foreground\">{value}</span>\n                )}\n              />\n              <CartesianGrid\n                strokeDasharray=\"3 3\"\n                className=\"stroke-muted\"\n                vertical={false}\n              />\n              <XAxis\n                dataKey=\"date\"\n                axisLine={false}\n                tickLine={false}\n                tickFormatter={formatDate}\n                tick={{ fill: theme === 'dark' ? '#9CA3AF' : '#6B7280', fontSize: 12 }}\n                dy={10}\n                minTickGap={5}\n                interval=\"preserveStartEnd\"\n              />\n              <YAxis\n                domain={['auto', 'auto']}\n                axisLine={false}\n                tickLine={false}\n                tickFormatter={(value) => `${value}%`}\n                tick={{ fill: theme === 'dark' ? '#9CA3AF' : '#6B7280', fontSize: 12 }}\n                width={60}\n                dx={-10}\n              />\n              <Tooltip content={<CustomTooltip />} />\n              {showRecessions && recessionPeriods.map((period, index) => (\n                <ReferenceArea\n                  key={index}\n                  x1={period.start}\n                  x2={period.end}\n                  className=\"fill-muted\"\n                  fillOpacity={0.4}\n                  alwaysShow={true}\n                  ifOverflow=\"visible\"\n                />\n              ))}\n              <Line\n                type=\"monotone\"\n                dataKey={series1.title}\n                stroke={colors.series1}\n                strokeWidth={2}\n                dot={false}\n                activeDot={{ r: 6, fill: colors.series1 }}\n              />\n              <Line\n                type=\"monotone\"\n                dataKey={series2.title}\n                stroke={colors.series2}\n                strokeWidth={2}\n                dot={false}\n                activeDot={{ r: 6, fill: colors.series2 }}\n              />\n              <Brush\n                dataKey=\"date\"\n                height={40}\n                stroke=\"#8884d8\"\n                tickFormatter={formatDate}\n                onChange={handleBrushChange}\n                startIndex={brushDomain?.start}\n                endIndex={brushDomain?.end}\n              >\n                <LineChart>\n                  <Line\n                    type=\"monotone\"\n                    dataKey={series1.title}\n                    stroke={colors.series1}\n                    strokeWidth={1}\n                    dot={false}\n                  />\n                  <Line\n                    type=\"monotone\"\n                    dataKey={series2.title}\n                    stroke={colors.series2}\n                    strokeWidth={1}\n                    dot={false}\n                  />\n                </LineChart>\n              </Brush>\n            </LineChart>\n          </ResponsiveContainer>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst SeriesComparison: React.FC<SeriesComparisonProps> = ({ \n  series1, \n  series2, \n  title = \"Series Comparison\",\n  description \n}) => {\n  return (\n    <div className=\"w-full max-w-7xl mx-auto p-4\">\n      <h2 className=\"text-2xl font-bold mb-4\">{title}</h2>\n      <IndexChart\n        series1={series1}\n        series2={series2}\n      />\n      {description && (\n        <div className=\"mt-4 text-sm text-gray-600\">\n          <p>{description}</p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default SeriesComparison;","'use client'\n\nimport React, { useState } from 'react';\nimport { Button } from '../ui/button';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, ReferenceArea, Legend, Brush } from 'recharts';\nimport { useTheme } from 'next-themes';\nimport { TooltipProps } from 'recharts';\nimport { NameType, ValueType } from 'recharts/types/component/DefaultTooltipContent';\n\ninterface TimeRangeButtonProps {\n  active: boolean;\n  onClick: () => void;\n  children: React.ReactNode;\n}\n\ninterface DataPoint {\n  date: string;\n  value: number;\n}\n\ninterface RecessionPeriod {\n  start: string;\n  end: string;\n}\n\ninterface DualAxisChartProps {\n  series1Data: DataPoint[];\n  series2Data: DataPoint[];\n  series1Name: string;\n  series2Name: string;\n  series1Unit?: string;\n  series2Unit?: string;\n  title?: string;\n  description?: string;\n}\n\ntype TimeRangeType = '1Y' | '2Y' | '5Y' | 'MAX';\n\nconst TimeRangeButton: React.FC<TimeRangeButtonProps> = ({ active, onClick, children }) => (\n  <Button\n    variant={active ? \"default\" : \"ghost\"}\n    size=\"sm\"\n    onClick={onClick}\n    className={`transition-all ${active ? 'bg-primary text-primary-foreground hover:bg-primary/90' : 'hover:bg-muted'}`}\n  >\n    {children}\n  </Button>\n);\n\nconst recessionPeriods: RecessionPeriod[] = [\n  { start: \"1960-04-01\", end: \"1961-02-01\" },\n  { start: \"1969-12-01\", end: \"1970-11-01\" },\n  { start: \"1973-11-01\", end: \"1975-03-01\" },\n  { start: \"1980-01-01\", end: \"1980-07-01\" },\n  { start: \"1981-07-01\", end: \"1982-11-01\" },\n  { start: \"1990-07-01\", end: \"1991-03-01\" },\n  { start: \"2001-03-01\", end: \"2001-11-01\" },\n  { start: \"2007-12-01\", end: \"2009-06-01\" },\n  { start: \"2020-02-01\", end: \"2020-04-01\" }\n];\n\nconst DualAxisChart: React.FC<DualAxisChartProps> = ({\n  series1Data,\n  series2Data,\n  series1Name,\n  series2Name,\n  series1Unit,\n  series2Unit,\n  title = \"Housing Market Indicators\",\n  description\n}) => {\n  const [timeRange, setTimeRange] = useState<TimeRangeType>('MAX');\n  const [showRecessions, setShowRecessions] = useState(true); // Added showRecessions state\n  const { theme } = useTheme();\n\n  const colors = {\n    series1: '#4299e1',\n    series2: '#f59e0b',\n    recession: theme === 'dark' ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)'\n  };\n\n  const filteredData = React.useMemo(() => {\n    if (!series1Data?.length || !series2Data?.length) return [];\n\n    const now = new Date();\n    let startDate;\n\n    const ranges: { [key in TimeRangeType]: () => Date } = {\n      '1Y': () => new Date(now.getFullYear() - 1, now.getMonth(), now.getDate()),\n      '2Y': () => new Date(now.getFullYear() - 2, now.getMonth(), now.getDate()),\n      '5Y': () => new Date(now.getFullYear() - 5, now.getMonth(), now.getDate()),\n      'MAX': () => new Date(Math.min(+new Date(series1Data[0].date), +new Date(series2Data[0].date)))\n    };\n\n    startDate = ranges[timeRange]();\n\n    const filteredSeries1 = series1Data.filter(item => new Date(item.date) >= startDate);\n    const filteredSeries2 = series2Data.filter(item => new Date(item.date) >= startDate);\n\n    const mergedData = [];\n    let i = 0, j = 0;\n\n    while (i < filteredSeries1.length && j < filteredSeries2.length) {\n      const date1 = new Date(filteredSeries1[i].date);\n      const date2 = new Date(filteredSeries2[j].date);\n\n      if (date1.getTime() === date2.getTime()) {\n        mergedData.push({\n          date: filteredSeries1[i].date,\n          [series1Name]: filteredSeries1[i].value,\n          [series2Name]: filteredSeries2[j].value,\n        });\n        i++;\n        j++;\n      } else if (date1 < date2) {\n        i++;\n      } else {\n        j++;\n      }\n    }\n\n    return mergedData;\n  }, [series1Data, series2Data, series1Name, series2Name, timeRange]);\n\n  const timeRanges: TimeRangeType[] = ['1Y', '2Y', '5Y', 'MAX'];\n\n  const formatDate = (str: string): string => {\n    const date = new Date(str);\n    if (timeRange === 'MAX') {\n      return date.getFullYear().toString();\n    }\n    const month = date.toLocaleString('default', { month: 'short' });\n    const year = date.getFullYear();\n    return `${month} ${year}`;\n  };\n\n  const CustomTooltip = ({\n    active,\n    payload,\n    label\n  }: TooltipProps<ValueType, NameType>) => {\n    if (active && payload && payload.length) {\n      return (\n        <div className=\"bg-background p-4 rounded-lg shadow-lg border border-border\">\n          <p className=\"font-bold text-foreground\">{formatDate(label || '')}</p>\n          {payload.map((entry) => (\n            <p\n              key={entry.dataKey}\n              className=\"text-sm text-muted-foreground flex items-center\"\n            >\n              <span className=\"w-2 h-2 rounded-full mr-2\" style={{ backgroundColor: entry.color }}></span>\n              <span>{entry.name}:</span>\n              <span className=\"ml-1 font-medium\" style={{ color: entry.color }}>\n                {typeof entry.value === 'number'\n                  ? `${entry.value.toFixed(1)} ${entry.name === series1Name ? series1Unit : series2Unit}`\n                  : 'N/A'}\n              </span>\n            </p>\n          ))}\n        </div>\n      );\n    }\n    return null;\n  };\n\n  const yAxis1Domain = React.useMemo(() => {\n    if (!filteredData.length) return [0, 0];\n    const values = filteredData.map(item => Number(item[series1Name])).filter((value): value is number =>\n      value !== undefined && !isNaN(value)\n    );\n    const min = Math.min(...values);\n    const max = Math.max(...values);\n    const margin = (max - min) * 0.1;\n    return [min - margin, max + margin];\n  }, [filteredData, series1Name]);\n\n  const yAxis2Domain = React.useMemo(() => {\n    if (!filteredData.length) return [0, 0];\n    const values = filteredData.map(item => Number(item[series2Name])).filter((value): value is number =>\n      value !== undefined && !isNaN(value)\n    );\n    const min = Math.min(...values);\n    const max = Math.max(...values);\n    const margin = (max - min) * 0.1;\n    return [min - margin, max + margin];\n  }, [filteredData, series2Name]);\n\n\n  return (\n    <div className=\"w-full bg-background shadow-lg rounded-lg border\">\n      <div className=\"flex flex-row items-center justify-between space-y-0 pb-2 p-6\">\n        <h3 className=\"text-base font-medium\">\n          {title}\n        </h3>\n        <div className=\"flex items-center space-x-2\">\n          {timeRanges.map((range) => (\n            <TimeRangeButton\n              key={range}\n              active={timeRange === range}\n              onClick={() => setTimeRange(range)}\n            >\n              {range}\n            </TimeRangeButton>\n          ))}\n        </div>\n      </div>\n\n      <div className=\"p-6 pt-0\">\n        {description && (\n          <p className=\"text-sm text-gray-600 mb-6\">{description}</p>\n        )}\n        <div className=\"h-96\">\n          <ResponsiveContainer width=\"100%\" height=\"100%\">\n            <LineChart\n              data={filteredData}\n              margin={{ top: 20, right: 30, left: 0, bottom: 0 }}\n            >\n              <CartesianGrid\n                strokeDasharray=\"3 3\"\n                className=\"stroke-muted\"\n                vertical={false}\n              />\n              <Legend\n                verticalAlign=\"top\"\n                align=\"left\"\n                height={36}\n                iconType=\"circle\"\n                formatter={(value) => (\n                  <span className=\"text-sm text-muted-foreground\">{value}</span>\n                )}\n              />\n              <Brush\n                dataKey=\"date\"\n                height={30}\n                stroke=\"#8884d8\"\n                fill=\"#fff\"\n                tickFormatter={formatDate}\n                travellerWidth={10}\n                startIndex={0}\n                endIndex={filteredData.length - 1}\n              >\n                <LineChart>\n                  <Line dataKey={series1Name} stroke={colors.series1} dot={false} />\n                  <Line dataKey={series2Name} stroke={colors.series2} dot={false} />\n                </LineChart>\n              </Brush>\n              <XAxis\n                dataKey=\"date\"\n                axisLine={false}\n                tickLine={false}\n                tickFormatter={formatDate}\n                tick={{ fill: theme === 'dark' ? '#9CA3AF' : '#6B7280', fontSize: 12 }}\n                dy={10}\n                minTickGap={5}\n                interval=\"preserveStartEnd\"\n              />\n              <YAxis\n                yAxisId=\"left\"\n                domain={yAxis1Domain}\n                orientation=\"left\"\n                axisLine={false}\n                tickLine={false}\n                tick={{ fill: theme === 'dark' ? '#9CA3AF' : '#6B7280', fontSize: 12 }}\n                width={60}\n                dx={-10}\n                label={{\n                  value: series1Unit,\n                  angle: -90,\n                  position: 'insideLeft',\n                  style: { fill: colors.series1, fontSize: 12 }\n                }}\n                tickFormatter={(value) => value.toFixed(1)}\n              />\n              <YAxis\n                yAxisId=\"right\"\n                domain={yAxis2Domain}\n                orientation=\"right\"\n                axisLine={false}\n                tickLine={false}\n                tick={{ fill: theme === 'dark' ? '#9CA3AF' : '#6B7280', fontSize: 12 }}\n                width={60}\n                dx={10}\n                label={{\n                  value: series2Unit,\n                  angle: 90,\n                  position: 'insideRight',\n                  style: { fill: colors.series2, fontSize: 12 }\n                }}\n                tickFormatter={(value) => value.toFixed(1)}\n              />\n              <Tooltip\n                content={(props: TooltipProps<ValueType, NameType>) => <CustomTooltip {...props} />}\n              />\n               {showRecessions && recessionPeriods.map((period, index) => (\n                <ReferenceArea\n                  key={index}\n                  x1={period.start}\n                  x2={period.end}\n                  className=\"fill-muted\"\n                  fillOpacity={0.4}\n                  alwaysShow={true}\n                  ifOverflow=\"visible\"\n                />\n              ))}\n\n              <Line\n                yAxisId=\"left\"\n                type=\"monotone\"\n                dataKey={series1Name}\n                stroke={colors.series1}\n                strokeWidth={2}\n                dot={false}\n                activeDot={{ r: 6, fill: colors.series1 }}\n              />        \n              <Line\n                yAxisId=\"right\"\n                type=\"monotone\"\n                dataKey={series2Name}\n                stroke={colors.series2}\n                strokeWidth={2}\n                dot={false}\n                activeDot={{ r: 6, fill: colors.series2 }}\n              />\n            </LineChart>\n          </ResponsiveContainer>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default DualAxisChart;\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\n\nimport { cn } from \"../lib/utils\"\n\nfunction Label({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  return (\n    <LabelPrimitive.Root\n      data-slot=\"label\"\n      className={cn(\n        \"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Label }\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as SwitchPrimitive from \"@radix-ui/react-switch\"\n\nimport { cn } from \"../lib/utils\"\n\nfunction Switch({\n  className,\n  ...props\n}: React.ComponentProps<typeof SwitchPrimitive.Root>) {\n  return (\n    <SwitchPrimitive.Root\n      data-slot=\"switch\"\n      className={cn(\n        \"peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <SwitchPrimitive.Thumb\n        data-slot=\"switch-thumb\"\n        className={cn(\n          \"bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0\"\n        )}\n      />\n    </SwitchPrimitive.Root>\n  )\n}\n\nexport { Switch }\n","\"use client\";\n\nimport React, { useState, useEffect } from 'react';\nimport {\n    LineChart,\n    Line,\n    XAxis,\n    YAxis,\n    CartesianGrid,\n    Tooltip,\n    Legend,\n    ResponsiveContainer,\n    ErrorBar,\n    ReferenceArea,\n    Text // Ensure Text is imported\n} from 'recharts';\nimport { Label } from \"../ui/label\"; // Assuming shadcn/ui Label\nimport { Switch } from \"../ui/switch\"; // Assuming shadcn/ui Switch\n\n// --- Type Definitions ---\ninterface DataPoint {\n    year: string | number | null; // Allow null after processing\n    value: number | null;         // Allow null for connectNulls\n    ci_lower?: number;\n    ci_upper?: number;\n    n_actual?: number;\n    standard_error?: number;\n    [key: string]: any;           // For dynamic demographic field\n}\n\n// Interface for individual items within the recharts Tooltip payload array\ninterface TooltipPayloadItem {\n    name: string;                 // Name of the data series (e.g., demographic group)\n    value: number | null;         // The y-value of the data point (can be null)\n    color: string;                // Color of the line/series\n    payload: DataPoint;           // The original data object for this point\n    dataKey: string;              // The key used to access the value (e.g., \"value\")\n    stroke?: string;\n    fill?: string;\n}\n\ninterface DataPointMetadataItem {\n    id: string;\n    categories?: string[];\n    value_prefix?: string | object; // Allow object type for the check\n    value_suffix?: string | object; // Allow object type for the check\n    [key: string]: any;\n}\n\ninterface ChartData {\n    metadata: {\n        title: string;\n        subtitle?: string;\n        question?: string;\n        source?: { name: string; id?: string; };\n        observations?: number;      // Added for source display\n        [key: string]: any;\n    };\n    dataPoints: DataPoint[];\n    dataPointMetadata: DataPointMetadataItem[];\n}\n\ninterface TimeTrendDemoChartProps {\n    data: ChartData;\n    demographicGroups: string[];\n    demographic: string;\n    defaultVisibleGroups?: string[];  // Optional: specify which groups are visible initially\n}\n\n// --- Constants ---\nconst COLORS = ['#2196f3', '#f44336', '#4caf50', '#ff9800', '#9c27b0', '#795548', '#607d8b'];\n// Full list of plotbands\nconst presidentialTerms = [\n    { start: 1971, end: 1976, party: \"Republican\", president: \"Nixon/Ford\" },\n    { start: 1976, end: 1980, party: \"Democrat\", president: \"Carter\" },\n    { start: 1980, end: 1992, party: \"Republican\", president: \"Reagan/Bush\" },\n    { start: 1992, end: 2000, party: \"Democrat\", president: \"Clinton\" },\n    { start: 2000, end: 2008, party: \"Republican\", president: \"Bush\" }, // Simplified name\n    { start: 2008, end: 2016, party: \"Democrat\", president: \"Obama\" },\n    { start: 2016, end: 2020, party: \"Republican\", president: \"Trump\" },\n    { start: 2020, end: 2024, party: \"Democrat\", president: \"Biden\" }, // Adjust end year if needed\n];\n\n// --- Helper Functions ---\n\n/**\n * Generates an array of tick values at a regular interval within a given range.\n */\nconst generateTicks = (start: number, end: number, interval: number): number[] => {\n    const ticks: number[] = [];\n    const firstTick = Math.ceil(start / interval) * interval;\n    for (let i = firstTick; i <= end; i += interval) {\n        if (i <= end) { ticks.push(i); }\n    }\n    return ticks;\n};\n\n/**\n * Processes a raw data point, parsing the year to a number or null,\n * and ensuring the value is a valid number or null.\n */\nconst processDataPoint = (d: DataPoint): DataPoint & { year: number | null } => {\n    const yearNum = parseInt(String(d.year), 10);\n    const valueNum = typeof d.value === 'number' ? d.value : parseFloat(String(d.value));\n    return {\n        ...d,\n        year: isNaN(yearNum) ? null : yearNum,\n        value: typeof valueNum === 'number' && !isNaN(valueNum) ? valueNum : null\n    };\n};\n\n\n// --- Component ---\nexport default function TimeTrendDemoChart({\n    data, demographicGroups, demographic, defaultVisibleGroups\n}: TimeTrendDemoChartProps) {\n    const [visibleGroups, setVisibleGroups] = useState<Set<string>>(\n        new Set(defaultVisibleGroups || demographicGroups)\n    );\n    const [showCI, setShowCI] = useState(false);\n\n    // Effect to update visible groups when props change\n    useEffect(() => {\n        setVisibleGroups(new Set(defaultVisibleGroups || demographicGroups));\n    }, [demographicGroups, defaultVisibleGroups]);\n\n    // --- Data Validation ---\n    if (!data || !data.dataPoints || !Array.isArray(data.dataPoints) || data.dataPoints.length === 0) {\n        return <div className=\"p-4 text-center text-gray-500\">No data available to display chart.</div>;\n    }\n\n    // --- Data Processing & Axis Calculations ---\n    const processedDataPoints = data.dataPoints.map(processDataPoint);\n    const allValidYearsNumeric = processedDataPoints.map(d => d.year).filter((year): year is number => year !== null);\n\n    if (allValidYearsNumeric.length === 0) {\n        return <div className=\"p-4 text-center text-gray-500\">Data contains no valid years.</div>;\n    }\n\n    const minYearInData = Math.min(...allValidYearsNumeric);\n    const maxYearInData = Math.max(...allValidYearsNumeric);\n\n    // Filter Plotbands to match the data's range\n    const relevantPresidentialTerms = presidentialTerms.filter(term =>\n        term.end >= minYearInData && term.start <= maxYearInData\n    );\n    const firstRelevantBandStart = relevantPresidentialTerms.length > 0\n        ? Math.min(...relevantPresidentialTerms.map(t => t.start)) : minYearInData;\n    const xAxisMin = Math.min(firstRelevantBandStart, minYearInData);\n    const xAxisMax = maxYearInData;\n    const xTickInterval = 5;\n    const xAxisTicks = generateTicks(xAxisMin, xAxisMax, xTickInterval);\n\n    // Group data\n    const groupedData = demographicGroups.map(group => {\n        const groupData = processedDataPoints\n            .filter(d => d[demographic] === group && d.year !== null)\n            .map(d => d as DataPoint & { year: number })\n            .sort((a, b) => a.year - b.year);\n        return { name: group, data: groupData };\n    });\n    const hasCIData = groupedData.some(g =>\n        g.data.some(d => d.standard_error !== undefined || (d.ci_lower !== undefined && d.ci_upper !== undefined))\n    );\n\n    // --- Refined Y-Axis Domain Calculation ---\n    const getVisibleBounds = (): { min: number; max: number } => {\n        let overallMin = Infinity;\n        let overallMax = -Infinity;\n        let hasVisibleData = false;\n\n        groupedData\n            .filter(group => visibleGroups.has(group.name))\n            .forEach(group => {\n                group.data.forEach(point => {\n                    if (point.value === null) return;\n                    hasVisibleData = true;\n                    let currentMin = point.value;\n                    let currentMax = point.value;\n\n                    if (showCI) {\n                        if (point.ci_lower !== undefined && point.ci_lower !== null) { currentMin = point.ci_lower; }\n                        else if (typeof point.standard_error === 'number' && !isNaN(point.standard_error)) { currentMin = point.value - 1.96 * point.standard_error; }\n                        if (point.ci_upper !== undefined && point.ci_upper !== null) { currentMax = point.ci_upper; }\n                        else if (typeof point.standard_error === 'number' && !isNaN(point.standard_error)) { currentMax = point.value + 1.96 * point.standard_error; }\n                    }\n\n                    if (typeof currentMin === 'number' && !isNaN(currentMin)) { overallMin = Math.min(overallMin, currentMin); }\n                    if (typeof currentMax === 'number' && !isNaN(currentMax)) { overallMax = Math.max(overallMax, currentMax); }\n                });\n            });\n\n        return hasVisibleData && isFinite(overallMin) && isFinite(overallMax)\n            ? { min: overallMin, max: overallMax } : { min: 0, max: 100 };\n    };\n\n    const { min: effectiveMin, max: effectiveMax } = getVisibleBounds();\n    let yDomain: [number, number] = [0, 100]; // Default Y domain\n\n    if (isFinite(effectiveMin) && isFinite(effectiveMax)) {\n        const dataRange = effectiveMax - effectiveMin;\n        const buffer = Math.max(5, dataRange * 0.15);\n        const lowerBound = effectiveMin - buffer;\n        const upperBound = effectiveMax + buffer;\n        const finalMin = Math.max(0, lowerBound);\n        const finalMax = Math.min(100, upperBound);\n        const minRange = 10;\n\n        if (finalMin >= finalMax) {\n             const centerValue = Math.min(100, Math.max(0, (effectiveMin + effectiveMax) / 2));\n             yDomain = [Math.max(0, Math.floor((centerValue - minRange / 2) / 5) * 5), Math.min(100, Math.ceil((centerValue + minRange / 2) / 5) * 5)];\n             if (yDomain[0] >= yDomain[1]) { yDomain = [Math.max(0, finalMin - 5), Math.min(100, finalMax + 5)]; }\n        } else if (finalMax - finalMin < minRange) {\n             const midPoint = (finalMin + finalMax) / 2;\n             yDomain = [Math.max(0, Math.floor((midPoint - minRange / 2) / 5) * 5), Math.min(100, Math.ceil((midPoint + minRange / 2) / 5) * 5)];\n             if (yDomain[0] >= yDomain[1]) {\n                 yDomain = [Math.max(0, finalMin - buffer), Math.min(100, finalMax + buffer)];\n                 if(yDomain[0] >= yDomain[1]) yDomain = [Math.max(0, finalMin - 5), Math.min(100, finalMax + 5)];\n             }\n        } else {\n            yDomain = [finalMin, finalMax];\n        }\n    }\n\n    // --- Event Handlers & Formatters ---\n    const handleLegendClick = (entry: { value: string }) => {\n        setVisibleGroups(prev => {\n            const newSet = new Set(prev);\n            if (newSet.has(entry.value)) {\n                newSet.delete(entry.value);\n            } else {\n                newSet.add(entry.value);\n            }\n            return newSet;\n        });\n    };\n\n    const yAxisTickFormatter = (value: number | string): string => {\n        const metadata = data.dataPointMetadata.find(d => d.id === 'value');\n        const prefixValue = metadata?.value_prefix;\n        const suffixValue = metadata?.value_suffix;\n        const prefix = (prefixValue && (typeof prefixValue !== 'object' || Object.keys(prefixValue).length > 0)) ? String(prefixValue) : '';\n        const suffix = (suffixValue && (typeof suffixValue !== 'object' || Object.keys(suffixValue).length > 0)) ? String(suffixValue) : '%';\n        const num = Number(value);\n        if (isNaN(num)) return String(value);\n        const formattedValue = num.toLocaleString(undefined, { minimumFractionDigits: 0, maximumFractionDigits: 0 });\n        return `${prefix}${formattedValue}${suffix}`;\n    };\n\n    const CustomTooltip = ({ active, payload, label }: { active?: boolean; payload?: TooltipPayloadItem[]; label?: string | number }) => {\n        if (!active || !payload || payload.length === 0 || label === undefined) return null;\n        const visiblePayload = payload.filter(series => visibleGroups.has(series.name));\n        if (visiblePayload.length === 0) return null;\n        const valueMetadata = data.dataPointMetadata.find(m => m.id === 'value');\n        const suffix = (typeof valueMetadata?.value_suffix === 'string') ? valueMetadata.value_suffix : '%';\n        const prefix = (typeof valueMetadata?.value_prefix === 'string') ? valueMetadata.value_prefix : '';\n\n        return (\n            <div className=\"bg-white p-3 border border-gray-300 shadow-lg rounded-md text-sm max-w-xs\">\n                <p className=\"font-semibold mb-2 text-gray-700\">{`Year: ${label}`}</p>\n                {visiblePayload.map((series) => {\n                    const colorIndex = demographicGroups.indexOf(series.name);\n                    const color = colorIndex !== -1 ? COLORS[colorIndex % COLORS.length] : series.color || '#8884d8';\n                    const pointData = series.payload;\n                    return (\n                        <div key={series.name} className=\"mb-1.5 last:mb-0\">\n                            <p className=\"font-medium\" style={{ color: color }}>{series.name}</p>\n                            <p className=\"text-gray-600\" style={{ color: color }}>\n                                {`Value: ${series.value != null ? `${prefix}${series.value.toFixed(1)}${suffix}` : 'N/A'}`}\n                            </p>\n                            {pointData?.ci_lower !== undefined && pointData?.ci_upper !== undefined && (\n                                <p className=\"text-gray-500 text-xs\">\n                                    {`95% CI: [${pointData.ci_lower.toFixed(1)}%, ${pointData.ci_upper.toFixed(1)}%]`}\n                                </p>\n                            )}\n                            {pointData?.n_actual && (\n                                <p className=\"text-gray-500 text-xs\">\n                                    {`N: ${pointData.n_actual.toLocaleString()}`}\n                                </p>\n                            )}\n                        </div>\n                    );\n                })}\n            </div>\n        );\n    };\n\n\n    // --- Render Chart ---\n    return (\n        <div className=\"w-full bg-white p-4 md:p-6 rounded-lg shadow\">\n            {/* Header */}\n            <div className=\"mb-4\">\n                <h2 className=\"text-xl font-semibold text-gray-800\">{data.metadata.title}</h2>\n                {data.metadata.subtitle && <p className=\"text-sm text-gray-600 mt-1\">{data.metadata.subtitle}</p>}\n                {data.metadata.question && <p className=\"text-sm text-gray-500 italic mt-1\">{data.metadata.question}</p>}\n            </div>\n\n            {/* Chart Container */}\n            <div className=\"h-[450px] md:h-[500px] w-full\">\n                <ResponsiveContainer width=\"100%\" height=\"100%\">\n                    <LineChart\n                        key={`${demographic}-${showCI}`} // Add showCI to key for re-render on toggle\n                        margin={{ top: 20, right: 20, left: 10, bottom: 5 }} // Increased top margin for labels\n                    >\n                        {/* Render *Filtered* Plotbands */}\n                        {relevantPresidentialTerms.map((term, index) => (\n                            <ReferenceArea key={`term-bg-${index}`} x1={term.start} x2={term.end} yAxisId=\"left\"\n                                fill={term.party === \"Democrat\" ? \"rgba(230, 240, 255, 0.5)\" : \"rgba(255, 235, 238, 0.5)\"}\n                                ifOverflow=\"visible\" shapeRendering=\"crispEdges\" />\n                        ))}\n\n                        {/* Grid */}\n                        <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e0e0e0\" vertical={false} />\n\n                        {/* X Axis - With Explicit EVENLY SPACED Ticks */}\n                        <XAxis\n                            dataKey=\"year\" type=\"number\"\n                            domain={[xAxisMin, xAxisMax]} // Domain still determines range\n                            allowDataOverflow={true}\n                            ticks={xAxisTicks} // Use the generated ticks array\n                            tick={{ fontSize: 11, fill: '#666' }}\n                            padding={{ left: 10, right: 10 }}\n                            tickFormatter={(year) => String(year)} // Format numeric tick value as year string\n                            interval={0} // Ensure all specified ticks are attempted\n                            axisLine={{ stroke: '#ccc' }}\n                            tickLine={{ stroke: '#ccc' }}\n                        />\n\n                        {/* Y Axis - Using Refined Calculated Domain */}\n                        <YAxis\n                            yAxisId=\"left\"\n                            tickFormatter={yAxisTickFormatter}\n                            domain={yDomain} // Use the refined yDomain\n                            allowDataOverflow={false} // Prevent data spilling beyond calculated domain\n                            axisLine={false} tickLine={false}\n                            tick={{ fontSize: 11, fill: '#666' }}\n                            width={50} // Adjust based on label size if needed\n                        />\n\n                        {/* Tooltip */}\n                        <Tooltip content={<CustomTooltip />} cursor={{ stroke: '#a0a0a0', strokeWidth: 1, strokeDasharray: '3 3' }} />\n\n                        {/* Legend */}\n                        <Legend verticalAlign=\"bottom\" align=\"center\" height={40} onClick={handleLegendClick}\n                            iconSize={10} wrapperStyle={{ paddingTop: '10px' }}\n                            formatter={(value) => {\n                                const isVisible = visibleGroups.has(value);\n                                // const colorIndex = demographicGroups.indexOf(value); // Color not needed for style here\n                                return (<span style={{ color: isVisible ? '#333' : '#aaa', cursor: 'pointer', marginLeft: '4px', fontSize: '12px' }}>{value}</span>);\n                            }} />\n\n                        {/* Data Lines */}\n                        {groupedData.map((group) => {\n                            const colorIndex = demographicGroups.indexOf(group.name);\n                            const color = colorIndex !== -1 ? COLORS[colorIndex % COLORS.length] : '#8884d8';\n                            return (\n                                <Line\n                                    key={group.name} yAxisId=\"left\" type=\"linear\"\n                                    data={group.data} // Contains only points with valid numeric years\n                                    dataKey=\"value\" name={group.name} stroke={color} strokeWidth={2}\n                                    dot={{ r: 3, fill: color, strokeWidth: 1, stroke: 'white' }}\n                                    activeDot={{ r: 5, strokeWidth: 1, stroke: 'white' }}\n                                    hide={!visibleGroups.has(group.name)}\n                                    connectNulls={true} // connect line across null/missing data points\n                                    isAnimationActive={false} // Optional: disable animation for performance\n                                >\n                                    {showCI && hasCIData && (\n                                        <ErrorBar\n                                            // Symmetric error based on standard error (check for valid number)\n                                            dataKey={(d: DataPoint) => (typeof d.standard_error === 'number' && !isNaN(d.standard_error)) ? (1.96 * d.standard_error) : 0}\n                                            width={4} strokeWidth={1.5} stroke={color}\n                                            opacity={0.35} direction=\"y\"\n                                        />\n                                    )}\n                                </Line>\n                            );\n                        })}\n\n                        {/* **President Labels (Added Here)** */}\n                        {relevantPresidentialTerms.map((term, index) => (\n                            <Text\n                                key={`term-label-${index}`}\n                                x={(term.start + term.end) / 2} // Center horizontally in the band\n                                // Position near the top using the calculated Y domain's upper bound\n                                // Adjust the '- N' offset as needed for desired vertical spacing below the top edge\n                                // Ensure yDomain[1] is a number before subtracting\n                                y={typeof yDomain[1] === 'number' ? yDomain[1] - 3 : 97} // Default to 97 if domain isn't ready?\n                                textAnchor=\"middle\"     // Center text horizontally\n                                verticalAnchor=\"start\"  // Align top of text with 'y' coordinate\n                                fill=\"#6b7280\"          // Slightly muted text color (Tailwind gray-500)\n                                fontSize={10}\n                                // Optional: Add className for CSS styling\n                                // className=\"president-label\"\n                            >\n                                {term.president}\n                            </Text>\n                        ))}\n\n                    </LineChart>\n                </ResponsiveContainer>\n            </div>\n\n            {/* Footer Controls/Info */}\n            <div className=\"flex flex-col sm:flex-row justify-between items-center mt-3 sm:mt-1 pt-2 border-t border-gray-200\">\n                {/* Source Text (Left Aligned) */}\n                <div className=\"text-xs text-gray-500 text-left order-1 sm:order-none\">\n                    Source: {data.metadata.source?.name || 'Not specified'}\n                    {data.metadata.observations && ` (${data.metadata.observations.toLocaleString()} Observations)`}\n                </div>\n\n                {/* CI Toggle (Right Aligned) */}\n                <div className=\"flex items-center space-x-2 order-2 sm:order-none\">\n                    <Switch\n                        id=\"show-ci\" checked={showCI} onCheckedChange={setShowCI}\n                        disabled={!hasCIData}\n                    />\n                    <Label htmlFor=\"show-ci\" className={`text-xs ${!hasCIData ? 'text-gray-400' : 'text-gray-600'}`}>\n                        Show 95% CI\n                    </Label>\n                </div>\n            </div>\n        </div>\n    );\n}","\"use client\"\n\nimport * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"../lib/utils\"\n\nfunction Tabs({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Root>) {\n  return (\n    <TabsPrimitive.Root\n      data-slot=\"tabs\"\n      className={cn(\"flex flex-col gap-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction TabsList({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.List>) {\n  return (\n    <TabsPrimitive.List\n      data-slot=\"tabs-list\"\n      className={cn(\n        \"bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TabsTrigger({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Trigger>) {\n  return (\n    <TabsPrimitive.Trigger\n      data-slot=\"tabs-trigger\"\n      className={cn(\n        \"data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TabsContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Content>) {\n  return (\n    <TabsPrimitive.Content\n      data-slot=\"tabs-content\"\n      className={cn(\"flex-1 outline-none\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n","'use client';\n\nimport React, { useState } from 'react';\nimport {\n    Line,\n    LineChart,\n    CartesianGrid,\n    XAxis,\n    YAxis,\n    Tooltip,\n    ErrorBar,\n} from 'recharts';\nimport {\n    Users,\n    GraduationCap,\n    UserCircle2,\n    DollarSign,\n    Palette,\n    LucideIcon,\n} from 'lucide-react';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '../ui/tabs';\n\ninterface DataPoint {\n    break_out: string;\n    value: number;\n    confidence_limit_low: number;\n    confidence_limit_high: number;\n    error: [number, number];\n    break_out_category: string;\n    [key: string]: any;\n}\n\ninterface DemographicLineChartProps {\n    data: Record<string, any>;\n    ylabel?: string;\n}\n\nconst domains = {\n    'Age Group': ['18-24', '25-34', '35-44', '45-54', '55-64', '65+'],\n    'Education Attained': [\n        'Less than H.S.',\n        'H.S. or G.E.D.',\n        'Some post-H.S.',\n        'College graduate',\n    ],\n    'Household Income': [\n        'Less than $15,000',\n        '$15,000-$24,999',\n        '$25,000-$34,999',\n        '$35,000-$49,999',\n        '$50,000-$99,999',\n        '$100,000-$199,999',\n        '$200,000+',\n    ],\n    'Race/Ethnicity': [\n        'White, non-Hispanic',\n        'Black, non-Hispanic',\n        'Asian, non-Hispanic',\n        'Hispanic',\n    ],\n    Gender: ['Female', 'Male'],\n};\n\ninterface CategoryInfo {\n    icon: LucideIcon;\n    color: string;\n}\n\nconst categoryReference: Record<string, CategoryInfo> = {\n    'Age Group': { icon: Users, color: 'text-blue-500' },\n    'Education Attained': { icon: GraduationCap, color: 'text-green-500' },\n    Gender: { icon: UserCircle2, color: 'text-purple-500' },\n    'Household Income': { icon: DollarSign, color: 'text-yellow-500' },\n    'Race/Ethnicity': { icon: Palette, color: 'text-red-500' },\n};\n\nconst defaultCategoryInfo: CategoryInfo = {\n    icon: Users,\n    color: 'text-gray-500',\n};\n\nfunction getCategoryInfo(category: string): CategoryInfo {\n    return categoryReference[category] || defaultCategoryInfo;\n}\n\ninterface DemographicCategory extends CategoryInfo {\n    key: string;\n    data: DataPoint[];\n}\n\nexport default function DemographicLineChart({\n    data,\n    ylabel = 'Value (%)',\n}: DemographicLineChartProps) {\n    const [activeTab, setActiveTab] = useState<string | null>(null);\n    const [demographicCategories, setDemographicCategories] = useState<DemographicCategory[]>([]);\n\n    React.useEffect(() => {\n        if (!data || typeof data !== 'object') return;\n\n        const categories = Object.entries(data)\n            .filter(\n                ([_, categoryData]) =>\n                    categoryData &&\n                    typeof categoryData === 'object' &&\n                    Object.values(categoryData).some((value) => value !== null)\n            )\n            .map(([key, categoryData]) => ({\n                key,\n                ...getCategoryInfo(key),\n                data: Object.entries(categoryData as Record<string, any>)\n                    .map(([breakOut, details]: [string, any]) => ({\n                        break_out: breakOut,\n                        ...details,\n                        error: [\n                            details.value - details.confidence_limit_low,\n                            details.confidence_limit_high - details.value,\n                        ],\n                        break_out_category: key,\n                    }))\n                    .sort((a, b) => {\n                        const order = domains[key as keyof typeof domains];\n                        if (!order) return 0;\n                        const indexA = order.indexOf(a.break_out);\n                        const indexB = order.indexOf(b.break_out);\n                        return indexA - indexB;\n                    }),\n            }));\n\n        setDemographicCategories(categories);\n        if (categories.length > 0 && !activeTab) {\n            setActiveTab(categories[0].key);\n        }\n    }, [data, activeTab]);\n\n    if (demographicCategories.length === 0) {\n        return (\n            <div className=\"border rounded-lg p-6\">\n                <div>\n                    <p className=\"text-gray-600\">No demographic data available</p>\n                </div>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"border rounded-lg p-6\">\n            <div className=\"mb-4\">\n                <h3 className=\"text-lg font-semibold flex items-center gap-2\">\n                    <Users className=\"w-5 h-5\" />\n                    Demographic Line Chart with Error Bars\n                </h3>\n            </div>\n            <div>\n                <Tabs value={activeTab || undefined} onValueChange={setActiveTab}>\n                    <TabsList className=\"grid w-full\" style={{ gridTemplateColumns: `repeat(${demographicCategories.length}, 1fr)` }}>\n                        {demographicCategories.map((category) => {\n                            const Icon = category.icon;\n                            return (\n                                <TabsTrigger key={category.key} value={category.key}>\n                                    <Icon className={`w-4 h-4 mr-2 ${category.color}`} />\n                                    {category.key}\n                                </TabsTrigger>\n                            );\n                        })}\n                    </TabsList>\n\n                    {demographicCategories.map((category) => (\n                        <TabsContent key={category.key} value={category.key} className=\"space-y-4\">\n                            <div className=\"flex justify-center mt-4\">\n                                <LineChart\n                                    width={600}\n                                    height={400}\n                                    data={category.data}\n                                    margin={{ top: 20, right: 30, left: 20, bottom: 25 }}\n                                    className=\"w-full h-full\"\n                                >\n                                    <CartesianGrid strokeDasharray=\"3 3\" />\n                                    <XAxis\n                                        dataKey=\"break_out\"\n                                        label={{\n                                            value: category.data[0]?.break_out_category || '',\n                                            position: 'insideBottom',\n                                            offset: -10,\n                                        }}\n                                        interval={0}\n                                        tick={{\n                                            fill: 'hsl(var(--foreground))',\n                                            fontSize: 10,\n                                            textAnchor: 'end',\n                                            dy: 10,\n                                        }}\n                                        height={80}\n                                        padding={{ left: 30, right: 30 }}\n                                    />\n                                    <YAxis\n                                        label={{\n                                            value: ylabel,\n                                            angle: -90,\n                                            position: 'insideLeft',\n                                            offset: 0,\n                                            style: { textAnchor: 'middle' },\n                                        }}\n                                        tick={{ fill: 'hsl(var(--foreground))' }}\n                                    />\n                                    <Tooltip\n                                        contentStyle={{\n                                            backgroundColor: 'hsl(var(--background))',\n                                            border: '1px solid hsl(var(--border))',\n                                        }}\n                                    />\n                                    <Line\n                                        dataKey=\"value\"\n                                        stroke='hsl(var(--foreground))'\n                                        isAnimationActive={false}\n                                        dot={true}\n                                    >\n                                        <ErrorBar\n                                            dataKey=\"error\"\n                                            width={4}\n                                            strokeWidth={2}\n                                            stroke=\"grey\"\n                                        />\n                                    </Line>\n                                </LineChart>\n                            </div>\n\n                            <p className=\"text-sm text-gray-600 text-center\">\n                                Error bars represent 95% confidence intervals\n                            </p>\n                        </TabsContent>\n                    ))}\n                </Tabs>\n            </div>\n        </div>\n    );\n}\n","'use client';\n\nimport React, { useState } from 'react';\nimport {\n    ScatterChart,\n    Scatter,\n    CartesianGrid,\n    XAxis,\n    YAxis,\n    Tooltip,\n    ErrorBar,\n} from 'recharts';\nimport {\n    Users,\n    GraduationCap,\n    UserCircle2,\n    DollarSign,\n    Palette,\n    LucideIcon,\n} from 'lucide-react';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '../ui/tabs';\n\ninterface DataPoint {\n    break_out: string;\n    value: number;\n    confidence_limit_low: number;\n    confidence_limit_high: number;\n    error: [number, number];\n    break_out_category: string;\n    [key: string]: any;\n}\n\ninterface DemographicDotPlotProps {\n    data: Record<string, any>;\n    ylabel?: string;\n}\n\nconst domains = {\n    'Age Group': ['18-24', '25-34', '35-44', '45-54', '55-64', '65+'],\n    'Education Attained': [\n        'Less than H.S.',\n        'H.S. or G.E.D.',\n        'Some post-H.S.',\n        'College graduate',\n    ],\n    'Household Income': [\n        'Less than $15,000',\n        '$15,000-$24,999',\n        '$25,000-$34,999',\n        '$35,000-$49,999',\n        '$50,000-$99,999',\n        '$100,000-$199,999',\n        '$200,000+',\n    ],\n    'Race/Ethnicity': [\n        'White, non-Hispanic',\n        'Black, non-Hispanic',\n        'Asian, non-Hispanic',\n        'Hispanic',\n    ],\n    Gender: ['Female', 'Male'],\n};\n\ninterface CategoryInfo {\n    icon: LucideIcon;\n    color: string;\n}\n\nconst categoryReference: Record<string, CategoryInfo> = {\n    'Age Group': { icon: Users, color: 'text-blue-500' },\n    'Education Attained': { icon: GraduationCap, color: 'text-green-500' },\n    Gender: { icon: UserCircle2, color: 'text-purple-500' },\n    'Household Income': { icon: DollarSign, color: 'text-yellow-500' },\n    'Race/Ethnicity': { icon: Palette, color: 'text-red-500' },\n};\n\nconst defaultCategoryInfo: CategoryInfo = {\n    icon: Users,\n    color: 'text-gray-500',\n};\n\nfunction getCategoryInfo(category: string): CategoryInfo {\n    return categoryReference[category] || defaultCategoryInfo;\n}\n\ninterface DemographicCategory extends CategoryInfo {\n    key: string;\n    data: DataPoint[];\n}\n\nexport default function DemographicDotPlot({\n    data,\n    ylabel = 'Value (%)',\n}: DemographicDotPlotProps) {\n    const [activeTab, setActiveTab] = useState<string | null>(null);\n    const [demographicCategories, setDemographicCategories] = useState<DemographicCategory[]>([]);\n\n    React.useEffect(() => {\n        if (!data || typeof data !== 'object') return;\n\n        const categories = Object.entries(data)\n            .filter(\n                ([_, categoryData]) =>\n                    categoryData &&\n                    typeof categoryData === 'object' &&\n                    Object.values(categoryData).some((value) => value !== null)\n            )\n            .map(([key, categoryData]) => ({\n                key,\n                ...getCategoryInfo(key),\n                data: Object.entries(categoryData as Record<string, any>)\n                    .map(([breakOut, details]: [string, any]) => ({\n                        break_out: breakOut,\n                        ...details,\n                        error: [\n                            details.value - details.confidence_limit_low,\n                            details.confidence_limit_high - details.value,\n                        ],\n                        break_out_category: key,\n                    }))\n                    .sort((a, b) => {\n                        const order = domains[key as keyof typeof domains];\n                        if (!order) return 0;\n                        const indexA = order.indexOf(a.break_out);\n                        const indexB = order.indexOf(b.break_out);\n                        return indexA - indexB;\n                    }),\n            }));\n\n        setDemographicCategories(categories);\n        if (categories.length > 0 && !activeTab) {\n            setActiveTab(categories[0].key);\n        }\n    }, [data, activeTab]);\n\n    if (demographicCategories.length === 0) {\n        return (\n            <div className=\"border rounded-lg p-6\">\n                <div>\n                    <p className=\"text-gray-600\">No demographic data available</p>\n                </div>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"border rounded-lg p-6\">\n            <div className=\"mb-4\">\n                <h3 className=\"text-lg font-semibold flex items-center gap-2\">\n                    <Users className=\"w-5 h-5\" />\n                    Demographic Dot Plot with Error Bars\n                </h3>\n            </div>\n            <div>\n                <Tabs value={activeTab || undefined} onValueChange={setActiveTab}>\n                    <TabsList className=\"grid w-full\" style={{ gridTemplateColumns: `repeat(${demographicCategories.length}, 1fr)` }}>\n                        {demographicCategories.map((category) => {\n                            const Icon = category.icon;\n                            return (\n                                <TabsTrigger key={category.key} value={category.key}>\n                                    <Icon className={`w-4 h-4 mr-2 ${category.color}`} />\n                                    {category.key}\n                                </TabsTrigger>\n                            );\n                        })}\n                    </TabsList>\n\n                    {demographicCategories.map((category) => (\n                        <TabsContent key={category.key} value={category.key} className=\"space-y-4\">\n                            <div className=\"flex justify-center mt-4\">\n                                <ScatterChart\n                                    width={600}\n                                    height={400}\n                                    data={category.data}\n                                    margin={{ top: 20, right: 30, left: 20, bottom: 25 }}\n                                    className=\"w-full h-full\"\n                                >\n                                    <CartesianGrid strokeDasharray=\"3 3\" />\n                                    <XAxis\n                                        dataKey=\"break_out\"\n                                        label={{\n                                            value: category.data[0]?.break_out_category || '',\n                                            position: 'insideBottom',\n                                            offset: -10,\n                                        }}\n                                        interval={0}\n                                        tick={{\n                                            fill: 'hsl(var(--foreground))',\n                                            fontSize: 10,\n                                            textAnchor: 'end',\n                                            dy: 10,\n                                        }}\n                                        height={80}\n                                        padding={{ left: 30, right: 30 }}\n                                    />\n                                    <YAxis\n                                        label={{\n                                            value: ylabel,\n                                            angle: -90,\n                                            position: 'insideLeft',\n                                            offset: 0,\n                                            style: { textAnchor: 'middle' },\n                                        }}\n                                        tick={{ fill: 'hsl(var(--foreground))' }}\n                                    />\n                                    <Tooltip\n                                        contentStyle={{\n                                            backgroundColor: 'hsl(var(--background))',\n                                            border: '1px solid hsl(var(--border))',\n                                        }}\n                                    />\n                                    <Scatter dataKey=\"value\" fill='hsl(var(--foreground))' isAnimationActive={false}>\n                                        <ErrorBar\n                                            dataKey=\"error\"\n                                            width={4}\n                                            strokeWidth={2}\n                                            stroke=\"grey\"\n                                        />\n                                    </Scatter>\n                                </ScatterChart>\n                            </div>\n\n                            <p className=\"text-sm text-gray-600 text-center\">\n                                Error bars represent 95% confidence intervals\n                            </p>\n                        </TabsContent>\n                    ))}\n                </Tabs>\n            </div>\n        </div>\n    );\n}\n","import * as React from \"react\"\n\nimport { cn } from \"../lib/utils\"\n\nfunction Input({ className, type, ...props }: React.ComponentProps<\"input\">) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\n        \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n","'use client';\n\nimport { useState } from 'react';\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer } from 'recharts';\nimport { Button } from \"../ui/button\";\nimport { Input } from \"../ui/input\";\nimport { ArrowUpDown, ChevronDown, ChevronUp } from \"lucide-react\";\n\ninterface StateData {\n  state_name: string;\n  overall: number | null;\n}\n\ninterface Data {\n  state_data: {\n    [key: string]: StateData;\n  };\n  question: string;\n  response: string;\n  clean_title: string;\n  year: number;\n}\n\ninterface SortedDataItem {\n  code: string;\n  state: string;\n  overall: number;\n}\n\ninterface StateBarChartProps {\n  data: Data;\n}\n\nexport default function StateBarChart({ data }: StateBarChartProps) {\n  const [sortOrder, setSortOrder] = useState<'asc' | 'desc'>('desc');\n  const [searchTerm, setSearchTerm] = useState('');\n  const [isExpanded, setIsExpanded] = useState(false);\n\n  const sortedData = Object.entries(data.state_data)\n    .filter((entry): entry is [string, StateData & { overall: number }] => (entry[1] as any).overall !== null)\n    .map(([code, data]): SortedDataItem => ({\n      code,\n      state: data.state_name,\n      overall: data.overall\n    }))\n    .sort((a, b) => sortOrder === 'desc' ? b.overall - a.overall : a.overall - b.overall)\n    .filter(item =>\n      item.state.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      item.code.toLowerCase().includes(searchTerm.toLowerCase())\n    );\n\n  const toggleSort = () => {\n    setSortOrder(prev => prev === 'desc' ? 'asc' : 'desc');\n  };\n\n  return (\n    <div className=\"w-full\">\n      <div className=\"mb-4\">\n        <div className=\"flex items-center gap-2 mb-2\">\n          <h2 className=\"text-2xl font-bold\">{data.clean_title}</h2>\n          <span className=\"text-md text-gray-500\">({data.year})</span>\n        </div>\n        <div className=\"flex items-center gap-2 mb-4\">\n          <span className=\"text-md text-gray-500\">{data.question}</span>\n        </div>\n\n        <div className=\"flex justify-between items-center mb-4\">\n          <Input\n            placeholder=\"Search states...\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n            className=\"max-w-sm\"\n          />\n          <Button onClick={toggleSort} variant=\"outline\">\n            Sort {sortOrder === 'desc' ? 'Ascending' : 'Descending'}\n            <ArrowUpDown className=\"ml-2 h-4 w-4\" />\n          </Button>\n        </div>\n      </div>\n\n      <div className={`${isExpanded ? 'h-auto' : 'h-[400px]'}`}>\n        <ResponsiveContainer width=\"100%\" height={isExpanded ? 800 : 400}>\n          <BarChart data={sortedData} layout=\"vertical\" margin={{ right: 20, top: 20, bottom: 40 }}>\n            <CartesianGrid strokeDasharray=\"3 3\" />\n            <XAxis\n              type=\"number\"\n              label={{ value: `Response: ${data.response} (%)`, position: 'bottom', offset: 0 }}\n              tickFormatter={(value) => `${value}%`}\n            />\n            <YAxis\n              dataKey=\"state\"\n              type=\"category\"\n              width={180}\n              interval={isExpanded ? 0 : 5}\n              tick={{ fontSize: 10 }}\n            />\n            <Tooltip\n              formatter={(value: number) => [`${value}%`, `Response: ${data.response}`]}\n              labelFormatter={(label: string) => `State: ${label}`}\n            />\n            <Bar dataKey=\"overall\" fill=\"#4A4A4A\" />\n          </BarChart>\n        </ResponsiveContainer>\n      </div>\n\n      <div className=\"flex justify-center mt-4\">\n        <Button onClick={() => setIsExpanded(!isExpanded)} variant=\"outline\">\n          {isExpanded ? (\n            <>\n              See less <ChevronUp className=\"ml-2 h-4 w-4\" />\n            </>\n          ) : (\n            <>\n              Expand <ChevronDown className=\"ml-2 h-4 w-4\" />\n            </>\n          )}\n        </Button>\n      </div>\n\n      <div className=\"flex items-center gap-2 mt-6\">\n        <span className=\"text-sm text-gray-500\">Source: CDC Behavioral Risk Factor Surveillance System</span>\n      </div>\n    </div>\n  );\n}","'use client';\n\nimport React, { useRef, useEffect, useMemo } from 'react';\nimport * as Plot from \"@observablehq/plot\";\n\ninterface HealthDataPoint {\n  OBESITY_AdjPrev: number;\n  DIABETES_AdjPrev: number;\n  population: number;\n  dir2020?: string;\n}\n\ninterface HealthScatterplotProps {\n  data: HealthDataPoint[];\n}\n\nconst HealthScatterplot: React.FC<HealthScatterplotProps> = ({ data }) => {\n  const singleRef = useRef<HTMLDivElement>(null);\n  const regressionRef = useRef<HTMLDivElement>(null);\n  const facetRef = useRef<HTMLDivElement>(null);\n\n  // Filter data to remove undefined dir2020 values for cleaner visualization\n  const cleanData = useMemo(() => data.filter(d => d.dir2020 !== undefined), [data]);\n\n  useEffect(() => {\n    if (!data || data.length === 0) return;\n\n    // Clear existing plots\n    if (singleRef.current) singleRef.current.innerHTML = '';\n    if (regressionRef.current) regressionRef.current.innerHTML = '';\n    if (facetRef.current) facetRef.current.innerHTML = '';\n\n    // Basic scatterplot\n    const singlePlot = Plot.plot({\n      title: \"County Health Correlations\",\n      subtitle: \"Obesity vs Diabetes prevalence by county\",\n      caption: \"Source: CDC\",\n      style: {\n        backgroundColor: \"white\",\n        fontFamily: \"sans-serif\",\n      },\n      x: {\n        label: \"Obesity (%)\",\n        grid: true\n      },\n      y: {\n        label: \"Diabetes (%)\",\n        grid: true\n      },\n      marks: [\n        Plot.dot(cleanData, {\n          x: \"OBESITY_AdjPrev\",\n          y: \"DIABETES_AdjPrev\",\n          r: d => Math.sqrt(d.population) * 0.008,\n          fill: d => d.dir2020,\n          fillOpacity: 0.6,\n          stroke: \"black\",\n          strokeWidth: 0.5,\n          title: d => `Obesity: ${d.OBESITY_AdjPrev}%\\nDiabetes: ${d.DIABETES_AdjPrev}%\\nPopulation: ${d.population?.toLocaleString()}`\n        })\n      ],\n      color: {\n        legend: true,\n        scheme: \"category10\"\n      },\n      width: 700,\n      height: 500\n    });\n\n    // Regression scatterplot\n    const regressionPlot = Plot.plot({\n      title: \"County Health Correlations with Trend\",\n      subtitle: \"Including linear regression line\",\n      caption: \"Source: CDC\",\n      style: {\n        backgroundColor: \"white\",\n        fontFamily: \"sans-serif\",\n      },\n      x: {\n        label: \"Obesity (%)\",\n        grid: true\n      },\n      y: {\n        label: \"Diabetes (%)\",\n        grid: true\n      },\n      marks: [\n        Plot.dot(cleanData, {\n          x: \"OBESITY_AdjPrev\",\n          y: \"DIABETES_AdjPrev\",\n          r: d => Math.sqrt(d.population) * 0.008,\n          fill: d => d.dir2020,\n          fillOpacity: 0.7,\n          stroke: \"black\",\n          strokeWidth: 0.5,\n          title: d => `Obesity: ${d.OBESITY_AdjPrev}%\\nDiabetes: ${d.DIABETES_AdjPrev}%\\nPopulation: ${d.population?.toLocaleString()}`\n        }),\n        Plot.linearRegressionY(cleanData, {\n          x: \"OBESITY_AdjPrev\",\n          y: \"DIABETES_AdjPrev\",\n          strokeWidth: 2,\n          stroke: \"#ff6b35\"\n        })\n      ],\n      color: {\n        legend: true,\n        scheme: \"category10\"\n      },\n      width: 700,\n      height: 500\n    });\n\n    // Faceted scatterplot\n    const facetPlot = Plot.plot({\n      title: \"County Health Correlations by Category\",\n      subtitle: \"Faceted by demographic grouping\",\n      caption: \"Source: CDC\",\n      style: {\n        backgroundColor: \"white\",\n        fontFamily: \"sans-serif\",\n      },\n      x: {\n        label: \"Obesity (%)\",\n        grid: true\n      },\n      y: {\n        label: \"Diabetes (%)\",\n        grid: true\n      },\n      facet: { data: cleanData, x: \"dir2020\" },\n      marks: [\n        Plot.dot(cleanData, {\n          x: \"OBESITY_AdjPrev\",\n          y: \"DIABETES_AdjPrev\",\n          r: d => Math.sqrt(d.population) * 0.01,\n          stroke: \"dir2020\",\n          fill: \"dir2020\",\n          fillOpacity: 0.3,\n          title: d => `Obesity: ${d.OBESITY_AdjPrev}%\\nDiabetes: ${d.DIABETES_AdjPrev}%\\nPopulation: ${d.population?.toLocaleString()}`,\n          tip: true\n        }),\n        Plot.linearRegressionY(cleanData, {\n          x: \"OBESITY_AdjPrev\",\n          y: \"DIABETES_AdjPrev\",\n          stroke: \"dir2020\",\n          strokeWidth: 2\n        })\n      ],\n      color: {\n        legend: true,\n        scheme: \"category10\"\n      },\n      width: 800,\n      height: 600\n    });\n\n    // Append plots to containers\n    if (singleRef.current) singleRef.current.appendChild(singlePlot);\n    if (regressionRef.current) regressionRef.current.appendChild(regressionPlot);\n    if (facetRef.current) facetRef.current.appendChild(facetPlot);\n\n    // Cleanup\n    return () => {\n      singlePlot?.remove();\n      regressionPlot?.remove();\n      facetPlot?.remove();\n    };\n  }, [data, cleanData]);\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"mb-6\">\n        <p className=\"text-gray-600\">\n          Scatterplot analysis exploring relationships between county-level health indicators.\n          Each visualization reveals different aspects of the obesity-diabetes correlation using various analytical approaches.\n        </p>\n      </div>\n\n      <div className=\"border rounded-lg p-6\">\n        <div className=\"mb-4\">\n          <h3 className=\"text-lg font-semibold\">Basic Scatterplot</h3>\n          <p className=\"text-sm text-gray-600\">\n            Simple scatter plot showing the relationship between obesity and diabetes rates\n          </p>\n        </div>\n        <div>\n          <div ref={singleRef} className=\"flex justify-center\" />\n          <p className=\"text-sm text-gray-600 mt-4\">\n            Each point represents a county. Point size reflects population, and color indicates demographic grouping.\n            The clear clustering pattern suggests a strong positive relationship between these health metrics.\n          </p>\n        </div>\n      </div>\n\n      <div className=\"border rounded-lg p-6\">\n        <div className=\"mb-4\">\n          <h3 className=\"text-lg font-semibold\">Regression Analysis</h3>\n          <p className=\"text-sm text-gray-600\">\n            Same data with linear regression line showing the overall trend\n          </p>\n        </div>\n        <div>\n          <div ref={regressionRef} className=\"flex justify-center\" />\n          <p className=\"text-sm text-gray-600 mt-4\">\n            The orange regression line shows the positive correlation between obesity and diabetes rates across counties.\n            The linear trend confirms the strong association between these health conditions at the population level.\n          </p>\n        </div>\n      </div>\n\n      <div className=\"border rounded-lg p-6\">\n        <div className=\"mb-4\">\n          <h3 className=\"text-lg font-semibold\">Faceted Analysis</h3>\n          <p className=\"text-sm text-gray-600\">\n            Separate panels for each demographic category with individual regression lines\n          </p>\n        </div>\n        <div>\n          <div ref={facetRef} className=\"flex justify-center\" />\n          <p className=\"text-sm text-gray-600 mt-4\">\n            Faceted view allows comparison of obesity-diabetes relationships across different demographic groups,\n            each with its own regression line. This reveals how the correlation strength may vary by population characteristics.\n          </p>\n        </div>\n      </div>\n\n      <div className=\"mt-6 p-4 bg-gray-50 rounded-lg\">\n        <h3 className=\"font-semibold mb-2\">Scatterplot Techniques</h3>\n        <div className=\"grid md:grid-cols-3 gap-4 text-sm\">\n          <div>\n            <h4 className=\"font-medium\">Basic Scatter</h4>\n            <ul className=\"list-disc list-inside text-gray-600 space-y-1\">\n              <li>Point-to-point relationships</li>\n              <li>Size and color encoding</li>\n              <li>Pattern identification</li>\n              <li>Outlier detection</li>\n            </ul>\n          </div>\n          <div>\n            <h4 className=\"font-medium\">Regression Lines</h4>\n            <ul className=\"list-disc list-inside text-gray-600 space-y-1\">\n              <li>Trend quantification</li>\n              <li>Predictive modeling</li>\n              <li>Correlation strength</li>\n              <li>Statistical inference</li>\n            </ul>\n          </div>\n          <div>\n            <h4 className=\"font-medium\">Faceted Views</h4>\n            <ul className=\"list-disc list-inside text-gray-600 space-y-1\">\n              <li>Group comparisons</li>\n              <li>Conditional relationships</li>\n              <li>Subpopulation analysis</li>\n              <li>Interaction effects</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default HealthScatterplot;","/**\n * Statistical Utilities for Recharts Visualizations\n * Provides functions for statistical calculations and transformations\n */\n\nexport interface QuartileData {\n  min: number;\n  q1: number;\n  median: number;\n  q3: number;\n  max: number;\n  outliers: number[];\n  iqr: number;\n}\n\n/**\n * Calculate quartiles and identify outliers for box plot\n */\nexport function calculateQuartiles(data: number[]): QuartileData {\n  if (data.length === 0) {\n    return { min: 0, q1: 0, median: 0, q3: 0, max: 0, outliers: [], iqr: 0 };\n  }\n\n  const sorted = [...data].sort((a, b) => a - b);\n  const n = sorted.length;\n\n  const q1 = quantile(sorted, 0.25);\n  const median = quantile(sorted, 0.5);\n  const q3 = quantile(sorted, 0.75);\n  const iqr = q3 - q1;\n\n  // Outliers are beyond 1.5 * IQR from quartiles\n  const lowerFence = q1 - 1.5 * iqr;\n  const upperFence = q3 + 1.5 * iqr;\n\n  const outliers = sorted.filter(v => v < lowerFence || v > upperFence);\n  const nonOutliers = sorted.filter(v => v >= lowerFence && v <= upperFence);\n\n  const min = nonOutliers.length > 0 ? nonOutliers[0] : sorted[0];\n  const max = nonOutliers.length > 0 ? nonOutliers[nonOutliers.length - 1] : sorted[n - 1];\n\n  return { min, q1, median, q3, max, outliers, iqr };\n}\n\n/**\n * Calculate quantile value\n */\nexport function quantile(sortedData: number[], p: number): number {\n  if (sortedData.length === 0) return 0;\n  if (p <= 0) return sortedData[0];\n  if (p >= 1) return sortedData[sortedData.length - 1];\n\n  const index = (sortedData.length - 1) * p;\n  const lower = Math.floor(index);\n  const upper = Math.ceil(index);\n  const weight = index - lower;\n\n  return sortedData[lower] * (1 - weight) + sortedData[upper] * weight;\n}\n\n/**\n * Calculate mean\n */\nexport function mean(data: number[]): number {\n  if (data.length === 0) return 0;\n  return data.reduce((sum, val) => sum + val, 0) / data.length;\n}\n\n/**\n * Calculate standard deviation\n */\nexport function standardDeviation(data: number[]): number {\n  if (data.length === 0) return 0;\n  const avg = mean(data);\n  const squareDiffs = data.map(value => Math.pow(value - avg, 2));\n  const avgSquareDiff = mean(squareDiffs);\n  return Math.sqrt(avgSquareDiff);\n}\n\n/**\n * Calculate confidence interval for mean\n */\nexport function confidenceInterval(data: number[], confidence: number = 0.95): { mean: number; lower: number; upper: number; error: number } {\n  const avg = mean(data);\n  const std = standardDeviation(data);\n  const n = data.length;\n\n  // Using t-distribution approximation (simplified with z-score for large n)\n  const zScore = confidence === 0.95 ? 1.96 : confidence === 0.99 ? 2.576 : 1.96;\n  const standardError = std / Math.sqrt(n);\n  const marginError = zScore * standardError;\n\n  return {\n    mean: avg,\n    lower: avg - marginError,\n    upper: avg + marginError,\n    error: marginError\n  };\n}\n\n/**\n * Kernel Density Estimation for violin plots\n */\nexport function kernelDensity(\n  data: number[],\n  bandwidth?: number,\n  points: number = 50\n): Array<{ x: number; density: number }> {\n  const n = data.length;\n  if (n === 0) return [];\n\n  // Silverman's rule of thumb for bandwidth\n  const std = standardDeviation(data);\n  const bw = bandwidth ?? 1.06 * std * Math.pow(n, -1 / 5);\n\n  const min = Math.min(...data);\n  const max = Math.max(...data);\n  const range = max - min;\n  const padding = range * 0.1;\n\n  const result: Array<{ x: number; density: number }> = [];\n\n  for (let i = 0; i < points; i++) {\n    const x = min - padding + ((max - min + 2 * padding) * i) / (points - 1);\n    let density = 0;\n\n    for (const value of data) {\n      const u = (x - value) / bw;\n      // Gaussian kernel\n      density += Math.exp((-1 / 2) * u * u) / Math.sqrt(2 * Math.PI);\n    }\n\n    result.push({ x, density: density / (n * bw) });\n  }\n\n  return result;\n}\n\n/**\n * Create histogram bins using Sturges' rule\n */\nexport function createHistogram(\n  data: number[],\n  bins?: number\n): Array<{ bin: string; count: number; binStart: number; binEnd: number; binMid: number }> {\n  if (data.length === 0) return [];\n\n  const numBins = bins ?? Math.ceil(Math.log2(data.length) + 1);\n  const min = Math.min(...data);\n  const max = Math.max(...data);\n  const binWidth = (max - min) / numBins;\n\n  const histogram = Array.from({ length: numBins }, (_, i) => {\n    const binStart = min + i * binWidth;\n    const binEnd = min + (i + 1) * binWidth;\n    const binMid = (binStart + binEnd) / 2;\n    return {\n      bin: `${binStart.toFixed(1)}-${binEnd.toFixed(1)}`,\n      count: 0,\n      binStart,\n      binEnd,\n      binMid\n    };\n  });\n\n  data.forEach(value => {\n    const binIndex = Math.min(Math.floor((value - min) / binWidth), numBins - 1);\n    histogram[binIndex].count++;\n  });\n\n  return histogram;\n}\n\n/**\n * Calculate linear regression\n */\nexport function linearRegression(\n  x: number[],\n  y: number[]\n): { slope: number; intercept: number; rSquared: number; residuals: number[]; fitted: number[] } {\n  const n = x.length;\n  if (n === 0 || n !== y.length) {\n    return { slope: 0, intercept: 0, rSquared: 0, residuals: [], fitted: [] };\n  }\n\n  const meanX = mean(x);\n  const meanY = mean(y);\n\n  let numerator = 0;\n  let denominator = 0;\n\n  for (let i = 0; i < n; i++) {\n    numerator += (x[i] - meanX) * (y[i] - meanY);\n    denominator += Math.pow(x[i] - meanX, 2);\n  }\n\n  const slope = denominator !== 0 ? numerator / denominator : 0;\n  const intercept = meanY - slope * meanX;\n\n  // Calculate R-squared and residuals\n  const fitted = x.map(xi => slope * xi + intercept);\n  const residuals = y.map((yi, i) => yi - fitted[i]);\n\n  const ssRes = residuals.reduce((sum, r) => sum + r * r, 0);\n  const ssTot = y.reduce((sum, yi) => sum + Math.pow(yi - meanY, 2), 0);\n  const rSquared = ssTot !== 0 ? 1 - ssRes / ssTot : 0;\n\n  return { slope, intercept, rSquared, residuals, fitted };\n}\n\n/**\n * Calculate theoretical quantiles for Q-Q plot\n */\nexport function qqPlotData(data: number[]): Array<{ theoretical: number; sample: number }> {\n  if (data.length === 0) return [];\n\n  const sorted = [...data].sort((a, b) => a - b);\n  const n = sorted.length;\n\n  return sorted.map((value, i) => {\n    // Calculate theoretical quantile from standard normal distribution\n    const p = (i + 0.5) / n; // Plotting position\n    const theoretical = normalQuantile(p);\n\n    return {\n      theoretical,\n      sample: value\n    };\n  });\n}\n\n/**\n * Approximate inverse normal CDF (for Q-Q plot)\n */\nfunction normalQuantile(p: number): number {\n  // Beasley-Springer-Moro algorithm approximation\n  const a = [\n    -3.969683028665376e+01,\n    2.209460984245205e+02,\n    -2.759285104469687e+02,\n    1.383577518672690e+02,\n    -3.066479806614716e+01,\n    2.506628277459239e+00\n  ];\n\n  const b = [\n    -5.447609879822406e+01,\n    1.615858368580409e+02,\n    -1.556989798598866e+02,\n    6.680131188771972e+01,\n    -1.328068155288572e+01\n  ];\n\n  const c = [\n    -7.784894002430293e-03,\n    -3.223964580411365e-01,\n    -2.400758277161838e+00,\n    -2.549732539343734e+00,\n    4.374664141464968e+00,\n    2.938163982698783e+00\n  ];\n\n  const d = [\n    7.784695709041462e-03,\n    3.224671290700398e-01,\n    2.445134137142996e+00,\n    3.754408661907416e+00\n  ];\n\n  const pLow = 0.02425;\n  const pHigh = 1 - pLow;\n\n  if (p < pLow) {\n    const q = Math.sqrt(-2 * Math.log(p));\n    return (((((c[0] * q + c[1]) * q + c[2]) * q + c[3]) * q + c[4]) * q + c[5]) /\n           ((((d[0] * q + d[1]) * q + d[2]) * q + d[3]) * q + 1);\n  } else if (p <= pHigh) {\n    const q = p - 0.5;\n    const r = q * q;\n    return (((((a[0] * r + a[1]) * r + a[2]) * r + a[3]) * r + a[4]) * r + a[5]) * q /\n           (((((b[0] * r + b[1]) * r + b[2]) * r + b[3]) * r + b[4]) * r + 1);\n  } else {\n    const q = Math.sqrt(-2 * Math.log(1 - p));\n    return -(((((c[0] * q + c[1]) * q + c[2]) * q + c[3]) * q + c[4]) * q + c[5]) /\n            ((((d[0] * q + d[1]) * q + d[2]) * q + d[3]) * q + 1);\n  }\n}\n\n/**\n * Calculate beeswarm layout for swarm plot\n */\nexport function beeswarmLayout(\n  values: number[],\n  categoryIndex: number,\n  radius: number = 3\n): Array<{ x: number; y: number; value: number }> {\n  const sorted = values\n    .map((value, idx) => ({ value, originalIndex: idx }))\n    .sort((a, b) => a.value - b.value);\n\n  const positions: Array<{ x: number; y: number; value: number }> = [];\n  const placed: Array<{ x: number; y: number }> = [];\n\n  sorted.forEach(({ value }) => {\n    let x = categoryIndex;\n    let y = value;\n    let offset = 0;\n    let direction = 1;\n\n    // Find non-overlapping position\n    while (true) {\n      const overlaps = placed.some(p => {\n        const dx = x - p.x;\n        const dy = y - p.y;\n        return Math.sqrt(dx * dx + dy * dy) < radius * 2.2;\n      });\n\n      if (!overlaps) {\n        break;\n      }\n\n      offset += radius * 0.8;\n      x = categoryIndex + offset * direction;\n      direction *= -1;\n    }\n\n    positions.push({ x, y, value });\n    placed.push({ x, y });\n  });\n\n  return positions;\n}\n\n/**\n * Add jitter to values for strip plot\n */\nexport function addJitter(categoryIndex: number, count: number, jitterAmount: number = 0.3): number[] {\n  return Array.from({ length: count }, () =>\n    categoryIndex + (Math.random() - 0.5) * jitterAmount\n  );\n}\n","'use client';\n\nimport React, { useMemo } from 'react';\nimport {\n  BarChart,\n  Bar,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  Legend,\n  ResponsiveContainer,\n  ReferenceLine\n} from 'recharts';\nimport { createHistogram } from '../utils/statistical-utils';\n\nexport interface HistogramProps {\n  data: number[];\n  bins?: number;\n  width?: number;\n  height?: number;\n  xlabel?: string;\n  ylabel?: string;\n  title?: string;\n  color?: string;\n  showMean?: boolean;\n  showMedian?: boolean;\n}\n\nexport default function HistogramRecharts({\n  data,\n  bins,\n  width,\n  height = 500,\n  xlabel = 'Value',\n  ylabel = 'Frequency',\n  title,\n  color = 'hsl(var(--primary))',\n  showMean = true,\n  showMedian = false\n}: HistogramProps) {\n  const histogramData = useMemo(() => {\n    return createHistogram(data, bins);\n  }, [data, bins]);\n\n  const statistics = useMemo(() => {\n    if (data.length === 0) return { mean: 0, median: 0 };\n\n    const mean = data.reduce((sum, val) => sum + val, 0) / data.length;\n    const sorted = [...data].sort((a, b) => a - b);\n    const median = sorted[Math.floor(sorted.length / 2)];\n\n    return { mean, median };\n  }, [data]);\n\n  const CustomTooltip = ({ active, payload }: any) => {\n    if (active && payload && payload.length) {\n      const data = payload[0].payload;\n      return (\n        <div className=\"bg-white dark:bg-gray-800 p-3 border rounded shadow-lg\">\n          <p className=\"font-semibold\">{data.bin}</p>\n          <p className=\"text-sm\">Count: {data.count}</p>\n          <p className=\"text-xs text-muted-foreground\">\n            Range: [{data.binStart.toFixed(2)}, {data.binEnd.toFixed(2)})\n          </p>\n        </div>\n      );\n    }\n    return null;\n  };\n\n  return (\n    <div className=\"w-full\">\n      {title && <h3 className=\"text-lg font-semibold mb-4\">{title}</h3>}\n      <ResponsiveContainer width={width || '100%'} height={height}>\n        <BarChart data={histogramData} margin={{ top: 20, right: 30, left: 20, bottom: 60 }}>\n          <CartesianGrid strokeDasharray=\"3 3\" />\n          <XAxis\n            dataKey=\"bin\"\n            label={{ value: xlabel, position: 'insideBottom', offset: -10 }}\n            angle={-45}\n            textAnchor=\"end\"\n            height={80}\n          />\n          <YAxis label={{ value: ylabel, angle: -90, position: 'insideLeft' }} />\n          <Tooltip content={<CustomTooltip />} />\n          <Legend />\n          <Bar dataKey=\"count\" fill={color} name=\"Frequency\" />\n\n          {showMean && (\n            <ReferenceLine\n              x={histogramData.find(d =>\n                d.binStart <= statistics.mean && d.binEnd > statistics.mean\n              )?.bin}\n              stroke=\"hsl(var(--destructive))\"\n              strokeWidth={2}\n              strokeDasharray=\"5 5\"\n              label={{ value: `Mean: ${statistics.mean.toFixed(2)}`, position: 'top', fill: 'hsl(var(--destructive))' }}\n            />\n          )}\n\n          {showMedian && (\n            <ReferenceLine\n              x={histogramData.find(d =>\n                d.binStart <= statistics.median && d.binEnd > statistics.median\n              )?.bin}\n              stroke=\"hsl(var(--chart-2))\"\n              strokeWidth={2}\n              strokeDasharray=\"5 5\"\n              label={{ value: `Median: ${statistics.median.toFixed(2)}`, position: 'bottom', fill: 'hsl(var(--chart-2))' }}\n            />\n          )}\n        </BarChart>\n      </ResponsiveContainer>\n\n      <div className=\"mt-4 text-sm text-muted-foreground\">\n        <p>Total observations: {data.length}  Bins: {histogramData.length}  Mean: {statistics.mean.toFixed(2)}  Median: {statistics.median.toFixed(2)}</p>\n      </div>\n    </div>\n  );\n}\n","'use client';\n\nimport React, { useMemo } from 'react';\nimport {\n  ComposedChart,\n  Scatter,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  ResponsiveContainer,\n  Cell\n} from 'recharts';\nimport { calculateQuartiles, kernelDensity } from '../utils/statistical-utils';\n\nexport interface ViolinPlotDataPoint {\n  category: string;\n  values: number[];\n}\n\nexport interface ViolinPlotProps {\n  data: ViolinPlotDataPoint[];\n  width?: number;\n  height?: number;\n  xlabel?: string;\n  ylabel?: string;\n  title?: string;\n  showBox?: boolean;\n}\n\nexport default function ViolinPlot({\n  data,\n  width,\n  height = 500,\n  xlabel = 'Category',\n  ylabel = 'Value',\n  title,\n  showBox = true\n}: ViolinPlotProps) {\n  const { violinShapes, scatterData, yDomain } = useMemo(() => {\n    // Calculate density for each category\n    const shapes = data.map((item, idx) => {\n      const density = kernelDensity(item.values, undefined, 100);\n      const maxDensity = Math.max(...density.map(d => d.density));\n      const quartiles = calculateQuartiles(item.values);\n\n      return {\n        category: item.category,\n        categoryIndex: idx,\n        density: density.map(d => ({\n          y: d.x,\n          width: maxDensity > 0 ? (d.density / maxDensity) * 0.35 : 0\n        })),\n        quartiles\n      };\n    });\n\n    // Create scatter points for violin shapes\n    const points = shapes.flatMap(shape =>\n      shape.density.flatMap(d => [\n        {\n          categoryIndex: shape.categoryIndex - d.width,\n          category: shape.category,\n          value: d.y\n        },\n        {\n          categoryIndex: shape.categoryIndex + d.width,\n          category: shape.category,\n          value: d.y\n        }\n      ])\n    );\n\n    // Calculate y-axis domain\n    const allValues = data.flatMap(d => d.values);\n    const minVal = Math.min(...allValues);\n    const maxVal = Math.max(...allValues);\n    const padding = (maxVal - minVal) * 0.1;\n\n    return {\n      violinShapes: shapes,\n      scatterData: points,\n      yDomain: [minVal - padding, maxVal + padding]\n    };\n  }, [data]);\n\n  const CustomTooltip = ({ active, payload }: any) => {\n    if (active && payload && payload.length) {\n      const data = payload[0].payload;\n      return (\n        <div className=\"bg-white dark:bg-gray-800 p-3 border rounded shadow-lg\">\n          <p className=\"font-semibold\">{data.category}</p>\n          <p className=\"text-sm\">Value: {data.value?.toFixed(2) || 'N/A'}</p>\n        </div>\n      );\n    }\n    return null;\n  };\n\n  // Render box plot overlay\n  const renderBoxes = () => {\n    if (!showBox) return null;\n\n    return violinShapes.map((shape, idx) => {\n      const { q1, median, q3 } = shape.quartiles;\n      const categoryX = idx;\n\n      return (\n        <g key={`box-${idx}`}>\n          {/* Median line */}\n          <line\n            x1={categoryX - 0.1}\n            y1={median}\n            x2={categoryX + 0.1}\n            y2={median}\n            stroke=\"white\"\n            strokeWidth={3}\n          />\n          {/* Q1-Q3 box */}\n          <rect\n            x={categoryX - 0.08}\n            y={q3}\n            width={0.16}\n            height={q1 - q3}\n            fill=\"none\"\n            stroke=\"white\"\n            strokeWidth={2}\n          />\n        </g>\n      );\n    });\n  };\n\n  return (\n    <div className=\"w-full\">\n      {title && <h3 className=\"text-lg font-semibold mb-4\">{title}</h3>}\n      <ResponsiveContainer width={width || '100%'} height={height}>\n        <ComposedChart margin={{ top: 20, right: 30, left: 20, bottom: 80 }}>\n          <CartesianGrid strokeDasharray=\"3 3\" />\n          <XAxis\n            type=\"number\"\n            dataKey=\"categoryIndex\"\n            domain={[-0.5, data.length - 0.5]}\n            ticks={data.map((_, idx) => idx)}\n            tickFormatter={(value) => data[Math.round(value)]?.category || ''}\n            label={{ value: xlabel, position: 'insideBottom', offset: -15 }}\n            angle={-45}\n            textAnchor=\"end\"\n            height={100}\n          />\n          <YAxis\n            type=\"number\"\n            dataKey=\"value\"\n            domain={yDomain}\n            label={{ value: ylabel, angle: -90, position: 'insideLeft' }}\n          />\n          <Tooltip content={<CustomTooltip />} />\n\n          {/* Violin density points */}\n          <Scatter\n            data={scatterData}\n            fill=\"hsl(var(--primary))\"\n            fillOpacity={0.3}\n          >\n            {scatterData.map((entry, index) => (\n              <Cell\n                key={`cell-${index}`}\n                fill={`hsl(${(Math.floor(entry.categoryIndex + 0.5) * 60) % 360}, 70%, 50%)`}\n              />\n            ))}\n          </Scatter>\n        </ComposedChart>\n      </ResponsiveContainer>\n\n      <div className=\"mt-4 text-sm text-muted-foreground\">\n        <p>Violin plot showing distribution density (wider = more data points)  Categories: {data.length}</p>\n      </div>\n    </div>\n  );\n}\n"]}