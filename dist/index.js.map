{"version":3,"sources":["../src/infrastructure/PlotContainer.tsx","../src/infrastructure/PlotTheme.tsx","../src/infrastructure/PlotExport.tsx","../src/plot/geo.state_map.v1.tsx","../src/plot/geo.bubble.v1.tsx","../src/plot/stat.boxplot.v1.tsx","../src/plot/stat.splitbar.v1.tsx","../src/plot/basic.dot.v1.tsx","../src/plot/basic.bar.v1.tsx","../src/recharts/timeseries.line.v1.tsx","../src/recharts/TimeSeriesChart.tsx","../src/recharts/AbortionOpinionChart.tsx","../src/recharts/stat.demographic_bar.v1.tsx","../src/recharts/ScatterplotRegression.tsx"],"names":["useRef","useState","useEffect","plot","Plot","jsx","createContext","useContext","filename","jsxs","Download","React","topojson","Plot2","Plot3","Plot4","React4","Plot5","Plot6","Plot7","ResponsiveContainer","LineChart","CartesianGrid","XAxis","YAxis","metadata","Tooltip","Line","ErrorBar","TimeSeriesChart","data","BarChart","Legend","Bar","RechartsBarChart","ComposedChart","ZAxis","Area","ReferenceLine","Scatter","r"],"mappings":"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","file":"index.js","sourcesContent":["'use client';\n\nimport { useEffect, useRef, useState } from 'react';\nimport * as Plot from '@observablehq/plot';\nimport type { PlotContainerProps } from '../types/plot';\n\n// Simple className utility\nfunction cn(...classes: (string | undefined | false)[]) {\n  return classes.filter(Boolean).join(' ');\n}\n\n/**\n * PlotContainer - Base component for all Observable Plot visualizations\n *\n * Handles:\n * - Responsive width calculation via ResizeObserver\n * - Plot creation and lifecycle management\n * - SVG element injection into the DOM\n * - Cleanup on unmount to prevent memory leaks\n * - Fixed or responsive sizing modes\n * - Accessibility (ARIA labels)\n */\nexport function PlotContainer({\n  plotSpec,\n  width = 'responsive',\n  height,\n  className,\n  ariaLabel,\n  onPlotCreated,\n}: PlotContainerProps) {\n  const containerRef = useRef<HTMLDivElement>(null);\n  const plotRef = useRef<SVGSVGElement | null>(null);\n  const [containerWidth, setContainerWidth] = useState<number>(800);\n\n  // Handle responsive width\n  useEffect(() => {\n    if (width !== 'responsive' || !containerRef.current) return;\n\n    const observer = new ResizeObserver((entries) => {\n      const entry = entries[0];\n      if (entry) {\n        setContainerWidth(entry.contentRect.width);\n      }\n    });\n\n    observer.observe(containerRef.current);\n    return () => observer.disconnect();\n  }, [width]);\n\n  // Create/update plot\n  useEffect(() => {\n    if (!containerRef.current) return;\n\n    // Calculate final width\n    const finalWidth = width === 'responsive' ? containerWidth : width;\n\n    // Create plot with updated width\n    const plot = Plot.plot({\n      ...plotSpec,\n      width: finalWidth,\n      height: height,\n    }) as SVGSVGElement;\n\n    // Clear previous plot\n    if (plotRef.current) {\n      plotRef.current.remove();\n    }\n\n    // Append new plot\n    containerRef.current.appendChild(plot);\n    plotRef.current = plot;\n\n    // Callback\n    onPlotCreated?.(plot);\n\n    // Cleanup\n    return () => {\n      if (plotRef.current) {\n        plotRef.current.remove();\n        plotRef.current = null;\n      }\n    };\n  }, [plotSpec, width, height, containerWidth, onPlotCreated]);\n\n  return (\n    <div\n      ref={containerRef}\n      className={cn('plot-container', className)}\n      role=\"img\"\n      aria-label={ariaLabel}\n    />\n  );\n}\n","'use client';\n\nimport { createContext, useContext, ReactNode } from 'react';\nimport type { PlotTheme } from '../types/plot';\n\nconst defaultLightTheme: PlotTheme = {\n  name: 'light',\n  fonts: {\n    base: 'Inter, system-ui, sans-serif',\n    mono: 'IBM Plex Mono, monospace',\n  },\n  colors: {\n    categorical: [\n      'hsl(220, 70%, 50%)',  // Blue\n      'hsl(160, 60%, 45%)',  // Green\n      'hsl(30, 80%, 55%)',   // Orange\n      'hsl(280, 65%, 60%)',  // Purple\n      'hsl(340, 75%, 55%)',  // Red\n    ],\n    sequential: 'blues',\n    diverging: 'rdbu',\n  },\n  grid: {\n    stroke: '#e0e0e0',\n    strokeWidth: 1,\n    strokeOpacity: 0.5,\n  },\n  axes: {\n    fontSize: 12,\n    fontWeight: 400,\n    color: '#666666',\n  },\n  background: '#ffffff',\n  foreground: '#000000',\n};\n\nconst defaultDarkTheme: PlotTheme = {\n  ...defaultLightTheme,\n  name: 'dark',\n  colors: {\n    ...defaultLightTheme.colors,\n    categorical: [\n      'hsl(220, 70%, 60%)',\n      'hsl(160, 60%, 55%)',\n      'hsl(30, 80%, 65%)',\n      'hsl(280, 65%, 70%)',\n      'hsl(340, 75%, 65%)',\n    ],\n  },\n  grid: {\n    stroke: '#333333',\n    strokeWidth: 1,\n    strokeOpacity: 0.3,\n  },\n  axes: {\n    fontSize: 12,\n    fontWeight: 400,\n    color: '#999999',\n  },\n  background: '#0a0a0a',\n  foreground: '#ffffff',\n};\n\nconst PlotThemeContext = createContext<PlotTheme>(defaultLightTheme);\n\nexport function PlotThemeProvider({\n  theme = 'light',\n  children,\n}: {\n  theme?: 'light' | 'dark' | PlotTheme;\n  children: ReactNode;\n}) {\n  const resolvedTheme =\n    typeof theme === 'string'\n      ? theme === 'dark'\n        ? defaultDarkTheme\n        : defaultLightTheme\n      : theme;\n\n  return (\n    <PlotThemeContext.Provider value={resolvedTheme}>\n      {children}\n    </PlotThemeContext.Provider>\n  );\n}\n\nexport function usePlotTheme() {\n  return useContext(PlotThemeContext);\n}\n\n// Export theme presets\nexport { defaultLightTheme, defaultDarkTheme };\n","'use client';\n\nimport { useState } from 'react';\nimport { Download } from 'lucide-react';\n\n/**\n * PlotExport - Export functionality for Observable Plot charts\n *\n * Provides SVG and PNG export capabilities with 2x scaling for high-DPI displays.\n *\n * Note: This component expects Button and DropdownMenu components to be available.\n * These are typically provided by shadcn/ui in the consuming application.\n */\n\ninterface PlotExportProps {\n  plotRef: React.RefObject<HTMLDivElement>;\n  filename?: string;\n  formats?: ('svg' | 'png')[];\n  // Allow consumers to provide their own Button/Dropdown components\n  Button?: any;\n  DropdownMenu?: any;\n  DropdownMenuTrigger?: any;\n  DropdownMenuContent?: any;\n  DropdownMenuItem?: any;\n}\n\nexport function PlotExport({\n  plotRef,\n  filename = 'chart',\n  formats = ['svg', 'png'],\n  Button,\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n}: PlotExportProps) {\n  const [isExporting, setIsExporting] = useState(false);\n\n  const exportAs = async (format: 'svg' | 'png') => {\n    if (!plotRef.current) return;\n\n    setIsExporting(true);\n\n    try {\n      const svgElement = plotRef.current.querySelector('svg');\n      if (!svgElement) throw new Error('No SVG found');\n\n      if (format === 'svg') {\n        const svgString = new XMLSerializer().serializeToString(svgElement);\n        const blob = new Blob([svgString], { type: 'image/svg+xml' });\n        downloadBlob(blob, `${filename}.svg`);\n      } else if (format === 'png') {\n        const canvas = document.createElement('canvas');\n        const ctx = canvas.getContext('2d');\n        if (!ctx) throw new Error('Canvas context not available');\n\n        const svgString = new XMLSerializer().serializeToString(svgElement);\n        const img = new Image();\n        const svgBlob = new Blob([svgString], { type: 'image/svg+xml' });\n        const url = URL.createObjectURL(svgBlob);\n\n        img.onload = () => {\n          // 2x scale for high-DPI displays\n          canvas.width = svgElement.width.baseVal.value * 2;\n          canvas.height = svgElement.height.baseVal.value * 2;\n          ctx.scale(2, 2);\n          ctx.drawImage(img, 0, 0);\n          URL.revokeObjectURL(url);\n\n          canvas.toBlob((blob) => {\n            if (blob) downloadBlob(blob, `${filename}.png`);\n            setIsExporting(false);\n          }, 'image/png');\n        };\n\n        img.src = url;\n        return;\n      }\n    } catch (error) {\n      console.error('Export failed:', error);\n    } finally {\n      if (format !== 'png') {\n        setIsExporting(false);\n      }\n    }\n  };\n\n  const downloadBlob = (blob: Blob, filename: string) => {\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = filename;\n    a.click();\n    URL.revokeObjectURL(url);\n  };\n\n  // If UI components are not provided, return a simple button\n  if (!Button || !DropdownMenu) {\n    return (\n      <div className=\"plot-export\">\n        <button\n          onClick={() => exportAs('svg')}\n          disabled={isExporting}\n          className=\"px-3 py-1 text-sm border rounded hover:bg-gray-50 disabled:opacity-50\"\n        >\n          <Download className=\"h-4 w-4 inline mr-2\" />\n          {isExporting ? 'Exporting...' : 'Export SVG'}\n        </button>\n        {formats.includes('png') && (\n          <button\n            onClick={() => exportAs('png')}\n            disabled={isExporting}\n            className=\"ml-2 px-3 py-1 text-sm border rounded hover:bg-gray-50 disabled:opacity-50\"\n          >\n            Export PNG\n          </button>\n        )}\n      </div>\n    );\n  }\n\n  // Use provided UI components (shadcn/ui pattern)\n  return (\n    <DropdownMenu>\n      <DropdownMenuTrigger asChild>\n        <Button variant=\"outline\" size=\"sm\" disabled={isExporting}>\n          <Download className=\"h-4 w-4 mr-2\" />\n          {isExporting ? 'Exporting...' : 'Export'}\n        </Button>\n      </DropdownMenuTrigger>\n      <DropdownMenuContent align=\"end\">\n        {formats.includes('svg') && (\n          <DropdownMenuItem onClick={() => exportAs('svg')}>\n            Export as SVG\n          </DropdownMenuItem>\n        )}\n        {formats.includes('png') && (\n          <DropdownMenuItem onClick={() => exportAs('png')}>\n            Export as PNG\n          </DropdownMenuItem>\n        )}\n      </DropdownMenuContent>\n    </DropdownMenu>\n  );\n}\n","'use client';\n\nimport * as Plot from \"@observablehq/plot\";\nimport * as topojson from \"topojson-client\";\nimport * as React from \"react\";\n\nexport interface StateMapProps {\n  /** US TopoJSON data with states and nation objects */\n  usTopoJSON: any;\n\n  /** State data with state names and values */\n  data: Array<{ state: string; value: number }>;\n\n  /** Chart width in pixels */\n  width?: number;\n\n  /** Chart height in pixels */\n  height?: number;\n\n  /** Optional labels for title, subtitle, caption */\n  labels?: {\n    title?: string;\n    valueSuffix?: string;\n    valuePrefix?: string;\n    subtitle?: string;\n    caption?: string;\n  };\n\n  /** Color scheme for choropleth */\n  colorScheme?: string;\n\n  /** Number of quantiles for color scale */\n  quantiles?: number;\n\n  /** Reverse color scale */\n  reverseColors?: boolean;\n\n  /** Projection type */\n  projection?: 'albers-usa' | 'mercator' | 'equal-earth';\n\n  /** Additional CSS classes */\n  className?: string;\n}\n\n/**\n * StateMap - US state choropleth map\n *\n * Visualizes state-level data with a color-coded map.\n *\n * @example\n * ```tsx\n * import us from '@/app/data/geo/us_counties_10m.json';\n *\n * <StateMap\n *   usTopoJSON={us}\n *   data={[\n *     { state: 'California', value: 850000 },\n *     { state: 'Texas', value: 620000 }\n *   ]}\n *   labels={{\n *     title: 'Population by State',\n *     valueSuffix: ' people',\n *     caption: 'Source: US Census'\n *   }}\n * />\n * ```\n */\nexport const StateMap: React.FC<StateMapProps> = ({\n  usTopoJSON,\n  data,\n  width = 975,\n  height = 610,\n  labels = {},\n  colorScheme = 'prgn',\n  quantiles = 5,\n  reverseColors = false,\n  projection = 'albers-usa',\n  className = ''\n}) => {\n  const {\n    title = '',\n    subtitle = '',\n    caption = '',\n    valueSuffix = '',\n    valuePrefix = ''\n  } = labels;\n\n  const containerRef = React.useRef<HTMLDivElement>(null);\n\n  React.useEffect(() => {\n    if (!containerRef.current || !usTopoJSON || !data || data.length === 0) return;\n\n    containerRef.current.innerHTML = ''; // Clear any existing content\n\n    // Map state names to values\n    const stateToValueMap = new Map(\n      data.map(({ state, value }) => [state, value])\n    );\n\n    // Extract state features from TopoJSON\n    const states: any = topojson.feature(usTopoJSON, usTopoJSON.objects.states);\n\n    // Attach values to state features\n    for (const state of states.features) {\n      state.properties.value = stateToValueMap.get(state.properties.name);\n    }\n\n    // Format numbers with k suffix for thousands\n    const formatNumberAsK = (value: number) => {\n      if (value >= 1000) {\n        return `${valuePrefix}${(value / 1000).toFixed(1)}k ${valueSuffix}`;\n      } else {\n        return `${valuePrefix}${value}${valueSuffix}`;\n      }\n    };\n\n    // Extract mesh and nation boundaries\n    const statemesh = topojson.mesh(\n      usTopoJSON,\n      usTopoJSON.objects.states,\n      (a: any, b: any) => a !== b\n    ) as any;\n\n    const nation = topojson.feature(\n      usTopoJSON,\n      usTopoJSON.objects.nation\n    ) as any;\n\n    // Create the plot\n    const plot = Plot.plot({\n      caption,\n      projection: projection,\n      color: {\n        type: \"quantile\",\n        n: quantiles,\n        reverse: reverseColors,\n        scheme: colorScheme,\n        legend: true,\n        tickFormat: formatNumberAsK\n      },\n      width,\n      height,\n      marks: [\n        // State fills\n        Plot.geo(states, {\n          fill: (d: any) => d.properties.value\n        }),\n        // State boundaries\n        Plot.geo(statemesh, {\n          strokeWidth: 0.75\n        }),\n        // Nation outline\n        Plot.geo(nation, {\n          strokeWidth: 1.5\n        }),\n        // Interactive tooltips\n        Plot.tip(\n          states.features,\n          Plot.pointer(\n            Plot.centroid({\n              title: (d: any) =>\n                `${d.properties.name}: ${formatNumberAsK(d.properties.value)}`\n            })\n          )\n        )\n      ]\n    });\n\n    containerRef.current.appendChild(plot);\n\n    return () => {\n      plot.remove();\n    };\n  }, [usTopoJSON, data, width, height, title, subtitle, caption, valueSuffix, valuePrefix, colorScheme, quantiles, reverseColors, projection]);\n\n  return <div ref={containerRef} className={className}></div>;\n};\n\nexport default StateMap;\n","'use client';\n\nimport React, { useRef, useEffect } from 'react';\nimport * as Plot from \"@observablehq/plot\";\n\n/**\n * BubbleMap Component\n *\n * A geographic bubble map visualization using Observable Plot.\n * Displays data points as circles on a map, with size encoding values.\n *\n * NOTE: This version requires data with longitude and latitude coordinates.\n * For TopoJSON-based maps, see the geography integration guide.\n *\n * @example\n * ```tsx\n * <BubbleMap\n *   data={[\n *     { lon: -122.4194, lat: 37.7749, value: 850000, name: 'San Francisco' },\n *     { lon: -74.0060, lat: 40.7128, value: 8400000, name: 'New York' }\n *   ]}\n *   longitudeKey=\"lon\"\n *   latitudeKey=\"lat\"\n *   sizeKey=\"value\"\n *   nameKey=\"name\"\n * />\n * ```\n */\n\nexport interface BubbleMapProps {\n  /** Data array with geographic coordinates */\n  data: any[];\n\n  /** Field name for longitude */\n  longitudeKey: string;\n\n  /** Field name for latitude */\n  latitudeKey: string;\n\n  /** Field name for bubble size */\n  sizeKey: string;\n\n  /** Optional field name for bubble color encoding */\n  colorKey?: string;\n\n  /** Optional field name for labels/tooltips */\n  nameKey?: string;\n\n  /** Chart title */\n  title?: string;\n\n  /** Chart subtitle */\n  subtitle?: string;\n\n  /** Bubble fill color (if not using colorKey) */\n  fill?: string;\n\n  /** Bubble fill opacity */\n  fillOpacity?: number;\n\n  /** Bubble stroke color */\n  stroke?: string;\n\n  /** Bubble stroke width */\n  strokeWidth?: number;\n\n  /** Chart width in pixels */\n  width?: number;\n\n  /** Chart height in pixels */\n  height?: number;\n\n  /** Projection type for geographic data */\n  projection?: 'albers-usa' | 'mercator' | 'equal-earth' | 'orthographic';\n\n  /** Additional CSS classes */\n  className?: string;\n}\n\nexport function BubbleMap({\n  data,\n  longitudeKey,\n  latitudeKey,\n  sizeKey,\n  colorKey,\n  nameKey,\n  title,\n  subtitle,\n  fill = '#4682b4',\n  fillOpacity = 0.6,\n  stroke = '#fff',\n  strokeWidth = 1,\n  width = 975,\n  height = 610,\n  projection = 'albers-usa',\n  className = ''\n}: BubbleMapProps) {\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (!containerRef.current || !data || data.length === 0) return;\n\n    // Clear previous plot\n    containerRef.current.innerHTML = '';\n\n    // Transform data for Plot\n    const plotData = data.map(d => ({\n      ...d,\n      longitude: d[longitudeKey],\n      latitude: d[latitudeKey],\n      size: d[sizeKey],\n      ...(colorKey && { color: d[colorKey] }),\n      ...(nameKey && { name: d[nameKey] })\n    }));\n\n    // Build marks\n    const marks: any[] = [\n      // Bubble dots\n      Plot.dot(plotData, {\n        x: 'longitude',\n        y: 'latitude',\n        r: 'size',\n        fill: colorKey ? 'color' : fill,\n        fillOpacity,\n        stroke,\n        strokeWidth,\n        title: nameKey\n          ? d => `${d.name}: ${d.size.toLocaleString()}`\n          : d => d.size.toLocaleString(),\n        tip: true\n      })\n    ];\n\n    // Create the plot\n    const plot = Plot.plot({\n      width,\n      height,\n      title,\n      subtitle,\n      style: {\n        backgroundColor: \"white\",\n        fontFamily: \"sans-serif\",\n      },\n      projection: {\n        type: projection,\n        ...(projection === 'albers-usa' && { domain: { type: 'MultiPoint', coordinates: plotData.map(d => [d.longitude, d.latitude]) } })\n      },\n      marks\n    }) as SVGSVGElement;\n\n    containerRef.current.appendChild(plot);\n\n    return () => {\n      plot?.remove();\n    };\n  }, [data, longitudeKey, latitudeKey, sizeKey, colorKey, nameKey, title, subtitle, fill, fillOpacity, stroke, strokeWidth, width, height, projection]);\n\n  return (\n    <div ref={containerRef} className={className} />\n  );\n}\n\nexport default BubbleMap;\n","'use client';\n\nimport React, { useRef, useEffect } from 'react';\nimport * as Plot from \"@observablehq/plot\";\n\n/**\n * BoxPlot Component\n *\n * A box plot visualization using Observable Plot for showing distributions\n * and identifying outliers across categories.\n *\n * @example\n * ```tsx\n * <BoxPlot\n *   data={[\n *     { category: 'Group A', value: 10 },\n *     { category: 'Group A', value: 15 },\n *     { category: 'Group B', value: 20 }\n *   ]}\n *   x=\"category\"\n *   y=\"value\"\n * />\n * ```\n */\n\nexport interface BoxPlotProps {\n  /**\n   * Data array - should be in \"long\" format with one row per observation.\n   * Each row should have a category field and a value field.\n   */\n  data: any[];\n\n  /** Field name for x-axis (categories) */\n  x: string;\n\n  /** Field name for y-axis (values) */\n  y: string;\n\n  /** Chart title */\n  title?: string;\n\n  /** X-axis label */\n  xLabel?: string;\n\n  /** Y-axis label */\n  yLabel?: string;\n\n  /** Box fill color */\n  fill?: string;\n\n  /** Box fill opacity (0-1) */\n  fillOpacity?: number;\n\n  /** Box stroke color */\n  stroke?: string;\n\n  /** Box stroke width */\n  strokeWidth?: number;\n\n  /** Outlier dot radius */\n  outlierRadius?: number;\n\n  /** Chart width in pixels */\n  width?: number;\n\n  /** Chart height in pixels */\n  height?: number;\n\n  /** Left margin for y-axis labels */\n  marginLeft?: number;\n\n  /** Bottom margin for x-axis labels */\n  marginBottom?: number;\n\n  /** Rotate x-axis labels (degrees) */\n  xTickRotate?: number;\n\n  /** Additional CSS classes */\n  className?: string;\n}\n\nexport function BoxPlot({\n  data,\n  x,\n  y,\n  title,\n  xLabel,\n  yLabel,\n  fill = \"#4682b4\",\n  fillOpacity = 0.4,\n  stroke = \"#2c5f8d\",\n  strokeWidth = 1.5,\n  outlierRadius = 3,\n  width = 800,\n  height = 500,\n  marginLeft = 60,\n  marginBottom = 100,\n  xTickRotate = -45,\n  className = ''\n}: BoxPlotProps) {\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (!containerRef.current || !data || data.length === 0) return;\n\n    // Clear previous plot\n    containerRef.current.innerHTML = '';\n\n    // Create the plot\n    const plot = Plot.plot({\n      width,\n      height,\n      marginLeft,\n      marginBottom,\n      title,\n      style: {\n        backgroundColor: \"white\",\n        fontFamily: \"sans-serif\",\n      },\n      x: {\n        label: xLabel || x,\n        tickRotate: xTickRotate\n      },\n      y: {\n        label: yLabel || y,\n        grid: true\n      },\n      marks: [\n        // Box plot with Observable Plot's built-in boxY mark\n        Plot.boxY(data, {\n          x,\n          y,\n          fill,\n          fillOpacity,\n          stroke,\n          strokeWidth,\n          r: outlierRadius  // Outlier dot radius\n        })\n      ]\n    }) as SVGSVGElement;\n\n    containerRef.current.appendChild(plot);\n\n    return () => {\n      plot?.remove();\n    };\n  }, [data, x, y, title, xLabel, yLabel, fill, fillOpacity, stroke, strokeWidth, outlierRadius, width, height, marginLeft, marginBottom, xTickRotate]);\n\n  return (\n    <div ref={containerRef} className={className} />\n  );\n}\n\nexport default BoxPlot;\n","'use client';\n\nimport * as Plot from \"@observablehq/plot\";\nimport * as React from \"react\";\n\nexport interface SplitBarDataPoint {\n  /** Category label (e.g., state name) */\n  category: string;\n  /** Overall value shown as bar */\n  overall: number;\n  /** Values for subcategories shown as dots */\n  [subCategory: string]: string | number;\n}\n\nexport interface SplitBarProps {\n  /** Array of data points with category, overall, and subcategory values */\n  data: SplitBarDataPoint[];\n\n  /** Names of subcategories to display as dots (exactly 2) */\n  subcategories: [string, string];\n\n  /** Chart width in pixels */\n  width?: number;\n\n  /** Chart height in pixels */\n  height?: number;\n\n  /** Colors for the two subcategories */\n  colors?: [string, string];\n\n  /** Label for the category axis */\n  categoryLabel?: string;\n\n  /** Label for the value axis */\n  valueLabel?: string;\n\n  /** Caption text */\n  caption?: string;\n\n  /** Sort order for categories */\n  sortBy?: 'overall' | 'category' | 'none';\n\n  /** Sort direction */\n  sortDirection?: 'ascending' | 'descending';\n\n  /** Value formatter function */\n  formatValue?: (value: number) => string;\n\n  /** Additional CSS classes */\n  className?: string;\n\n  /** Left margin for category labels */\n  marginLeft?: number;\n\n  /** Show value labels on bars */\n  showValueLabels?: boolean;\n}\n\n/**\n * SplitBar - Bars with contrasting subgroup dots\n *\n * Displays overall values as horizontal bars with subcategory values\n * overlaid as colored dots, useful for comparing subgroups within categories.\n *\n * @example\n * ```tsx\n * <SplitBar\n *   data={[\n *     { category: 'Alabama', overall: 25.5, Male: 23.2, Female: 27.8 },\n *     { category: 'Alaska', overall: 22.1, Male: 20.5, Female: 23.7 }\n *   ]}\n *   subcategories={['Male', 'Female']}\n *   colors={['#e15759', '#59a14f']}\n *   valueLabel=\"Prevalence (%)\"\n * />\n * ```\n */\nexport const SplitBar: React.FC<SplitBarProps> = ({\n  data,\n  subcategories,\n  width = 800,\n  height = 750,\n  colors = ['#e15759', '#59a14f'],\n  categoryLabel = '',\n  valueLabel = '',\n  caption = '',\n  sortBy = 'overall',\n  sortDirection = 'descending',\n  formatValue = (v) => `${v.toFixed(1)}%`,\n  className = '',\n  marginLeft = 150,\n  showValueLabels = true\n}) => {\n  const containerRef = React.useRef<HTMLDivElement>(null);\n\n  React.useEffect(() => {\n    if (!containerRef.current || !data || data.length === 0) return;\n    if (subcategories.length !== 2) {\n      console.error('SplitBar requires exactly 2 subcategories');\n      return;\n    }\n\n    containerRef.current.innerHTML = '';\n\n    // Sort data\n    let sortedData = [...data];\n    if (sortBy === 'overall') {\n      sortedData.sort((a, b) =>\n        sortDirection === 'descending'\n          ? b.overall - a.overall\n          : a.overall - b.overall\n      );\n    } else if (sortBy === 'category') {\n      sortedData.sort((a, b) =>\n        sortDirection === 'descending'\n          ? b.category.localeCompare(a.category)\n          : a.category.localeCompare(b.category)\n      );\n    }\n\n    // Prepare dot data\n    const dotData = sortedData.flatMap((d) =>\n      subcategories.map((subCat) => ({\n        category: d.category,\n        subcategory: subCat,\n        value: typeof d[subCat] === 'number' ? (d[subCat] as number) : null\n      }))\n    ).filter((d) => d.value !== null);\n\n    // Calculate value range\n    const allValues = sortedData.flatMap((d) =>\n      [d.overall, ...subcategories.map((s) => d[s] as number)].filter(\n        (v) => typeof v === 'number'\n      )\n    );\n    const minValue = Math.min(...allValues);\n    const maxValue = Math.max(...allValues);\n\n    const plot = Plot.plot({\n      caption,\n      style: {\n        backgroundColor: 'white',\n        fontFamily: 'sans-serif'\n      },\n      color: {\n        legend: true,\n        domain: subcategories,\n        range: colors\n      },\n      marginLeft,\n      marginRight: 40,\n      marginBottom: 60,\n      width,\n      height,\n      clip: true,\n      y: {\n        label: categoryLabel,\n        domain: sortedData.map((d) => d.category)\n      },\n      x: {\n        label: valueLabel,\n        domain: [minValue, maxValue],\n        grid: true\n      },\n      marks: [\n        // Background bars for overall values\n        Plot.barX(sortedData, {\n          y: 'category',\n          x: 'overall',\n          fill: '#e4e4e4',\n          title: (d) => `Overall: ${formatValue(d.overall)}`\n        }),\n        // Dots for subcategory values\n        Plot.dot(dotData, {\n          y: 'category',\n          x: 'value',\n          fill: 'subcategory',\n          r: 5,\n          tip: true,\n          title: (d) => `${d.subcategory}: ${formatValue(d.value!)}`\n        }),\n        // Value labels on bars\n        ...(showValueLabels\n          ? [\n              Plot.text(sortedData, {\n                y: 'category',\n                x: 'overall',\n                text: (d) => formatValue(d.overall),\n                dx: -25,\n                fill: 'black',\n                fontSize: 9,\n                fontWeight: 'normal',\n                textAnchor: 'start'\n              })\n            ]\n          : []),\n        // Zero reference line\n        Plot.ruleX([minValue])\n      ]\n    });\n\n    containerRef.current.appendChild(plot);\n\n    return () => {\n      plot.remove();\n    };\n  }, [\n    data,\n    subcategories,\n    width,\n    height,\n    colors,\n    categoryLabel,\n    valueLabel,\n    caption,\n    sortBy,\n    sortDirection,\n    formatValue,\n    marginLeft,\n    showValueLabels\n  ]);\n\n  return <div ref={containerRef} className={className}></div>;\n};\n\nexport default SplitBar;\n","'use client';\n\nimport React, { useRef, useEffect } from 'react';\nimport * as Plot from \"@observablehq/plot\";\n\n/**\n * DotPlot Component\n *\n * A simple, reusable dot plot visualization using Observable Plot.\n * Suitable for comparing values across categories or groups.\n *\n * @example\n * ```tsx\n * <DotPlot\n *   data={wages}\n *   x=\"median_wage\"\n *   y=\"gender\"\n *   fill=\"gender\"\n *   title=\"Wage Distribution by Gender\"\n * />\n * ```\n */\n\nexport interface DotPlotProps {\n  /** Data array to visualize */\n  data: any[];\n\n  /** Field name for x-axis (horizontal position) */\n  x: string;\n\n  /** Field name for y-axis (vertical position/category) */\n  y: string;\n\n  /** Optional field name for color encoding */\n  fill?: string;\n\n  /** Chart title */\n  title?: string;\n\n  /** Chart subtitle */\n  subtitle?: string;\n\n  /** X-axis label */\n  xLabel?: string;\n\n  /** Y-axis label */\n  yLabel?: string;\n\n  /** Dot radius in pixels */\n  radius?: number;\n\n  /** Dot fill opacity (0-1) */\n  fillOpacity?: number;\n\n  /** Chart width in pixels */\n  width?: number;\n\n  /** Chart height in pixels */\n  height?: number;\n\n  /** Left margin in pixels (for y-axis labels) */\n  marginLeft?: number;\n\n  /** Custom color scheme */\n  colorScheme?: string[] | Record<string, string>;\n\n  /** Optional format function for tooltips */\n  tipFormat?: (d: any) => string;\n\n  /** Additional CSS classes */\n  className?: string;\n}\n\nexport function DotPlot({\n  data,\n  x,\n  y,\n  fill,\n  title,\n  subtitle,\n  xLabel,\n  yLabel,\n  radius = 4,\n  fillOpacity = 0.7,\n  width = 700,\n  height = 300,\n  marginLeft = 80,\n  colorScheme,\n  tipFormat,\n  className = ''\n}: DotPlotProps) {\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (!containerRef.current || !data || data.length === 0) return;\n\n    // Clear previous plot\n    containerRef.current.innerHTML = '';\n\n    // Build color configuration\n    let colorConfig: any = fill ? { legend: true } : undefined;\n\n    if (fill && colorScheme) {\n      if (Array.isArray(colorScheme)) {\n        colorConfig = { ...colorConfig, range: colorScheme };\n      } else {\n        // Extract domain and range from color scheme object\n        colorConfig = {\n          ...colorConfig,\n          domain: Object.keys(colorScheme),\n          range: Object.values(colorScheme)\n        };\n      }\n    }\n\n    // Create the plot\n    const plot = Plot.plot({\n      title,\n      subtitle,\n      style: {\n        backgroundColor: \"white\",\n        fontFamily: \"sans-serif\",\n      },\n      x: {\n        label: xLabel || x,\n        grid: true\n      },\n      y: {\n        label: yLabel || y\n      },\n      color: colorConfig,\n      marks: [\n        Plot.dot(data, {\n          x,\n          y,\n          fill: fill || \"currentColor\",\n          stroke: \"white\",\n          strokeWidth: 1,\n          r: radius,\n          fillOpacity,\n          title: tipFormat || (d => `${d[y]}: ${d[x]}`),\n          tip: true\n        }),\n        Plot.ruleX([0])\n      ],\n      width,\n      height,\n      marginLeft\n    });\n\n    containerRef.current.appendChild(plot);\n\n    return () => {\n      plot?.remove();\n    };\n  }, [data, x, y, fill, title, subtitle, xLabel, yLabel, radius, fillOpacity, width, height, marginLeft, colorScheme, tipFormat]);\n\n  return (\n    <div ref={containerRef} className={className} />\n  );\n}\n\nexport default DotPlot;\n","'use client';\n\nimport React, { useRef, useEffect } from 'react';\nimport * as Plot from \"@observablehq/plot\";\n\n/**\n * BarChart Component\n *\n * A simple, reusable bar chart visualization using Observable Plot.\n * Suitable for time series data, categorical comparisons, and data with confidence intervals.\n *\n * @example\n * ```tsx\n * <BarChart\n *   data={yearlyData}\n *   x=\"year\"\n *   y=\"value\"\n *   errorY={{ lower: \"ci_lower\", upper: \"ci_upper\" }}\n *   title=\"Support Over Time\"\n * />\n * ```\n */\n\nexport interface BarChartProps {\n  /** Data array to visualize */\n  data: any[];\n\n  /** Field name for x-axis (typically time or category) */\n  x: string;\n\n  /** Field name for y-axis (bar height) */\n  y: string;\n\n  /** Optional error bars configuration */\n  errorY?: {\n    lower: string;\n    upper: string;\n  };\n\n  /** Chart title */\n  title?: string;\n\n  /** Chart subtitle */\n  subtitle?: string;\n\n  /** Chart caption */\n  caption?: string;\n\n  /** X-axis label */\n  xLabel?: string;\n\n  /** Y-axis label */\n  yLabel?: string;\n\n  /** Bar fill color */\n  fill?: string;\n\n  /** Error bar stroke color */\n  errorStroke?: string;\n\n  /** Error bar stroke width */\n  errorStrokeWidth?: number;\n\n  /** Chart width in pixels */\n  width?: number;\n\n  /** Chart height in pixels */\n  height?: number;\n\n  /** Bottom margin in pixels */\n  marginBottom?: number;\n\n  /** Rotate x-axis labels (degrees) */\n  xTickRotate?: number;\n\n  /** Custom tick formatter for x-axis */\n  xTickFormat?: (d: any) => string;\n\n  /** Custom tick values for x-axis */\n  xTicks?: any[];\n\n  /** Additional CSS classes */\n  className?: string;\n}\n\nexport function BarChart({\n  data,\n  x,\n  y,\n  errorY,\n  title,\n  subtitle,\n  caption,\n  xLabel,\n  yLabel,\n  fill = \"#708090\",\n  errorStroke = \"#394E54\",\n  errorStrokeWidth = 2,\n  width = 800,\n  height = 400,\n  marginBottom = 60,\n  xTickRotate = 0,\n  xTickFormat,\n  xTicks,\n  className = ''\n}: BarChartProps) {\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (!containerRef.current || !data || data.length === 0) return;\n\n    // Clear previous plot\n    containerRef.current.innerHTML = '';\n\n    // Build marks array\n    const marks: any[] = [\n      // Main bar chart\n      Plot.barY(data, {\n        x,\n        y,\n        fill\n      })\n    ];\n\n    // Add error bars if provided\n    if (errorY) {\n      marks.push(\n        Plot.ruleX(data, {\n          x,\n          y1: errorY.lower,\n          y2: errorY.upper,\n          stroke: errorStroke,\n          strokeWidth: errorStrokeWidth\n        })\n      );\n    }\n\n    // Create the plot\n    const plot = Plot.plot({\n      width,\n      height,\n      marginBottom,\n      title,\n      subtitle,\n      caption,\n      style: {\n        backgroundColor: \"white\",\n        fontFamily: \"sans-serif\",\n      },\n      x: {\n        label: xLabel || x,\n        tickRotate: xTickRotate,\n        tickFormat: xTickFormat,\n        tickSize: 5,\n        labelOffset: 50,\n        ...(xTicks && { ticks: xTicks })\n      },\n      y: {\n        label: yLabel || y,\n        grid: true\n      },\n      marks\n    }) as SVGSVGElement;\n\n    containerRef.current.appendChild(plot);\n\n    return () => {\n      plot?.remove();\n    };\n  }, [data, x, y, errorY, title, subtitle, caption, xLabel, yLabel, fill, errorStroke, errorStrokeWidth, width, height, marginBottom, xTickRotate, xTickFormat, xTicks]);\n\n  return (\n    <div ref={containerRef} className={className} />\n  );\n}\n\nexport default BarChart;\n","'use client';\n\n\nimport {\n  LineChart,\n  Line,\n  XAxis,\n  YAxis,\n  Tooltip,\n  ResponsiveContainer,\n  ErrorBar,\n  CartesianGrid,\n} from 'recharts';\n\ninterface DataPoint {\n  year: string;\n  value: number;\n  ci_lower?: number;\n  ci_upper?: number;\n  n_actual?: number;\n  standard_error?: number;\n}\n\ninterface DataPointMetadataItem {\n  id: string;\n  name: string;\n  type: string;\n  units?: string;\n  value_prefix?: Record<string, string>;\n  value_suffix?: string;\n  categories?: string[];\n  var_original?: string;\n  label_original?: Record<string, string>;\n}\n\ninterface TimeSeriesMetadata {\n  note?: string;\n  type: string;\n  title: string;\n  subtitle: string;\n  source: {\n    id: string;\n    name: string;\n  };\n  question?: string;\n  years_n?: number;\n  year_min?: number;\n  year_max?: number;\n}\n\ninterface TimeSeriesChartProps {\n  data: DataPoint[];\n  metadata: TimeSeriesMetadata;\n  dataPointMetadata: DataPointMetadataItem[];\n}\n\nexport default function TimeSeriesChart({\n  data,\n  metadata,\n  dataPointMetadata,\n}: TimeSeriesChartProps) {\n  \n\n  // Convert year to a numerical value\n  const numericData = data.map((d) => ({\n    ...d,\n    year: parseInt(d.year, 10), // Convert year to number\n  }));\n\n  // Extract metadata for \"value\" field\n  const valueMetadata = dataPointMetadata.find((d) => d.id === 'value');\n\n \n\n  // Check for duplicate years\n  const dataYears = numericData.map((d) => d.year);\n  const uniqueYears = new Set(dataYears);\n  \n  if (dataYears.length !== uniqueYears.size) {\n    console.warn('Duplicate years found in the data prop!');\n\n    return <div>Error: Duplicate years detected in the dataset.</div>;\n  }\n\n  // Determine min and max years for the domain\n  const minYear = Math.min(...numericData.map((d) => d.year));\n  const maxYear = Math.max(...numericData.map((d) => d.year));\n\n  \n   // Custom tooltip component\n   const CustomTooltip = ({ active, payload, label }: any) => {\n     if (!active || !payload || !payload.length) return null;\n\n     const dataPoint = payload[0].payload;\n\n     return (\n       <div className=\"bg-white p-3 border border-gray-200 shadow-lg rounded-lg\">\n         <p className=\"font-medium\">{`Year: ${label}`}</p>\n         <p className=\"text-blue-600\">\n           {`${valueMetadata?.name}: ${dataPoint.value.toFixed(1)}${valueMetadata?.value_suffix || ''}`}\n         </p>\n         {dataPoint.ci_lower && dataPoint.ci_upper && (\n           <p className=\"text-gray-600 text-sm\">\n             {`95% CI: [${dataPoint.ci_lower.toFixed(1)}, ${dataPoint.ci_upper.toFixed(1)}]${valueMetadata?.value_suffix || ''}`}\n           </p>\n         )}\n         {dataPoint.n_actual && (\n           <p className=\"text-gray-600 text-sm\">\n             {`N: ${dataPoint.n_actual.toLocaleString()}`}\n           </p>\n         )}\n       </div>\n     );\n   };\n\n   return (\n     <div className=\"w-full\">\n       <div className=\"mb-2\">\n         <h2 className=\"text-2xl font-bold mb-1\">{metadata.title}</h2>\n         <p className=\"text-gray-600 mb-2\">{metadata.subtitle}</p>\n       </div>\n\n       <div className=\"w-full h-[400px]\">\n         <ResponsiveContainer width=\"100%\" height=\"100%\">\n         <LineChart\n             data={numericData}\n             margin={{\n               top: 20,\n               right: 30,\n               left: 20,\n               bottom: 20,\n             }}\n           >\n             <CartesianGrid strokeDasharray=\"3 3\" vertical={false} />\n\n             <XAxis\n               dataKey=\"year\"\n               type=\"number\" \n               domain={[minYear , maxYear ]}\n               tickCount={(maxYear - minYear) / 2}\n               tickFormatter={(value) => value.toString()}\n               padding={{ left: 20, right: 20 }}\n               tick={{ fontSize: 12 }}\n             />\n\n             <YAxis\ntickFormatter={(value) => {\n  const metadata = dataPointMetadata.find(d => d.id === 'value');\n\n  const prefix = (typeof metadata?.value_prefix === 'string')\n    ? metadata.value_prefix\n    : '';\n\n  const suffix = (typeof metadata?.value_suffix === 'string')\n    ? metadata.value_suffix\n    : '';\n\n  const num = Number(value);\n\n  let formattedValue: string;\n\n  if (num >= 1_000_000_000) {\n    formattedValue = (num / 1_000_000_000).toFixed(1).replace(/\\.0$/, '') + 'B';\n  } else if (num >= 1_000_000) {\n    formattedValue = (num / 1_000_000).toFixed(1).replace(/\\.0$/, '') + 'M';\n  } else if (num >= 1_000) {\n    formattedValue = (num / 1_000).toFixed(1).replace(/\\.0$/, '') + 'k';\n  } else {\n    formattedValue = num.toLocaleString(); // fallback for smaller numbers\n  }\n\n  return `${prefix}${formattedValue}${suffix}`;\n}}\n\n               domain={['auto', 'auto']} \n               axisLine={false}\n               tickLine={false}\n             />\n\n             {/* Tooltip */}\n             <Tooltip content={<CustomTooltip />} />\n\n             {/* Line for \"value\" */}\n             <Line\n               key=\"value-line\"\n               type=\"linear\"\n               dataKey=\"value\"\n               stroke=\"#000000\"\n               strokeWidth={1.5}\n               dot={{ r: 3, fill: \"#000000\" }} \n               activeDot={{ r: 5 }} \n               isAnimationActive={false} \n             >\n               {/* Error bars for confidence intervals */}\n               <ErrorBar\n                 dataKey={(d: DataPoint) =>\n                   d.standard_error ? (1.96 * d.standard_error) : 0\n                 }\n                 stroke=\"#000000\"\n                 strokeWidth={1}\n                 width={4}\n                 name=\"confidence-intervals\"\n               />\n             </Line>\n           </LineChart>\n         </ResponsiveContainer>\n\n         {/* Source information */}\n         <div className=\"mb-2\">\n         <p className=\"text-sm text-gray-400\">\n           Source: {metadata.source.name}\n         </p>\n         </div>\n\n       </div>\n     </div>\n   );\n}\n","'use client';\n\n\nimport {\n  LineChart,\n  Line,\n  XAxis,\n  YAxis,\n  Tooltip,\n  ResponsiveContainer,\n  ErrorBar,\n  CartesianGrid,\n} from 'recharts';\n\ninterface DataPoint {\n  year: string;\n  value: number;\n  ci_lower?: number;\n  ci_upper?: number;\n  n_actual?: number;\n  standard_error?: number;\n}\n\ninterface DataPointMetadataItem {\n  id: string;\n  name: string;\n  type: string;\n  units?: string;\n  value_prefix?: Record<string, string>;\n  value_suffix?: string;\n  categories?: string[];\n  var_original?: string;\n  label_original?: Record<string, string>;\n}\n\ninterface TimeSeriesMetadata {\n  note?: string;\n  type: string;\n  title: string;\n  subtitle: string;\n  source: {\n    id: string;\n    name: string;\n  };\n  question?: string;\n  years_n?: number;\n  year_min?: number;\n  year_max?: number;\n}\n\ninterface TimeSeriesChartProps {\n  data: DataPoint[];\n  metadata: TimeSeriesMetadata;\n  dataPointMetadata: DataPointMetadataItem[];\n}\n\nexport default function TimeSeriesChart({\n  data,\n  metadata,\n  dataPointMetadata,\n}: TimeSeriesChartProps) {\n  \n\n  // Convert year to a numerical value\n  const numericData = data.map((d) => ({\n    ...d,\n    year: parseInt(d.year, 10), // Convert year to number\n  }));\n\n  // Extract metadata for \"value\" field\n  const valueMetadata = dataPointMetadata.find((d) => d.id === 'value');\n\n \n\n  // Check for duplicate years\n  const dataYears = numericData.map((d) => d.year);\n  const uniqueYears = new Set(dataYears);\n  \n  if (dataYears.length !== uniqueYears.size) {\n    console.warn('Duplicate years found in the data prop!');\n\n    return <div>Error: Duplicate years detected in the dataset.</div>;\n  }\n\n  // Determine min and max years for the domain\n  const minYear = Math.min(...numericData.map((d) => d.year));\n  const maxYear = Math.max(...numericData.map((d) => d.year));\n\n  \n   // Custom tooltip component\n   const CustomTooltip = ({ active, payload, label }: any) => {\n     if (!active || !payload || !payload.length) return null;\n\n     const dataPoint = payload[0].payload;\n\n     return (\n       <div className=\"bg-white p-3 border border-gray-200 shadow-lg rounded-lg\">\n         <p className=\"font-medium\">{`Year: ${label}`}</p>\n         <p className=\"text-blue-600\">\n           {`${valueMetadata?.name}: ${dataPoint.value.toFixed(1)}${valueMetadata?.value_suffix || ''}`}\n         </p>\n         {dataPoint.ci_lower && dataPoint.ci_upper && (\n           <p className=\"text-gray-600 text-sm\">\n             {`95% CI: [${dataPoint.ci_lower.toFixed(1)}, ${dataPoint.ci_upper.toFixed(1)}]${valueMetadata?.value_suffix || ''}`}\n           </p>\n         )}\n         {dataPoint.n_actual && (\n           <p className=\"text-gray-600 text-sm\">\n             {`N: ${dataPoint.n_actual.toLocaleString()}`}\n           </p>\n         )}\n       </div>\n     );\n   };\n\n   return (\n     <div className=\"w-full\">\n       <div className=\"mb-2\">\n         <h2 className=\"text-2xl font-bold mb-1\">{metadata.title}</h2>\n         <p className=\"text-gray-600 mb-2\">{metadata.subtitle}</p>\n       </div>\n\n       <div className=\"w-full h-[400px]\">\n         <ResponsiveContainer width=\"100%\" height=\"100%\">\n         <LineChart\n             data={numericData}\n             margin={{\n               top: 20,\n               right: 30,\n               left: 20,\n               bottom: 20,\n             }}\n           >\n             <CartesianGrid strokeDasharray=\"3 3\" vertical={false} />\n\n             <XAxis\n               dataKey=\"year\"\n               type=\"number\" \n               domain={[minYear , maxYear ]}\n               tickCount={(maxYear - minYear) / 2}\n               tickFormatter={(value) => value.toString()}\n               padding={{ left: 20, right: 20 }}\n               tick={{ fontSize: 12 }}\n             />\n\n             <YAxis\ntickFormatter={(value) => {\n  const metadata = dataPointMetadata.find(d => d.id === 'value');\n\n  const prefix = (typeof metadata?.value_prefix === 'string')\n    ? metadata.value_prefix\n    : '';\n\n  const suffix = (typeof metadata?.value_suffix === 'string')\n    ? metadata.value_suffix\n    : '';\n\n  const num = Number(value);\n\n  let formattedValue: string;\n\n  if (num >= 1_000_000_000) {\n    formattedValue = (num / 1_000_000_000).toFixed(1).replace(/\\.0$/, '') + 'B';\n  } else if (num >= 1_000_000) {\n    formattedValue = (num / 1_000_000).toFixed(1).replace(/\\.0$/, '') + 'M';\n  } else if (num >= 1_000) {\n    formattedValue = (num / 1_000).toFixed(1).replace(/\\.0$/, '') + 'k';\n  } else {\n    formattedValue = num.toLocaleString(); // fallback for smaller numbers\n  }\n\n  return `${prefix}${formattedValue}${suffix}`;\n}}\n\n               domain={['auto', 'auto']} \n               axisLine={false}\n               tickLine={false}\n             />\n\n             {/* Tooltip */}\n             <Tooltip content={<CustomTooltip />} />\n\n             {/* Line for \"value\" */}\n             <Line\n               key=\"value-line\"\n               type=\"linear\"\n               dataKey=\"value\"\n               stroke=\"#000000\"\n               strokeWidth={1.5}\n               dot={{ r: 3, fill: \"#000000\" }} \n               activeDot={{ r: 5 }} \n               isAnimationActive={false} \n             >\n               {/* Error bars for confidence intervals */}\n               <ErrorBar\n                 dataKey={(d: DataPoint) =>\n                   d.standard_error ? (1.96 * d.standard_error) : 0\n                 }\n                 stroke=\"#000000\"\n                 strokeWidth={1}\n                 width={4}\n                 name=\"confidence-intervals\"\n               />\n             </Line>\n           </LineChart>\n         </ResponsiveContainer>\n\n         {/* Source information */}\n         <div className=\"mb-2\">\n         <p className=\"text-sm text-gray-400\">\n           Source: {metadata.source.name}\n         </p>\n         </div>\n\n       </div>\n     </div>\n   );\n}\n","\"use client\";\n\nimport React, { useState } from \"react\";\nimport {\n  BarChart,\n  Bar,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  Legend,\n  ResponsiveContainer,\n  ErrorBar,\n  Cell,\n} from \"recharts\";\n\ninterface DataPoint {\n  Race: string;\n  value: number;\n  ci_lower: number;\n  ci_upper: number;\n  n_actual: number;\n  Education: string;\n  Census_Region: string;\n  standard_error: number;\n}\n\ninterface Metadata {\n  note: string;\n  type: string;\n  title: string;\n  source: {\n    id: string;\n    name: string;\n  };\n  question: string;\n  subtitle: string;\n}\n\ninterface DataPointMetadata {\n  id: string;\n  name: string;\n  type: string;\n  categories?: string[];\n  units?: string;\n  value_suffix?: string;\n  value_prefix?: string;\n}\n\ninterface ChartData {\n  metadata: Metadata;\n  dataPoints: DataPoint[];\n  dataPointMetadata: DataPointMetadata[];\n}\n\ninterface Props {\n  data: ChartData;\n}\n\nexport default function AbortionOpinionChart({ data }: Props) {\n  const [selectedRegion, setSelectedRegion] = useState<string>(\"All\");\n  const [selectedEducation, setSelectedEducation] = useState<string>(\"All\");\n\n  const { metadata, dataPoints, dataPointMetadata } = data;\n\n  // Extract categories from metadata\n  const regions = [\"All\", ...(dataPointMetadata.find(d => d.id === \"Census_Region\")?.categories || [])];\n  const educationLevels = [\"All\", ...(dataPointMetadata.find(d => d.id === \"Education\")?.categories || [])];\n  const races = dataPointMetadata.find(d => d.id === \"Race\")?.categories || [];\n\n  // Filter data based on selections\n  const filteredData = dataPoints.filter(point => {\n    const regionMatch = selectedRegion === \"All\" || point.Census_Region === selectedRegion;\n    const educationMatch = selectedEducation === \"All\" || point.Education === selectedEducation;\n    return regionMatch && educationMatch;\n  });\n\n  // Group data by region and education for visualization\n  const groupedData = React.useMemo(() => {\n    const groups: { [key: string]: any } = {};\n\n    filteredData.forEach(point => {\n      const key = `${point.Census_Region} - ${point.Education}`;\n      if (!groups[key]) {\n        groups[key] = {\n          name: key,\n          region: point.Census_Region,\n          education: point.Education,\n        };\n      }\n      groups[key][`${point.Race}`] = point.value;\n      groups[key][`${point.Race}_error`] = point.standard_error * 1.96; // 95% CI\n      groups[key][`${point.Race}_ci_lower`] = point.ci_lower;\n      groups[key][`${point.Race}_ci_upper`] = point.ci_upper;\n      groups[key][`${point.Race}_n`] = point.n_actual;\n    });\n\n    return Object.values(groups).sort((a, b) => {\n      // Sort by region first, then education\n      if (a.region !== b.region) {\n        return regions.indexOf(a.region) - regions.indexOf(b.region);\n      }\n      return educationLevels.indexOf(a.education) - educationLevels.indexOf(b.education);\n    });\n  }, [filteredData, regions, educationLevels]);\n\n  const CustomTooltip = ({ active, payload, label }: any) => {\n    if (!active || !payload?.length) return null;\n\n    const data = payload[0]?.payload;\n\n    return (\n      <div className=\"bg-white p-4 border border-gray-300 shadow-lg rounded-lg\">\n        <p className=\"font-semibold mb-2 text-sm\">{label}</p>\n        <div className=\"space-y-1\">\n          {races.map((race) => {\n            const value = data[race];\n            const ciLower = data[`${race}_ci_lower`];\n            const ciUpper = data[`${race}_ci_upper`];\n            const n = data[`${race}_n`];\n\n            if (value === undefined) return null;\n\n            return (\n              <div key={race} className=\"text-sm\">\n                <span className=\"font-medium\">{race}:</span>{\" \"}\n                <span className=\"font-semibold\">{value.toFixed(1)}%</span>\n                <div className=\"text-xs text-gray-600 ml-2\">\n                  95% CI: [{ciLower.toFixed(1)}%, {ciUpper.toFixed(1)}%]\n                </div>\n                <div className=\"text-xs text-gray-500 ml-2\">n = {n}</div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    );\n  };\n\n  const colors = {\n    White: \"#374151\",\n    Black: \"#9CA3AF\",\n  };\n\n  return (\n    <div className=\"w-full space-y-4\">\n      {/* Title and subtitle */}\n      <div className=\"space-y-2\">\n        <h2 className=\"text-2xl font-bold\">{metadata.title}</h2>\n        <p className=\"text-sm text-gray-600\">{metadata.subtitle}</p>\n        <p className=\"text-xs text-gray-500 italic\">{metadata.question}</p>\n      </div>\n\n      {/* Filters */}\n      <div className=\"flex gap-4 items-center flex-wrap\">\n        <div className=\"flex items-center gap-2\">\n          <label htmlFor=\"region\" className=\"text-sm font-medium\">\n            Region:\n          </label>\n          <select\n            id=\"region\"\n            value={selectedRegion}\n            onChange={(e) => setSelectedRegion(e.target.value)}\n            className=\"border border-gray-300 rounded px-3 py-1 text-sm\"\n          >\n            {regions.map((region) => (\n              <option key={region} value={region}>\n                {region}\n              </option>\n            ))}\n          </select>\n        </div>\n\n        <div className=\"flex items-center gap-2\">\n          <label htmlFor=\"education\" className=\"text-sm font-medium\">\n            Education:\n          </label>\n          <select\n            id=\"education\"\n            value={selectedEducation}\n            onChange={(e) => setSelectedEducation(e.target.value)}\n            className=\"border border-gray-300 rounded px-3 py-1 text-sm\"\n          >\n            {educationLevels.map((level) => (\n              <option key={level} value={level}>\n                {level}\n              </option>\n            ))}\n          </select>\n        </div>\n      </div>\n\n      {/* Chart */}\n      <div className=\"w-full\" style={{ height: Math.max(400, groupedData.length * 40) }}>\n        <ResponsiveContainer width=\"100%\" height=\"100%\">\n          <BarChart\n            data={groupedData}\n            layout=\"vertical\"\n            margin={{ top: 20, right: 30, left: 200, bottom: 20 }}\n          >\n            <CartesianGrid strokeDasharray=\"3 3\" horizontal={false} />\n            <XAxis\n              type=\"number\"\n              domain={[0, 100]}\n              tickFormatter={(value) => `${value}%`}\n              label={{ value: \"Support for Legal Abortion (%)\", position: \"bottom\", offset: 0 }}\n            />\n            <YAxis\n              dataKey=\"name\"\n              type=\"category\"\n              width={190}\n              tick={{ fontSize: 11 }}\n            />\n            <Tooltip content={<CustomTooltip />} />\n            <Legend />\n\n            {races.map((race) => (\n              <Bar\n                key={race}\n                dataKey={race}\n                fill={colors[race as keyof typeof colors] || \"#6B7280\"}\n                name={race}\n                isAnimationActive={false}\n              >\n                <ErrorBar\n                  dataKey={`${race}_error`}\n                  stroke=\"#000000\"\n                  strokeWidth={1}\n                  width={4}\n                />\n              </Bar>\n            ))}\n          </BarChart>\n        </ResponsiveContainer>\n      </div>\n\n      {/* Source and notes */}\n      <div className=\"text-xs text-gray-500 space-y-1 mt-4 border-t pt-4\">\n        <p>\n          <strong>Source:</strong> {metadata.source.name}\n        </p>\n        <p>\n          <strong>Note:</strong> {metadata.note}\n        </p>\n      </div>\n    </div>\n  );\n}\n","'use client';\n\nimport React from 'react';\nimport {\n  Bar,\n  BarChart as RechartsBarChart,\n  CartesianGrid,\n  XAxis,\n  YAxis,\n  Tooltip,\n  ErrorBar,\n  ResponsiveContainer\n} from 'recharts';\n\n/**\n * DemographicBarChart Component\n *\n * A Recharts-based bar chart for displaying demographic data with error bars.\n * Suitable for showing distributions across demographic categories with confidence intervals.\n *\n * @example\n * ```tsx\n * <DemographicBarChart\n *   data={[\n *     { category: '18-24', value: 45.2, errorLow: 2.1, errorHigh: 2.3 },\n *     { category: '25-34', value: 52.1, errorLow: 1.8, errorHigh: 1.9 }\n *   ]}\n *   categoryKey=\"category\"\n *   valueKey=\"value\"\n *   errorLowKey=\"errorLow\"\n *   errorHighKey=\"errorHigh\"\n * />\n * ```\n */\n\nexport interface DemographicBarChartProps {\n  /** Data array to visualize */\n  data: any[];\n\n  /** Field name for category labels (x-axis) */\n  categoryKey: string;\n\n  /** Field name for bar height values (y-axis) */\n  valueKey: string;\n\n  /** Field name for lower error values */\n  errorLowKey?: string;\n\n  /** Field name for upper error values */\n  errorHighKey?: string;\n\n  /** Chart title */\n  title?: string;\n\n  /** X-axis label */\n  xLabel?: string;\n\n  /** Y-axis label */\n  yLabel?: string;\n\n  /** Bar fill color */\n  fill?: string;\n\n  /** Error bar stroke color */\n  errorStroke?: string;\n\n  /** Error bar stroke width */\n  errorStrokeWidth?: number;\n\n  /** Chart width (default: responsive) */\n  width?: number | string;\n\n  /** Chart height in pixels */\n  height?: number;\n\n  /** Rotate x-axis labels (degrees) */\n  xTickRotate?: number;\n\n  /** X-axis tick font size */\n  xTickFontSize?: number;\n\n  /** Show grid lines */\n  showGrid?: boolean;\n\n  /** Additional CSS classes */\n  className?: string;\n}\n\nexport function DemographicBarChart({\n  data,\n  categoryKey,\n  valueKey,\n  errorLowKey,\n  errorHighKey,\n  title,\n  xLabel,\n  yLabel = 'Value (%)',\n  fill = '#8884d8',\n  errorStroke = '#666',\n  errorStrokeWidth = 2,\n  width = '100%',\n  height = 400,\n  xTickRotate = -45,\n  xTickFontSize = 10,\n  showGrid = true,\n  className = ''\n}: DemographicBarChartProps) {\n  if (!data || data.length === 0) {\n    return (\n      <div className={`p-6 text-center text-gray-500 ${className}`}>\n        No demographic data available\n      </div>\n    );\n  }\n\n  // Transform error data if provided as absolute values\n  const transformedData = data.map(item => {\n    const transformed: any = { ...item };\n\n    // If error keys are provided, create error array for ErrorBar\n    if (errorLowKey && errorHighKey) {\n      transformed.error = [item[errorLowKey], item[errorHighKey]];\n    }\n\n    return transformed;\n  });\n\n  return (\n    <div className={className}>\n      {title && <h3 className=\"text-lg font-semibold mb-4 text-center\">{title}</h3>}\n      <ResponsiveContainer width={width} height={height}>\n        <RechartsBarChart\n          data={transformedData}\n          margin={{ top: 20, right: 30, left: 20, bottom: 80 }}\n        >\n          {showGrid && <CartesianGrid strokeDasharray=\"3 3\" />}\n\n          <XAxis\n            dataKey={categoryKey}\n            label={xLabel ? { value: xLabel, position: 'insideBottom', offset: -70 } : undefined}\n            interval={0}\n            angle={xTickRotate}\n            textAnchor=\"end\"\n            height={100}\n            tick={{ fontSize: xTickFontSize }}\n          />\n\n          <YAxis\n            label={yLabel ? { value: yLabel, angle: -90, position: 'insideLeft' } : undefined}\n          />\n\n          <Tooltip />\n\n          <Bar dataKey={valueKey} fill={fill}>\n            {errorLowKey && errorHighKey && (\n              <ErrorBar\n                dataKey=\"error\"\n                stroke={errorStroke}\n                strokeWidth={errorStrokeWidth}\n              />\n            )}\n          </Bar>\n        </RechartsBarChart>\n      </ResponsiveContainer>\n    </div>\n  );\n}\n\nexport default DemographicBarChart;\n","import React from \"react\";\nimport {\n  ResponsiveContainer,\n  ComposedChart,\n  CartesianGrid,\n  XAxis,\n  YAxis,\n  Tooltip,\n  Scatter,\n  ZAxis,\n  ReferenceLine,\n  Area,\n  Line,\n} from \"recharts\";\n\n/** -----------------------------------------------------------\n *  Stats helpers (OLS, Pearson r, band)\n *  --------------------------------------------------------- */\nexport type XY = { x: number; y: number };\n\nexport function pearsonR(points: XY[]) {\n  const n = points.length;\n  if (n < 2) return NaN;\n  let sx = 0, sy = 0, sxx = 0, syy = 0, sxy = 0;\n  for (const { x, y } of points) {\n    sx += x; sy += y; sxx += x * x; syy += y * y; sxy += x * y;\n  }\n  const cov = sxy - (sx * sy) / n;\n  const vx = sxx - (sx * sx) / n;\n  const vy = syy - (sy * sy) / n;\n  if (vx <= 0 || vy <= 0) return NaN;\n  return cov / Math.sqrt(vx * vy);\n}\n\nexport function ols(points: XY[]) {\n  const n = points.length;\n  if (n < 2) return { b0: 0, b1: 0, se: NaN, xbar: NaN, sxx: NaN };\n\n  let sx = 0, sy = 0, sxx = 0, sxy = 0;\n  for (const { x, y } of points) {\n    sx += x; sy += y; sxx += x * x; sxy += x * y;\n  }\n  const denom = n * sxx - sx * sx;\n  const b1 = denom === 0 ? 0 : (n * sxy - sx * sy) / denom;\n  const b0 = (sy - b1 * sx) / n;\n\n  // Residual standard error (unbiased, n-2 df)\n  const sse = points.reduce((acc, p) => {\n    const yhat = b0 + b1 * p.x;\n    return acc + (p.y - yhat) ** 2;\n  }, 0);\n  const se = Math.sqrt(sse / Math.max(1, n - 2));\n\n  const xbar = sx / n;\n  const sxxCentered = points.reduce((a, p) => a + (p.x - xbar) ** 2, 0);\n\n  return { b0, b1, se, xbar, sxx: sxxCentered };\n}\n\n/** Build regression line and a 95% confidence band for the fitted mean. */\nfunction lineAndBand(points: XY[], xMin: number, xMax: number, steps = 120) {\n  const { b0, b1, se, xbar, sxx } = ols(points);\n  const xs: number[] = [];\n  for (let i = 0; i <= steps; i++) xs.push(xMin + (i * (xMax - xMin)) / steps);\n\n  // t* for ~95% CI with large-ish df (n-2). Keep it simple & robust.\n  const t = 2.0;\n\n  const rows = xs.map((x) => {\n    const y = b0 + b1 * x;\n    // SE of fitted mean y(x):  se * sqrt( 1/n + (x - x)^2 / Sxx )\n    const seFit =\n      isFinite(se) && isFinite(sxx) && sxx > 0 && points.length > 0\n        ? se * Math.sqrt(1 / points.length + ((x - xbar) ** 2) / sxx)\n        : NaN;\n    const yLow = isFinite(seFit) ? y - t * seFit : y;\n    const yHigh = isFinite(seFit) ? y + t * seFit : y;\n    return { x, y, band: [yLow, yHigh] as [number, number] };\n  });\n\n  return { line: rows.map(({ x, y }) => ({ x, y })), band: rows };\n}\n\n/** -----------------------------------------------------------\n *  Data prep\n *  --------------------------------------------------------- */\n\ntype RegionKey = \"Catholic\" | \"Protestant\" | \"Orthodox\" | \"Muslim\" | \"Other\";\n\nconst REGION_COLORS: Record<RegionKey, string> = {\n  Catholic: \"#facc15\",    // gold\n  Protestant: \"#52525b\",  // zinc-600\n  Orthodox: \"#3b82f6\",    // blue-500\n  Muslim: \"#ef4444\",      // red-500\n  Other: \"#22c55e\",       // green-500\n};\n\nfunction normalizeReligion(s: string | undefined): RegionKey {\n  const v = (s || \"\").toLowerCase();\n  if (v.includes(\"catholic\")) return \"Catholic\";\n  if (v.includes(\"protestant\")) return \"Protestant\";\n  if (v.includes(\"orthodox\")) return \"Orthodox\";\n  if (v.includes(\"muslim\") || v.includes(\"islam\")) return \"Muslim\";\n  return \"Other\";\n}\n\nexport type EssRow = {\n  cntry: string;\n  iso3?: string;\n  religion?: string;            // e.g., \"Roman Catholic\"\n  population?: number;          // millions\n  hdi?: number;                 // 01\n  gdp?: number;                 // PPP$ 2011\n  education?: number;           // mean years\n  [k: string]: any;             // possible \"happiness\" key\n};\n\nexport type CountryDatum = {\n  name: string;\n  region: RegionKey;\n  religion: string;\n  population_m: number;\n  happiness: number;            // 010\n  hdi?: number;\n  gdp?: number;\n  education?: number;\n};\n\nexport function prepareEssRows(\n  rows: EssRow[],\n  opts: { happinessKey?: string } = {}\n): CountryDatum[] {\n  const { happinessKey = \"happiness\" } = opts;\n\n  return rows.map((r) => {\n    const region = normalizeReligion(r.religion);\n    const happiness = Number(r[happinessKey]); // you control which column is passed in\n    return {\n      name: r.cntry,\n      religion: r.religion || region,\n      region,\n      population_m: Number(r.population ?? 0),\n      happiness: isFinite(happiness) ? happiness : NaN,\n      hdi: Number(r.hdi),\n      gdp: Number(r.gdp),\n      education: Number(r.education),\n    };\n  });\n}\n\n/** -----------------------------------------------------------\n *  UI helpers\n *  --------------------------------------------------------- */\n\nfunction fmtGDP(v: number) {\n  if (!isFinite(v)) return \"\";\n  if (Math.abs(v) >= 1000) return `${Math.round(v / 1000)}k`;\n  return `${v}`;\n}\nfunction fmtMillions(v: number) {\n  if (!isFinite(v)) return \"\";\n  // keep 1 decimal for < 10M else integer-ish\n  return v < 10 ? `${v.toFixed(1)} Million` : `${Math.round(v)} Million`;\n}\n\nconst BubbleTooltip = ({ active, payload, label, xLabel, xFmt }: any) => {\n  if (!active || !payload || !payload.length) return null;\n  const d = payload[0].payload;\n\n  return (\n    <div className=\"relative max-w-xs rounded-xl bg-white/95 p-3 shadow-xl ring-1 ring-black/5\">\n      {/* little pointer */}\n      <div\n        className=\"absolute -bottom-2 left-1/2 h-3 w-3 -translate-x-1/2 rotate-45 rounded-sm bg-white ring-1 ring-black/5\"\n        aria-hidden\n      />\n      <div className=\"text-base font-semibold\">{d.name}</div>\n      <div className=\"mt-1 text-sm leading-5\">\n        <div>\n          <span className=\"font-semibold\">{xLabel}:</span>{\" \"}\n          {xFmt ? xFmt(d.x) : d.x}\n        </div>\n        <div>\n          <span className=\"font-semibold\">Average Happiness:</span>{\" \"}\n          {isFinite(d.y) ? Number(d.y).toFixed(2) : \"\"}\n        </div>\n        {isFinite(d.population_m) && (\n          <div>\n            <span className=\"font-semibold\">Population:</span>{\" \"}\n            {fmtMillions(d.population_m)}\n          </div>\n        )}\n        <div className=\"flex items-center gap-1\">\n          <span className=\"font-semibold\">Religion:</span>\n          <span\n            className=\"inline-block h-2.5 w-2.5 rounded-full\"\n            style={{ background: d.fill }}\n          />\n          <span>{d.religion}</span>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n/** -----------------------------------------------------------\n *  Section (single chart)\n *  --------------------------------------------------------- */\n\ntype SectionProps = {\n  title: string;\n  xKey: keyof CountryDatum;           // 'hdi' | 'gdp' | 'education'\n  xLabel: string;\n  xDomain: [number, number];\n  xTickFmt?: (v: number) => string;\n  data: CountryDatum[];\n};\n\nfunction Section({ title, xKey, xLabel, xDomain, xTickFmt, data }: SectionProps) {\n  // Debug happiness values\n  if (title.includes(\"Human Development\") && data.length > 0) {\n    console.log(`${title} - Sample happiness values:`,\n      data.slice(0, 5).map(d => `${d.name}: ${d.happiness}`)\n    );\n  }\n\n  // Filter & project to points\n  const points: XY[] = data\n    .filter((d) => Number.isFinite(d[xKey] as number) && Number.isFinite(d.happiness))\n    .map((d) => ({ x: Number(d[xKey] as number), y: Number(d.happiness) }));\n\n  const r = pearsonR(points);\n  const [xMin, xMax] = xDomain;\n  const { line, band } = lineAndBand(points, xMin, xMax, 100);\n\n  // Recharts expects each scatter row to carry x/y/z + your other fields\n  const scatterData = data.map((d) => {\n    const x = Number(d[xKey] as number);\n    const y = Number(d.happiness);\n    return {\n      ...d,\n      x,\n      y,\n      // bubble area ~ sqrt(pop) -> visually closer to population without extreme skew\n      z: isFinite(d.population_m) ? Math.max(24, Math.sqrt(d.population_m) * 4) : 24,\n      fill: REGION_COLORS[d.region] || \"#8884d8\",\n    };\n  });\n\n  return (\n    <div className=\"flex flex-col\">\n      <div className=\"mb-1 text-lg md:text-xl font-semibold\">{title}</div>\n      <div className=\"h-[340px] w-full\">\n        <ResponsiveContainer>\n          <ComposedChart margin={{ top: 8, right: 18, bottom: 8, left: 8 }}>\n            <CartesianGrid strokeDasharray=\"3 3\" />\n            <XAxis\n              type=\"number\"\n              dataKey=\"x\"\n              domain={xDomain}\n              tickFormatter={xTickFmt}\n              label={{ value: xLabel, position: \"insideBottom\", offset: -2 }}\n            />\n            <YAxis\n              type=\"number\"\n              domain={['dataMin - 0.5', 'dataMax + 0.5']}\n              label={{ value: \"Average Happiness\", angle: -90, position: \"insideLeft\" }}\n            />\n            <ZAxis dataKey=\"z\" range={[50, 240]} />\n\n            {/* Confidence band (as in BandedChart) */}\n            <Area\n              type=\"monotone\"\n              data={band}\n              dataKey=\"band\"                                    // [low, high]\n              stroke=\"none\"\n              fill=\"#94a3b8\"                                   // slate-400\n              fillOpacity={0.22}\n              isAnimationActive={false}\n            />\n\n            {/* Line of best fit */}\n            <Line\n              type=\"monotone\"\n              data={line}\n              dataKey=\"y\"\n              dot={false}\n              stroke=\"#475569\"                                  // slate-600\n              strokeWidth={2}\n              isAnimationActive={false}\n            />\n\n            {/* A light guide at 7 like the mock */}\n            <ReferenceLine y={7} stroke=\"#cbd5e1\" strokeDasharray=\"4 4\" />\n\n            {/* Bubbles */}\n            <Scatter\n              data={scatterData}\n              dataKey=\"y\"\n              shape={(props: any) => {\n                const { cx, cy, payload, size } = props;\n                // Recharts passes 'size' scaled by <ZAxis range>; treat it as area.\n                const r = Math.sqrt(Math.max(0, size) / Math.PI);\n                return (\n                  <circle\n                    cx={cx}\n                    cy={cy}\n                    r={r}\n                    fill={payload.fill}\n                    fillOpacity={0.9}\n                    stroke=\"#334155\"\n                    strokeOpacity={0.35}\n                  />\n                );\n              }}\n            />\n\n            <Tooltip\n              cursor={{ strokeDasharray: \"3 3\" }}\n              content={\n                // We pass the axis label and formatter so the tooltip can render the x-value correctly.\n                <BubbleTooltip xLabel={xLabel} xFmt={xTickFmt} /> as any\n              }\n              wrapperStyle={{ outline: \"none\" }}\n            />\n          </ComposedChart>\n        </ResponsiveContainer>\n      </div>\n      <div className=\"mt-1 text-xs text-violet-700\">\n        Correlation: {isFinite(r) ? r.toFixed(2) : \"\"}\n      </div>\n    </div>\n  );\n}\n\n/** -----------------------------------------------------------\n *  Legend\n *  --------------------------------------------------------- */\nfunction RegionLegend() {\n  const items = (Object.keys(REGION_COLORS) as RegionKey[]).map((k) => [k, REGION_COLORS[k]] as const);\n  return (\n    <div className=\"flex flex-wrap items-center gap-3 text-sm\">\n      {items.map(([label, color]) => (\n        <div key={label} className=\"flex items-center gap-1\">\n          <span className=\"inline-block h-3 w-3 rounded-full\" style={{ background: color }} />\n          <span>{label}</span>\n        </div>\n      ))}\n    </div>\n  );\n}\n\n/** -----------------------------------------------------------\n *  Main panel\n *  --------------------------------------------------------- */\n\ntype PanelProps = { data: CountryDatum[] };\n\n/**\n * Expect `data` shaped like `CountryDatum[]`.\n * If you're piping raw rows from the attached Excel, call `prepareEssRows(rows, { happinessKey: 'happiness' })`\n * where `happiness` is the column in your prepared dataset that contains 010 averages.\n */\nexport default function HappinessCorrelatesPanel({ data }: PanelProps) {\n  const dataset = data ?? [];\n\n  return (\n    <div className=\"w-full p-4 md:p-6\">\n      <div className=\"grid items-start gap-8 md:grid-cols-3\">\n        <Section\n          title=\"Human Development Index\"\n          xKey=\"hdi\"\n          xLabel=\"HDI\"\n          xDomain={[0.5, 1.0]}\n          data={dataset}\n        />\n        <Section\n          title=\"GDP per capita (2011 PPP$)\"\n          xKey=\"gdp\"\n          xLabel=\"GDP per capita (2011 PPP$)\"\n          xDomain={[3000, 55000]}\n          xTickFmt={fmtGDP}\n          data={dataset}\n        />\n        <Section\n          title=\"Mean Year of Schooling\"\n          xKey=\"education\"\n          xLabel=\"Mean Years of Schooling\"\n          xDomain={[8, 14]}\n          data={dataset}\n        />\n      </div>\n\n      <div className=\"mt-5\">\n        <RegionLegend />\n      </div>\n    </div>\n  );\n}\n"]}